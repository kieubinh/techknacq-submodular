{
  "info": {
    "authors": [
      "Yvette Graham"
    ],
    "book": "Workshop on Statistical Machine Translation",
    "id": "acl-W13-2259",
    "title": "A Dependency-Constrained Hierarchical Model with Moses",
    "url": "https://aclweb.org/anthology/W13-2259",
    "year": 2013
  },
  "references": [
    "acl-C08-1144",
    "acl-C10-1056",
    "acl-D07-1103",
    "acl-D11-1020",
    "acl-D11-1079",
    "acl-J10-4005",
    "acl-N04-1035",
    "acl-N07-1050",
    "acl-P03-1021",
    "acl-P05-1033",
    "acl-P06-1121",
    "acl-P07-2045",
    "acl-P09-1087",
    "acl-P09-2060",
    "acl-P12-2057",
    "acl-W04-3250",
    "acl-W06-3119",
    "acl-W10-1749",
    "acl-W12-3128",
    "acl-W12-3150",
    "acl-W99-0604"
  ],
  "sections": [
    {
      "heading": "Abstract",
      "text": [
        "This paper presents a dependency-constrained hierarchical machine translation model that uses Moses open-source toolkit for rule extraction and decoding.",
        "Experiments are carried out for the German-English language pair in both directions for projective and non-projective dependencies.",
        "We examine effects on SCFG size and automatic evaluation results when constraints are applied with respect to projective or non-projective dependency structures and on the source or target language side."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "A fundamental element of natural language syntax is the dependency structure encoding the binary asymmetric head-dependent relations captured in dependency grammar theory.",
        "A main criteria for determining the dependency structure of a given sentence is the following: The linear position of dependent, D, is specified with reference to its head, H (Ku?bler et al., 2009).",
        "This runs in parallel with that which hierarchical machine translation SCFG rules encode: The linear position of a translated phrase, Xi, is specified with reference to the lexicalised words in the rule.",
        "Figure 1 shows de-She lives in a white house .",
        "Ella vive en una casa blanca .",
        "pendency structures for She lives in a white house and its Spanish translation, with example SCFG (1) X ?< white house , casa blanca > (2) X ?< white , blanca > (3) X ?< house , casa > (4) X ?< X0 house , casa X0 > (5) X ?< white X0 , X0 blanca >",
        "chical rules (4) and (5) rules shown in Figure 2.",
        "Given the existence of initial rules (1), (2) and (3), hierarchical rules (4) and (5) can be created.",
        "Rule (4) specifies the linear position of the translation of the English phrase that precedes house with reference to lexicalised casa.",
        "For hierarchical machine translation models (Chiang, 2005), there is no requirement for a syntactic relationship to exist between the lexicalised words of a rule and the words replaced by non-terminals, the only requirement being that substituted words form an SMT phrase (Koehn et al., 2003).",
        "The dependency structure of either the source or target (or indeed both) can, however, be used to constrain rule extraction as to only allow hierarchical rules in which the linear position of dependents are specified with reference to the position of their lexicalised heads.",
        "For example, in the case of the hierarchical rules in Figure 2, rule (4) satisfies such a constraint according to both the source and target language dependency structures (since white is the dependent of house and blanca is the dependent of casa, and it is both white and blanca that are replaced by non-terminals while the heads remain lexicalised) and results in a synchronous grammar rule that positions a dependent relative to the position of its lexicalised head.",
        "Rule (5), on the other hand, does not satisfy such a constraint for either language dependency structure.",
        "In this work, we examine a dependency-constrained model in which hierarchical rules are",
        "only permitted in which lexicalised heads specify the linear position of missing dependents, and examine the effects of applying such constraints across a variety of settings for German to English and English to German translation."
      ]
    },
    {
      "heading": "2 Related Work",
      "text": [
        "The increased computational complexity introduced by hierarchical machine translation models (Chiang, 2005), has motivated techniques of constraining model size as well as decoder search.",
        "Among such include the work of Zollmann et al. (2008) and Huang and Xiang (2010), in which rule table size is vastly reduced by means of filtering low frequency rules, while Tomeh et al. (2009), Johnson et al. (2007) and Yang and Zheng (2009) take the approach of applying statistical significance tests to rule filtering, with Lee et al. (2012) defining filtering methods that estimate translational effectiveness of rules.",
        "Dependency-based constraints have also been applied in a variety of settings to combat complexity challenges.",
        "Xie et al. (2011) use source side dependency constraints for translation from Chinese to English, while Shen et al. (2010) apply target-side dependency constraints for the same language pair and direction in addition to Arabic to English, Peter et al. (2011) also apply dependency constraints on the target side, but rather soft constraints that can be relaxed in the case that an ill-formed structure does in fact yield a better translation.",
        "Gao et al. (2011) similarly apply soft dependency constraints but to the source side for Chinese to English translation, and Galley and Manning (2009) show several advantages to using maximum spanning tree non-projective dependency parsing decoding for Chinese to English translation.",
        "Li et al. (2012), although not constraining with dependency structure, instead create non-terminals with part-of-speech tag combinations for Chinese words identified as heads for translation into English.",
        "In this paper, we apply the same dependency constraint to SCFG rule extraction in a variety of configurations to investigate effects of applying constraints on the source or target side, to the language with most or least free word order, as well as constraining with non-projective dependency structures."
      ]
    },
    {
      "heading": "3 Non-Projective Dependencies",
      "text": [
        "A non-projectivity structure is defined as follows: A non-projective dependency structure is a dependency structure in which at least one dependency relation exists between a head, H , and its dependent, D, in which the directed path from H to D does not include at least one word positioned linearly in the surface form between H and D. Figure 3 shows an example non-projective dependency structure arising from English Wh-fronting.",
        "Non-projective dependencies occur frequently",
        "for many languages, increasingly so for languages with high levels of free words order.",
        "An examination of Chinese treebanks, for example, reports that Chinese displays nine different kinds of non-projective phenomena (Yuelong, 2012) with reports of as many as one in four sentences in tree banks having non-projective dependency structures (Nivre, 2007).",
        "Even for a language with relatively rigid word order such as English non-projectivity is still common, due to Wh-fronting, topicalisation, scrambling and extraposition.",
        "Table 1 shows the frequency of non-projective dependency structures in WMT parallel data sets for German and English when parsed with a state-of-the-art non-projective dependency parser (Bohnet, 2010)."
      ]
    },
    {
      "heading": "4 Constrained Model",
      "text": [
        "We define the dependency constraint as follows: to create a hierarchical rule by replacing a word or phrase with a non-terminal, all the words of that phrase must belong to a single complete dependency tree and its head must remain lexicalised in the rule.",
        "In this way, the hierarchical rules of the SCFG position missing dependents relative to the position of lexicalised heads.",
        "Before extract",
        "ing SCFG rules for the dependency-constrained models, we transform non-projective structures into projective ones, in order to allow the substitution of non-projective dependency trees by a single non-terminal.",
        "Although the transformation simplifies the dependency structure, it will introduce some dis-fluency to the training data, and we therefore include experiments to examine such effects.",
        "Figure 4 shows a German-English translation constrained by means of the German dependency structure and Figure 5 shows the full set of dependency-constrained hierarchical SCFG rules, where dependents are specified with reference to lexicalised heads."
      ]
    },
    {
      "heading": "5 Implementation with Moses",
      "text": [
        "For rule extraction we use Moses (Williams and Koehn, 2012) implementation of GHKM (Galley et al., 2004; Galley et al., 2006), which although is conventionally used to extract syntax-augmented SCFGs from phrase-structure parses (Zollmann and Venugopal, 2006), we apply the same rule extraction tool to dependency parses.",
        "Rule extraction is implemented in such a way as not to be restricted to any particular set of node labels.",
        "The conventional input format is for example: <tree label=\"NP\"> <tree label=\"DET\"> the </tree> <tree label=\"NN\"> cat </tree> </tree> The dependency-constrained ruleset can be extracted with this implementation by arranging dependency structures into tree structures as fol",
        "Since XML format requires nesting of substructures, only projective dependency structures can be input to the tool in the way we use it, as non-projectivity breaks nesting.",
        "1Note that is is possible to replace X with dependency labels."
      ]
    },
    {
      "heading": "6 Non-Projectivity Transform",
      "text": [
        "We therefore transform non-projective dependency structures into projective ones by relocating the dislocated dependent to a position closer to its head so that it no longer violates projectivity.",
        "We do this in such a way as not to break any of the existing dependency relations between pairs of words.",
        "Figure 6 shows an example non-projective structure (a) before and (b) after the transformation, where the transformation results in the constituent comprised of words when and begin forming a continuous string, making possible the substitution of this constituent with a non-terminal.",
        "The fact that one side of the training data from which hierarchical rules are extracted, however, is no longer guaranteed to be fluent, raises the question as to what effect this disfluency might have when the constraint is applied on the target side.",
        "We therefore include in our evaluation for both language directions (and for the case where the constraints are applied to the source) the effects of word reorder cause by the transformation.",
        "The",
        "algorithm for converting non-projective structures is an inorder traversal of the dependency structure as follows, where words are indexed according to their position in the original string prior to the transformation:"
      ]
    },
    {
      "heading": "7 Experiments",
      "text": [
        "WMT training data sets were used for both parallel (1.49 million German/English sentence pairs) and monolingual training (11.51 million English & 4.74 million German sentences).",
        "Mate non-projective dependency parser (Bohnet, 2010) was used for parsing both the German and English parallel data with standard pre-trained models, the same parser was used for projective parsing with non-projectivity turned off.2 Parallel training data lines containing multiple sentences were merged into a single pseudo-dependency structure by adding an artificial root and head-dependent relation between the head of the initial sentence and any subsequent sentences.",
        "Non-projective dependencies were converted into projective structures using Algorithm 6.1.",
        "Giza++ (Och et al., 1999) was employed for automatic word alignment, and Moses GHKM rule extraction (Williams and Koehn, 2012) was used for hierarchical rule extraction for the dependency-constrained models.",
        "Default settings were used for rule extraction for all models with the exception on non-fractional counting being used, as well as Good-turing discounting.",
        "Both the dependency-constrained and standard models use the same set of initial rules.",
        "For decoding, since only a single non-terminal, X , is present for all models, Moses hierarchical decoder (Koehn et al., 2007) was used with default settings with the exception of rule span limit being removed for all models.",
        "SRILM (Stolke, 2002) was used for 5-gram language modeling and Kneser-Ney smoothing (Kneser and Ney, 1995) for both German-to-English and English-to-German translation.",
        "MERT (Och, 2003) was carried out on WMT newstest2009 development set optimizing for BLEU, and final results are reported for held-out test sets, newstest2010 and newstest2011, with BLEU (Papineni et al., 2001) and LR-score (Birch and Osborne, 2010) for evaluation."
      ]
    },
    {
      "heading": "7.1 Results",
      "text": [
        "Table 2 shows automatic evaluation results for both the dependency-constrained and standard hierarchical models for both language directions.",
        "Compared to the standard hierarchical model (orig), the best performing dependency-constrained models, sl npr (de-en) and tl npr (en-2OpenNLP (Feinerer, 2012) sentence splitter is recommended with the parser we and was used for preprocessing.",
        "de), show significant decreases in mean BLEU score, -0.44 for German to English and -0.13 for English to German.",
        "However, there is a trade-off, as the dependency-constrained models achieve vast reductions in model size, approx.",
        "93% for German to English and 89% for English to German in numbers of SCFG hierarchical rules.",
        "This results in decreased decoding times, with the best performing dependency-constrained models achieving a decrease of 26% for German to English and 34% for English to German in mean decoding times.",
        "The decrease in BLEU scores is not likely to be attributed to less accurate long-distance reordering for German to English translation, as the Kendall Tau LR-scores for this language direction show an increase over the standard hierarchical models of +0.25 mean LR.",
        "Although this is not the case for English to German, as mean LR scores show a slight decrease (-0.11 LR).",
        "The number of hierarchical rules (not including glue rules) employed during decoding provides a useful indication of to what degree each model actually uses hierarchical rules to construct translations, i.e. not simply concatenating phrases with glue rules.",
        "For English to German translation, while the number of hierarchical rules present in the SCFG is vastly reduced, the number of hierarchical rules used during decoding actually increases, with double the number of hierarchical rules used to translate test segments compared to the standard hierarchical model, from an average of only 0.58 hierarchical rules per segment for the standard model to 1.19 per segment.",
        "This indicates that the set of hierarchical rules is refined by the dependency constraint.",
        "When the more linguistically valid non-projective dependency structure, as opposed to the projective dependency structure, is used to constrain rule extraction significant increases in BLEU scores are achieved for all configurations.",
        "The most significant gains in this respect occur when constraints are applied on the source side, +0.58 mean BLEU for German to English and +0.50 mean BLEU for English to German.",
        "In general, when constraints are applied to the more free word order language, German, regardless of whether or not translation is into or out of German, marginally higher BLEU scores result, with an increase of +0.03 mean BLEU for German to English translation and similarly an increase of",
        "SCFG mean hier.",
        "mean segment hier.",
        "rules newstest 2010 newstest 2011 mean rules decode time",
        "German-to-English (de-en) and English to German (en-de), hpb=hierarchical phrase-based, orig=no reordering, ?re=dependency-based word reordering where only hierarchical rules are extracted from reordered training data, ?are=dependency-based word reordering where all SCFG rules extracted from reordered training data, dc=dependency-constrained, ?pr=projective parse used for dependency constraint, ?npr=non-projective parse used for dependency constraint, sl?=constraints or reordering for source language, tl?=constraints or reordering for target language, numbers of hierarchical rules reported do not include glue rules.",
        "+0.07 mean BLEU for English to German, with the increase being statistically significant for German to English for the newstest2010 test set, but not statistically significant for newstest2011 test set or English to German (Koehn, 2004).",
        "Overall the best performing dependency-constrained models are those that retain the highest numbers of hierarchical rules in the SCFG.",
        "This indicates that although the dependency-constrained models produce a refined ruleset, they nevertheless discard some SCFG rules that would be useful to translate the unseen test data.",
        "One possible reason is that although the non-projective dependency structures are significantly better, these high-quality linguistic structures may still not be optimal for translation.",
        "Another possibility is that a the GHKM rule extraction constraints combined with the dependency constraint is causing a small set of very useful rules to be discarded."
      ]
    },
    {
      "heading": "7.2 Dependency-based Reordering",
      "text": [
        "We examine the effects of the non-projective transformation in isolation of any dependency-constraints by training a standard hierarchical model on the reordered corpus with no dependency constraints applied.",
        "We do this in two set-ups.",
        "First, we extract hierarchical rules from the reordered training corpus and initial rules from the original unaltered corpus (?",
        "re in Table 2), as this is the set-up for the dependency-constrained models.",
        "Simply for interest sake, we repeat this experiment but extract all rules (hierarchical and initial rules) from the reordered corpus (?",
        "are in Table 2).",
        "Surprisingly, when non-projective reordering is carried out on the target side no significant decrease in BLEU scores occurs for both language directions.",
        "In fact, a minor increase in mean BLEU (+0.01) is observed for German to English translation, but this small increase is not statistically significant.",
        "For the English to German direction, a minor decrease of -0.06 mean BLEU occurs (not statistically significant).",
        "Similarly for German to English, when reordering is applied to the source side, only a minor decrease (-0.05) results.",
        "Non-projective reordering causes the most significant reduction in performance for English to German when the English source is reordered, with a decrease of -0.52 mean BLEU.",
        "This paper examines non-projectivity and language application for dependency-constrained hierarchical models using Moses open-source toolkit.",
        "Experiments show that when applied to English to German translation, vastly reduced model size and subsequently decreased decoding times result with only a minor decrease in BLEU.",
        "In addition, higher numbers of (non-glue) hierarchical rules are used to translate test segments.",
        "For German to English translation, similar decreases in model size and decoding times occur, but at the expense of a more significant decrease in BLEU.",
        "In general, results for the dependency-constrained models show that applying constraints on the source or target side does not have a major impact on BLEU scores.",
        "Rather the use of high quality linguistic structures is more important, as significant improvements are made for all configurations when the non-projective dependency structure is used to constrain rule extraction."
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "Many thanks to the Moses developers, especially Hieu Hoang and Alexandra Birch.",
        "Thanks also to Tsuyoshi Okita and anonymous reviewers.",
        "This research was supported by the Australian Research Council, as well as Science Foundation Ireland as part of the Centre for Next Generation Localisation."
      ]
    }
  ]
}
