{
  "info": {
    "authors": [
      "Einat Minkov",
      "Richard C. Wang",
      "Anthony Tomasic",
      "William W. Cohen"
    ],
    "book": "Human Language Technology Conference and Meeting of the North American Association for Computational Linguistics – Short Papers",
    "id": "acl-N06-2024",
    "title": "NER Systems That Suit User's Preferences: Adjusting the Recall-Precision Trade-Off for Entity Extraction",
    "url": "https://aclweb.org/anthology/N06-2024",
    "year": 2006
  },
  "references": [
    "acl-H05-1056",
    "acl-N03-1028",
    "acl-N04-4028",
    "acl-W02-1001",
    "acl-W03-0430"
  ],
  "sections": [
    {
      "heading": "Abstract",
      "text": [
        "We describe a method based on “tweaking” an existing learned sequential classifier to change the recall-precision tradeoff, guided by a user-provided performance criterion.",
        "This method is evaluated on the task of recognizing personal names in email and newswire text, and proves to be both simple and effective."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "Named entity recognition (NER) is the task of identifying named entities in free text – typically personal names, organizations, gene-protein entities, and so on.",
        "Recently, sequential learning methods, such as hidden Markov models (HMMs) and conditional random fields (CRFs), have been used successfully for a number of applications, including NER (Sha and Pereira, 2003; Pinto et al., 2003; Mc-callum and Lee, 2003).",
        "In practice, these methods provide imperfect performance: precision and recall, even for well-studied problems on clean well-written text, reach at most the mid-90’s.",
        "While performance of NER systems is often evaluated in terms of F1 measure (a harmonic mean of precision and recall), this measure may not match user preferences regarding precision and recall.",
        "Furthermore, learned NER models may be suboptimal also in terms of F1, as they are trained to optimize other measures (e.g., loglikelihood of the training data for CRFs).",
        "Obviously, different applications of NER have different requirements for precision and recall.",
        "A",
        "system might require high precision if it is designed to extract entities as one stage of fact-extraction, where facts are stored directly into a database.",
        "On the other hand, a system that generates candidate extractions which are passed to a semi-automatic cu-ration system might prefer higher recall.",
        "In some domains, such as anonymization of medical records, high recall is essential.",
        "One way to manipulate an extractor’s precision-recall tradeoff is to assign a confidence score to each extracted entity and then apply a global threshold to confidence level.",
        "However, confidence thresholding of this sort cannot increase recall.",
        "Also, while confidence scores are straightforward to compute in many classification settings, there is no inherent mechanism for computing confidence of a sequential extractor.",
        "Culotta and McCallum (2004) suggest several methods for doing this with CRFs.",
        "In this paper, we suggest an alternative simple method for exploring and optimizing the relationship between precision and recall for NER systems.",
        "In particular, we describe and evaluate a technique called “extractor tweaking” that optimizes a learned extractor with respect to a specific evaluation metric.",
        "In a nutshell, we directly tweak the threashold term that is part of any linear classifier, including sequential extractors.",
        "Though simple, this approach has not been empirically evaluated before, to our knowledge.",
        "Further, although sequential extractors such as HMMs and CRFs are state-of-the-art methods for tasks like NER, there has been little prior research about tuning these extractors’ performance to suit user preferences.",
        "The suggested algorithm optimizes the system performance per a user-provided",
        "evaluation criterion, using a linear search procedure.",
        "Applying this procedure is not trivial, since the underlying function is not smooth.",
        "However, we show that the system’s precision-recall rate can indeed be tuned to user preferences given labelled data using this method.",
        "Empirical results are presented for a particular NER task – recognizing person names, for three corpora, including email and newswire text."
      ]
    },
    {
      "heading": "2 Extractor tweaking",
      "text": [
        "Learning methods such as VP-HMM and CRFs optimize criteria such as margin separation (implicitly maximized by VP-HMMs) or log-likelihood (explicitly maximized by CRFs), which are at best indirectly related to precision and recall.",
        "Can such learning methods be modified to more directly reward a user-provided performance metric?",
        "In a non-sequential classifier, a threshold on confidence can be set to alter the precision-recall tradeoff.",
        "This is nontrivial to do for VP-HMMs and CRFs.",
        "Both learners use dynamic programming to find the label sequence y = (y1, ... , yi, ... , yN) for a word sequence x = (x1,... , xi, ... , xN) that maximizes the function W • Ei f (x, i, yi– 1, yi) , where W is the learned weight vector and f is a vector of features computed from x, i, the label yi for xi, and the previous label yi-1.",
        "Dynamic programming finds the most likely state sequence, and does not output probability for a particular subsequence.",
        "(Culotta and McCallum, 2004) suggest several ways to generate confidence estimation in this framework.",
        "We propose a simpler approach for directly manipulating the learned extractor’s precision-recall ratio.",
        "We will assume that the labels y include one label O for “outside any named entity”, and let w0 be the weight for the feature f0, defined as follows:",
        "If no such feature exists, then we will create one.",
        "The NER based on W will be sensitive to the value of w0: large negative values will force the dynamic programming method to label tokens as inside entities, and large positive values will force it to label fewer entities1.",
        "We thus propose to “tweak” a learned NER by varying the single parameter w0 systematically so as to optimize some user-provided performance metric.",
        "Specifically, we tune w0 using a a Gauss-Newton line search, where the objective function is iteratively approximated by quadratics.2 We terminate the search when two adjacent evaluation results are within a 0.0 1 % difference3 .",
        "A variety of performance metrics might be imagined: for instance, one might wish to optimize recall, after applying some sort of penalty for precision below some fixed threshold.",
        "In this paper we will experiment with performance metrics based on the (complete) F-measure formula, which combines precision and recall into a single numeric value based on a user-provided parameter Q:",
        "A value of Q > 1 assigns higher importance to recall.",
        "In particular, F2 weights recall twice as much as precision.",
        "Similarly, F0.5 weights precision twice as much as recall.",
        "We consider optimizing both token and entity-level Fβ – awarding partial credit for partially extracted entities and no credit for incorrect entity boundaries, respectively.",
        "Performance is optimized over the dataset on which W was trained, and tested on a separate set.",
        "A key question our evaluation should address is whether the values optimized for the training examples transfer well to unseen test examples, using the suggested approximate procedure."
      ]
    },
    {
      "heading": "3 Experiments",
      "text": []
    },
    {
      "heading": "3.1 Experimental Settings",
      "text": [
        "We experiment with three datasets, of both email and newswire text.",
        "Table 1 gives summary statistics for all datasets.",
        "The widely-used MUC-6 dataset includes news articles drawn from the Wall Street Journal.",
        "The Enron dataset is a collection of emails extracted from the Enron corpus (Klimt and Yang, 2004), where we use a subcollection of the messages located in folders named “meetings” or “calendar”.",
        "The Mgmt-Groups dataset is a second email",
        "collection, extracted from the CSpace email corpus, which contains email messages sent by MBA students taking a management course conducted at Carnegie Mellon University in 1997.",
        "This data was split such that its test set contains a different mix of entity names comparing to training exmaples.",
        "Further details about these datasets are available elsewhere (Minkov et al., 2005).",
        "We used an implementation of Collins’ voted-percepton method for discriminatively training HMMs (henceforth, VP-HMM) (Collins, 2002) as well as CRF (Lafferty et al., 2001) to learn a NER.",
        "Both VP-HMM and CRF were trained for 20 epochs on every dataset, using a simple set of features such as word identity and capitalization patterns for a window of three words around each word being classified.",
        "Each word is classified as either inside or outside a person name .4"
      ]
    },
    {
      "heading": "3.2 Extractor tweaking Results",
      "text": [
        "Figure 1 evaluates the effectiveness of the optimization process used by “extractor tweaking” on the Enron dataset.",
        "We optimized models for F,3 with different values of Q, and also evaluated each optimized model with different F,3 metrics.",
        "The top graph shows the results for token-level F,3, and the bottom graph shows entity-level F,3 behavior.",
        "The graph illustates that the optimized model does indeed roughly maximize performance for the target Q value: for example, the token-level F,3 curve for the model optimized for Q = 0.5 indeed peaks at Q = 0.5 on the test set data.",
        "The optimization is only roughly accurate5 for several possible reasons: first, there are differences between train and test sets; in addition, the line search assumes that the performance metric is smooth and convex, which need not be true.",
        "Note that evaluation-metric optimization is less successful for entity-level performance,",
        "which behaves less smoothly than token-level performance.",
        "Similar results were obtained optimizing baseline CRF classifiers.",
        "Sample results (for MUC-6 only, due to space limitations) are given in Table 2, optimizing a CRF baseline for entity-level F,3.",
        "Note that as Q increases, recall monotonically increases and precision monotonically falls.",
        "The graphs in Figure 2 present another set of results with a more traditional recall-precision curves.",
        "The top three graphs are for token-level F,3 optimization, and the bottom three are for entity-level optimization.",
        "The solid lines show the token-level and entity-level precision-recall tradeoff obtained by",
        "varying6 Q and optimizing the relevant measure for F,a; the points labeled “baseline” show the precision and recall in token and entity level of the baseline model, learned by VP-HMM.",
        "These graphs demonstrate that extractor “tweaking” gives approximately smooth precision-recall curves, as desired.",
        "Again, we note that the resulting recall-precision tradeoff for entity-level optimization is generally less smooth."
      ]
    },
    {
      "heading": "4 Conclusion",
      "text": [
        "We described an approach that is based on modifying an existing learned sequential classifier to change the recall-precision tradeoff, guided by a user-provided performance criterion.",
        "This approach not only allows one to explore a recall-precision tradeoff, but actually allows the user to specify a performance metric to optimize, and optimizes a learned NER system for that metric.",
        "We showed that using a single free parameter and a Gauss-Newton line search (where the objective is iteratively approximated by quadratics), effectively optimizes two plausible performance measures, token",
        "level F3 and entity-level F,a.",
        "This approach is in fact general, as it is applicable for sequential and/or structured learning applications other than NER."
      ]
    }
  ]
}
