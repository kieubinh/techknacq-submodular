{
  "info": {
    "authors": [
      "Daniel Dahlmeier",
      "Hwee Tou Ng",
      "Eric Jun Feng Ng"
    ],
    "book": "Proceedings of the Seventh Workshop on Building Educational Applications Using NLP",
    "id": "acl-W12-2025",
    "title": "NUS at the HOO 2012 Shared Task",
    "url": "https://aclweb.org/anthology/W12-2025",
    "year": 2012
  },
  "references": [
    "acl-C08-1109",
    "acl-D09-1052",
    "acl-N10-1018",
    "acl-P03-1004",
    "acl-P07-1065",
    "acl-P07-2045",
    "acl-P10-1089",
    "acl-P10-2065",
    "acl-P11-1019",
    "acl-P11-1092"
  ],
  "sections": [
    {
      "text": [
        "The 7th Workshop on the Innovative Use of NLP for Building Educational Applications, pages 216?224, Montre?al, Canada, June 3-8, 2012. c?2012 Association for Computational Linguistics NUS at the HOO 2012 Shared Task"
      ]
    },
    {
      "heading": "Abstract",
      "text": [
        "This paper describes the submission of the National University of Singapore (NUS) to the HOO 2012 shared task.",
        "Our system uses a pipeline of confidence-weighted linear classifiers to correct determiner and preposition errors.",
        "Our system achieves the highest correction F1 score on the official test set among all 14 participating teams, based on gold-standard edits both before and after revision."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "Grammatical error correction is the task of automatically detecting and correcting erroneous word usage and ill-formed grammatical constructions in text.",
        "Determiner and preposition errors are the two most prominent types of errors made by non-native speakers of English.",
        "Although there has been much work on automatic correction of determiner and preposition errors over the last few years, it has so far been impossible to directly compare results because different teams have evaluated on different data sets.",
        "The HOO 2012 shared task evaluates grammatical error correction systems for determiner and preposition errors.",
        "Participants are provided with a set of documents written by non-native speakers of English.",
        "The task is to automatically detect and correct determiner and preposition errors and produce a set of corrections (called edits).",
        "Evaluation is done by computing precision, recall, and F1 score between the system edits and a manually created set of gold-standard edits.",
        "The details of the HOO 2012 shared task are described in the official overview paper (Dale et al., 2012).",
        "In this paper, we describe the system submission from the National University of Singapore (NUS).",
        "Our system treats determiner and preposition correction as classification problems.",
        "We use confidence-weighted linear classifiers to predict the correct word from a confusion set of possible correction options.",
        "Separate classifiers are built for determiner errors, preposition replacement errors, and preposition insertion and deletion errors.",
        "The classifiers are combined into a pipeline of correction steps to form an end-to-end error correction system.",
        "Our system achieves the highest correction F1 score on the official test set among all 14 participating teams, based on gold-standard edits both before and after revision.",
        "The remainder of this paper is organized as follows.",
        "The next section presents our error correction system.",
        "Section 3 describes the features.",
        "Section 4 presents experimental results.",
        "Section 5 contains further discussion.",
        "Section 6 concludes the paper."
      ]
    },
    {
      "heading": "2 System Architecture",
      "text": [
        "Our system consists of a pipeline of sequential steps where the output of one step serves as the input to the next step.",
        "The steps in sequence are:",
        "1.",
        "Pre-processing 2.",
        "Determiner correction (Det) 3.",
        "Replacement preposition correction (RT) 4.",
        "Missing and unwanted preposition correction"
      ]
    },
    {
      "heading": "(MT, UT)",
      "text": [
        "The final output after the last step forms our submission to the shared task.",
        "Each correction step (i.e., steps 2, 3, 4) involves three internal steps:"
      ]
    },
    {
      "heading": "1. Feature extraction",
      "text": [
        "2.",
        "Classification 3.",
        "Language model filter",
        "Feature extraction first analyzes the syntactic structure of the input sentences (part-of-speech (POS) tagging, chunking, and parsing) and identifies relevant instances for correction (e.g., all noun phrases (NP) for determiner correction).",
        "Each instance is mapped to a real-valued feature vector.",
        "Next, a classifier predicts the most likely correction for each feature vector.",
        "Finally, the proposed corrections are filtered using a language model and only corrections that strictly increase the language model score are kept."
      ]
    },
    {
      "heading": "2.1 Confidence-Weighted Learning",
      "text": [
        "As the learning algorithm for all classifiers, we choose confidence-weighted (CW) learning (Dredze et al., 2008; Crammer et al., 2009), which has been shown to perform well for natural language processing (NLP) problems with high dimensional and sparse feature spaces.",
        "Instead of keeping a single weight vector, CW learning maintains a distribution over weight vectors, parametrized by a multivariate normal distribution N (?,?)",
        "with mean ?",
        "and covariance matrix ?.",
        "In practice, ?",
        "is often approximated by a diagonal matrix (Dredze et al., 2008).",
        "CW is an online learning algorithm that proceeds in rounds over a labeled training set ((y1,x1), (y2,x2), .",
        ".",
        ".",
        ", (yn,xn)), one example at a time.",
        "After the i-th round, CW learning updates the distribution over weight vectors such that the i-th example is predicted correctly with probability at least 0 < ?",
        "< 1 while choosing the update step that minimizes the Kullback-Leibler (KL) distance from the current distribution.",
        "The CW update rule is:",
        "s.t.",
        "Pr[yi|xi,?,?]",
        "?",
        "?.",
        "Dredze et al. (2008) show that in the binary case, the CW update rule has a closed-form solution.",
        "In the multi-class case, there exists no closed-form solution but the solution can be efficiently approximated."
      ]
    },
    {
      "heading": "2.2 Pre-processing",
      "text": [
        "Pre-processing involves sentence splitting, tokeniza-tion, re-casing, and spelling correction.",
        "We noticed that the HOO 2012 training data contained a large number of spelling mistakes and that some documents are written in all upper case.",
        "Both have a negative effect on tagging and classification accuracy.",
        "We automatically identify and re-case upper-case documents using a standard re-casing model from statistical machine translation (SMT).",
        "Re-casing is modeled as monotone decoding (without reordering) involving translation of an uncased sentence to a mixed-case sentence.",
        "Next, we automatically correct spelling mistakes using an open-source spell checker.",
        "Words are excluded from spelling correction if they are shorter than a threshold (set to 4 characters in our work), or if they include hyphens or upper case characters inside the word.",
        "We apply a language model filter (described in the next subsection) to filter the proposed spelling corrections.",
        "Note that spelling correction is only performed to improve the accuracy of subsequent correction steps.",
        "Spelling corrections themselves are not part of the edits submitted for evaluation."
      ]
    },
    {
      "heading": "2.3 Determiner Correction",
      "text": [
        "Determiner errors include three error types: replacement determiner (RD), missing determiner (MD), and unwanted determiner (UD).",
        "Although determiners are not limited to articles (a, an, the, empty article ), article errors account for the majority of determiner errors.",
        "We therefore focus our efforts on errors involving only articles.",
        "We treat determiner error correction as a multi-class classification problem.",
        "A classifier is trained to predict the correct article from a confusion set of possible article choices {a, the, }, given the sentence context.",
        "The article an is normalized as a and restored later using a rule-based heuristic.",
        "During training, every NP in the training data generates one training example.",
        "The class y ?",
        "{a, the, } is the correct article as annotated by the gold standard or the observed article used by the writer if the article is not annotated (i.e., the article is correct).",
        "The surrounding context is represented as a real-valued feature vector x ?",
        "X .",
        "The features of our classifiers are described in Section 3.",
        "One challenge in training classifiers for grammatical error correction is that the data is highly skewed.",
        "Training examples without any error (i.e., the observed article equals the correct article) greatly outnumber those examples with an error (i.e., the observed article is different from the correct article).",
        "As the observed article is highly correlated with the correct article, the observed article is a valuable feature (Rozovskaya and Roth, 2010; Dahlmeier and Ng, 2011).",
        "However, the high correlation can have the undesirable effect that the classifier always predicts the observed article and never proposes any corrections.",
        "To mitigate this problem, we re-sample the training data, either by oversampling examples with an error or undersampling examples without an error.",
        "The sampling parameter is chosen through a grid search so as to maximize the F1 score on the development data.",
        "After training, the classifier can be used to predict the correct article for NPs from new unseen sentences.",
        "During testing, every NP in the test data generates one test example.",
        "If the article predicted by the classifier differs from the observed article and the difference between the classifier's confidence score for its first choice and the classifier's confidence score for the observed article is higher than some threshold parameter t, the observed article is replaced by the proposed correction.",
        "The threshold parameter t is tuned through a grid search so as to maximize the F1 score on the development data.",
        "We found that using a separate threshold parameter value for each class worked better than using a single threshold value.",
        "All corrections are filtered using a large language model.",
        "Only corrections that strictly increase the normalized language model score of a sentence are kept.",
        "The normalized language model score is defined as",
        "where s is the corrected sentence and |s |is the sentence length in tokens.",
        "The final set of article corrections is applied to an input sentence (i.e., replacing the observed article with the predicted article)."
      ]
    },
    {
      "heading": "2.4 Replacement Preposition Correction",
      "text": [
        "Replacement preposition correction follows the same strategy as determiner correction, but with a different confusion set and different features.",
        "The confusion set consists of 36 frequent prepositions which we adopt from our previous work (Dahlmeier and Ng, 2011).1 These prepositions account for the majority of preposition replacement errors in the HOO 2012 training data.",
        "During training, every prepositional phrase (PP) in the training data which is headed by a preposition from the confusion set generates one training example.",
        "The class y is the correct preposition.",
        "During testing, every PP in the test data which is headed by a preposition from the confusion set generates one test example."
      ]
    },
    {
      "heading": "2.5 Missing Preposition Correction",
      "text": [
        "Our system corrects missing and unwanted preposition errors for the seven most frequently missed or wrongly inserted prepositions in the HOO 2012 training data.",
        "These preposition are about, at, for, in, of, on, and to.",
        "While developing our system, we found that adding more prepositions did not increase performance in our experiments.",
        "We treat missing preposition (MT) correction as a binary classification problem.2 For each preposition p, we train a binary classifier that predicts the presence or absence of that preposition.",
        "Thus, the confusion set consists only of the preposition p and the ?empty preposition?.",
        "During training, we require examples of contexts where p should be used and where it should be omitted.",
        "As prepositions typically appear before NPs, we take every NP in the training data as one training example.",
        "If the preposition p appears right in front of the NP (i.e., the preposition p and the NP form a PP), the example is a positive example, otherwise (i.e., another preposition or no preposition appears before the NP) it is a negative example.",
        "During testing, every NP which does not directly follow a preposition generates one test example.",
        "If the classifier predicts that the preposition p should have been used in this context with sufficiently high confidence and inserting p increases the normalized language model score, p is inserted before the NP.",
        "1about, along, among, around, as, at, beside, besides, between, by, down, during, except, for, from, in, inside, into, of, off, on, onto, outside, over, through, to, toward, towards, under, underneath, until, up, upon, with, within, without 2Alternatively, missing preposition error correction could be treated as a multi-class problem, but we found that binary classifiers gave better performance in initial experiments."
      ]
    },
    {
      "heading": "2.6 Unwanted Preposition Correction",
      "text": [
        "Unwanted preposition correction is treated as a binary classification problem similar to missing preposition correction but with different training and test examples.",
        "When training the classifier for preposition p, every PP where the writer used the preposition p is one training example.",
        "If the gold-standard annotation labels p as unwanted, the example is a positive example for deleting p, otherwise it is a negative example.",
        "During testing, every PP with the preposition p generates one test example.",
        "If the classifier predicts that p should be deleted with sufficiently high confidence and deleting p increases the normalized language model score, p is deleted.",
        "We found that separate classifiers for missing and unwanted preposition correction gave slightly better results compared to using a single classifier for both tasks.",
        "As the test examples for missing and unwanted preposition correction of a preposition p are disjoint, both steps can be performed in parallel.",
        "This also prevents the case of the system ?contradicting?",
        "itself by first inserting a preposition and later deleting it.",
        "We perform missing preposition correction and unwanted preposition correction for each preposition in turn, before moving to the next preposition."
      ]
    },
    {
      "heading": "3 Features",
      "text": [
        "In this section, we describe the features used in our system.",
        "The choice of features can have an important effect on classification performance.",
        "The exact features used for determiner, replacement preposition, and missing and unwanted preposition correction are listed in Tables 1, 2, 3, and 4, respectively.",
        "The features were chosen empirically through experiments on the development data.",
        "The most commonly used features for grammatical error correction are lexical and POS N-grams, and chunk features.",
        "We adopt the features from previous work by Han et al. (2006), Tetreault and Chodorow (2008), and Rozovskaya et al. (2011) for our system.",
        "Tetreault et al. (2010) show that parse features can further increase performance, and we use the dependency parse features based on their work.",
        "For all the above features, the observed article or preposition used by the writer is ?blanked out?",
        "when computing the features.",
        "However, we add the observed article or preposition as an additional feature for determiner and replacement preposition correction.",
        "The features described so far are all binary-valued, i.e., they indicate whether some feature is present in the input or not.",
        "Additionally, we can construct real-valued features by counting the log frequency of surface N-grams on the web or in a web-scale corpus (Bergsma et al., 2009).",
        "Web-scale N-gram count features can harness the power of the web in connection with supervised classification and have successfully been used for a number of NLP generation and disambiguation problems (Bergsma et al., 2009; Bergsma et al., 2010), although we are not aware of any previous application in grammatical error correction.",
        "Web-scale N-gram count features usually use N-grams of consecutive tokens.",
        "The release of web-scale parsed corpora like the WaCky project (Baroni et al., 2009) makes it possible to extend the idea to dependency N-grams of child-parent tuples over the dependency arcs in the dependency parse tree, e.g., {(child, node), (node, parent)} for bigrams, {(child's child, child, node), (child, node, parent), (node, parent, parent's parent)} for trigrams.",
        "We collect log frequency counts for dependency N-grams from a large dependency-parsed web corpus and use the log frequency count as a feature.",
        "We normalize all real-valued feature values to a unit interval [0, 1] to avoid features with larger values dominating features with smaller values."
      ]
    },
    {
      "heading": "4 Experiments",
      "text": [
        "In this section, we report experimental results of our system on two different data sets: a held-out test split of the HOO 2012 training data, and the official HOO 2012 test set."
      ]
    },
    {
      "heading": "4.1 Data Sets",
      "text": [
        "The HOO 2012 training data consists of 1,000 documents together with gold-standard annotation.",
        "The documents are a subset of the 1,244 documents in the Cambridge Learner Corpus FCE (First Certificate in English) data set (Yannakoudakis et al., 2011).",
        "The HOO 2012 gold-standard annotation only contains edits for six determiner and preposition error types and discards all other gold edits",
        "from the original FCE data set.",
        "This can lead to ?wrong?",
        "gold edits that produce ungrammatical sentences, like the following sentence There are a lot of possibilities ( ?",
        "of) to earn some money ... where the preposition of is inserted before to earn.",
        "The FCE data set contains another edit (to earn ?",
        "earning) but this edit is not included in the HOO 2012 gold annotation.",
        "This necessarily introduces noise into the training data as a classifier trained on this data will learn that inserting of before to earn is correct.",
        "We sidestep this problem by directly using the FCE data set for training, and applying all gold edits except the six determiner and preposition error types.",
        "This gives us training data that only contains those types of grammatical errors that we are interested in.",
        "Note that this only applies to the training data.",
        "For our development and development test data, we use the HOO 2012 released data where the texts contain all types of errors and do not make use of the annotations in the FCE data set.",
        "For system development, we randomly select 100 documents from the HOO 2012 training data as our development set (HOO-DEV) and another 100 disjoint documents as our held-out development test set (HOO-DEVTEST).",
        "We train classifiers on the remaining 1,044 documents of the FCE data set (FCE(1044)), tune parameters on HOO-DEV, and test on HOO-DEVTEST.",
        "For our final submission, we train classifiers on all FCE documents, except those 100 documents in HOO-DEV which are used for parameter tuning.",
        "Finally, we fix all parameters and retrain the classifiers on the complete FCE corpus (FCE(1244)).",
        "This allows us to make maximum use of the FCE corpus as training data.",
        "The",
        "official HOO 2012 test data (HOO-TEST), which is not part of the FCE corpus, is completely unobserved during system development.",
        "Table 5 gives an overview of the data.",
        "Besides the FCE and HOO 2012 data sets, we use the following corpora.",
        "The Google Web 1T 5-gram corpus (Brants and Franz, 2006) is used for language modeling and collecting N-gram counts, the PukWaC corpus from the WaCky project (Baroni et al., 2009) is used for collecting web-scale dependency N-gram counts, and the New York Times section of the Gigaword corpus3 is used for training the re-casing model.",
        "All data sets used in our system are publicly available."
      ]
    },
    {
      "heading": "4.2 Resources",
      "text": [
        "We use the following NLP resources in our system.",
        "Sentence splitting is performed with the NLTK toolkit.4 For spelling correction, we use the free software Aspell.5 All words that appear at least ten times in the HOO 2012 training data are added to the spelling dictionary.",
        "We use the OpenNLP tools (version 1.5.2)6 for POS tagging, YamCha (version 0.33) (Kudo and Matsumoto, 2003) for chunking, and the MaltParser (version 1.6.1) (Nivre et al., 2007) for dependency parsing.",
        "We use Ran-dLM (Talbot and Osborne, 2007) for language modeling.",
        "The re-casing model is built with the Moses SMT system (Koehn et al., 2007) from the Gigaword New York Times section and all normal-cased documents in the HOO 2012 training data.",
        "The CuVPlus English dictionary (Mitton, 1992) is used to determine the countability of nouns.",
        "The CW learning algorithm is implemented by our group.",
        "The source code is available from our website.7 All resources used in our system are publicly available."
      ]
    },
    {
      "heading": "4.3 Evaluation",
      "text": [
        "Evaluation is performed by computing detection, recognition, and correction F1 score between the set of system edits and the set of gold-standard edits as defined in the HOO 2012 overview paper (Dale et al., 2012).",
        "Detection scores are very similar to recognition scores (about 1?2% higher).",
        "We omit",
        "the HOO-DEVTEST data after determiner correction (Det), replacement preposition correction (RT), and missing and unwanted preposition correction (MT/UT).",
        "detection scores due to space limitations.",
        "Evaluation on the official test set is performed with respect to two different gold standards: the original gold standard from Cambridge University Press and a revised version which was created in the HOO 2012 shared task in response to change requests from participating teams.",
        "All scores are computed with the official scorer.",
        "The official gold-standard edits are given in character offsets, while our system internally works with token offsets.",
        "Therefore, all token offsets are automatically mapped back to character offsets before we submit our system edits.",
        "We only submitted one run of our system."
      ]
    },
    {
      "heading": "4.4 Results",
      "text": [
        "Tables 6 and 8 show the overall precision, recall and F1 score of our system after each processing step on the held-out HOO-DEVTEST set and the official test set, respectively.",
        "All numbers are shown in percentages.",
        "We note that each processing step improves the overall performance.",
        "The final F1 correction score on the official test set is 28.70% before revision and 37.83% after revision, which are the highest scores achieved by any participating team.",
        "Tables 7 and 9 show individual precision, recall, and F1 score",
        "for each of the six error types, and for determiners (Det: aggregate of RD, MD, UD) and prepositions (Prep: aggregate of RT, MT, UT) on the held-out HOO-DEVTEST set and the official test set HOO-TEST, respectively."
      ]
    },
    {
      "heading": "5 Discussion",
      "text": [
        "The main differences between our submission to the HOO 2011 shared task (Dahlmeier et al., 2011) and to this year's shared task are the use of the CW learning algorithm, the use of web-scale N-gram count features, and the use of the observed article or preposition as a feature.",
        "The CW learning algorithm performed slightly better than the empirical risk minimization batch learning algorithm that we have used previously while being significantly faster during training.",
        "Adding the web-scale N-gram count features showed significant improvements in initial experiments.",
        "Using the observed article or preposition feature allows the classifier to learn a bias against unnecessary corrections.",
        "We believe that our good precision scores are a result of using this feature.",
        "In our experiments, we tried adding additional training data from other text corpora: the NUS Corpus of Learner English (NUCLE) (Dahlmeier and Ng, 2011) and the Gigaword corpus.",
        "Unfortunately, we did not see any consistent improvements over simply using the FCE corpus.",
        "The general rule of thumb that ?more data is better data?",
        "did not seem to hold true in this case.",
        "After the evaluation had completed, we also tried training on additional training data and tested the resulting system on the official test set but did not see improvements either.",
        "We believe that no improvements were obtained due to the similarity between the training and test data, since all of them are student essays written in response to question prompts from the Cambridge FCE exam."
      ]
    },
    {
      "heading": "6 Conclusion",
      "text": [
        "We have presented the system from the National University of Singapore that participated in the HOO 2012 shared task.",
        "Our system achieves the highest correction F1 score on the official test set among all 14 participating teams, based on gold-standard edits both before and after revision."
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "This research is supported by the Singapore National Research Foundation under its International Research Centre @ Singapore Funding Initiative and administered by the IDM Programme Office."
      ]
    }
  ]
}
