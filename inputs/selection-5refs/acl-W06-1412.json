{
  "info": {
    "authors": [
      "Laura Stoia",
      "Darla Magdalene Shockley",
      "Donna K. Byron",
      "Eric Fosler-Lussier"
    ],
    "book": "International Natural Language Generation Conference",
    "id": "acl-W06-1412",
    "title": "Noun Phrase Generation for Situated Dialogs",
    "url": "https://aclweb.org/anthology/W06-1412",
    "year": 2006
  },
  "references": [
    "acl-C92-1038",
    "acl-J95-2003",
    "acl-N01-1002",
    "acl-P02-1048",
    "acl-P98-2241",
    "acl-W00-1411"
  ],
  "sections": [
    {
      "heading": "Abstract",
      "text": [
        "We report on a study examining the generation of noun phrases within a spoken dialog agent for a navigation domain.",
        "The task is to provide real-time instructions that direct the user to move between a series of destinations within a large interior space.",
        "A subtask within sentence planning is determining what form to choose for noun phrases.",
        "This choice is driven by both the discourse history and spatial context features derived from the direction-follower’s position, e.g. his view angle, distance from the target referent and the number of similar items in view.",
        "The algorithm was developed as a decision tree and its output was evaluated by a group of human judges who rated 62.6% of the expressions generated by the system to be as good as or better than the language originally produced by human dialog partners."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "In today’s world of mobile, context-aware computing, intelligent software agents are being deployed in a wide variety of domains to aid humans in performing navigation tasks.",
        "Examples include hand-held tourist information portals (Johnston et al., 2002) campus tour guides (Yang et al., 1999; Long et al., 1996; Striegnitz et al., 2005), direction-giving avatars for visitors to a building (Cassell et al., 2002; Chou et al., 2005), in-car driving direction systems (Dale et al., 2003; Wahlster et al., 2001), and pedestrian navigation systems (Muller, 2002).",
        "These applications present an exciting and challenging new frontier for dialog agents, since attributes of the real-world setting must be combined with other contextual factors for the agent to communicate successfully.",
        "In the current work, we focus on a scenario in which the system provides incremental directions to a mobile user who is following the instructions as they are produced.",
        "Unlike the rigid directions produced by applications like Mapquest,1 which describes the entire route from start to finish, this task requires realtime instructions issued while monitoring the user’s progress.",
        "Instructions are based on dynamic local context variables such as the visibility of and distance to reference points.",
        "In referring to items in the setting, human speakers produce a wide variety of noun phrase forms, including descriptions that are headed by a common noun and that employ a definite, indefinite, or demonstrative determiner, one anaphors, and pronouns such as it, this and that.",
        "Our goal in the current work is to model that entire space of variation, which makes the task more difficult than the noun phrase generation task defined in many previous studies that simplify the alternatives down to description or pronoun.",
        "In order to study this process, we developed a task domain in which a human partner is directed through an interior space (a graphically-presented 3D virtual world) to perform a sequence of manipulation tasks.",
        "In the first stages of the work, we collected and annotated a corpus of human-human dialogs from this domain.",
        "Then, using this data, we trained a decision-tree classifier to utilize context variables such as distance, target object visibility, discourse history, etc., to determine lexical properties of referring expressions to be produced by the generation component of our dialog system."
      ]
    },
    {
      "heading": "2 Generation for Situated Tasks",
      "text": [
        "Many previous projects, such as (Lauria et al., 2001; Moratz and Tenbrink, 2003; Skubic et al., 2002), inter alia, study interpretation of situated language, e.g. for giving directions to a robot.",
        "The focus of our work is rather on generating navigation instructions for a human partner to follow.",
        "Linguistic studies have shown that speakers select noun phrase forms to refer to entities based on a variety of factors.",
        "Some of the factors are intrinsic to the object being described, while others are features of the context in which the expression is spoken.",
        "The entity’s status within the discourse,",
        "ydney, July 2006. c�2006 Association for Computational Linguistics spatial position, and the presence of similar items from which the target referent must be distinguished, have all been found to cause changes to the lexical properties chosen for a particular referring expression (i.e. (Gundel et al., 1993; Prince, 1981; Grosz et al., 1995)).",
        "This variation is expressed in terms of the determiner chosen (e.g. that/a), the head noun (e.g. that/door/one), and the presence of additional modifiers such as pre-nominal adjectives or prepositional phrases.",
        "In natural language generation, the process of generating referring expressions occurs in stages (Reiter and Dale, 1992).",
        "The process we explore in this paper is the sentence planning stage, which determines whether the context supports generating a particular referring expression as a pronoun, description, one-anaphor, etc.",
        "There has been extensive research in both automatic route description and on general noun phrase (NP) generation, but few projects consider extralinguistic information as part of the context that influences dialog behavior.",
        "(Poesio et al., 1999) applies statistical techniques for the problem of NP generation.",
        "However, even though the corpus used in that study contains descriptions of museum items visually accessible to the user, the features used in generation were mostly linguistic, and included little information about the visual or spatial properties of the referent.",
        "Another related study in statistical NP generation (Cheng et al., 2001) focuses on choosing the modifiers to be included.",
        "Again, no features derived from the situated world were used in that study.",
        "(Maass et al., 1995) use features from the world, including objects’ color, height, width, and visibility, as well as the user’s direction of travel and distance from objects, for generating instructions in a situated task.",
        "However, their focus is on selecting landmarks and descriptions under time pressure, rather than selecting the linguistic form to be produced."
      ]
    },
    {
      "heading": "3 Data Collection",
      "text": [
        "Our task setup is designed to elicit natural, spontaneous situated language examples from human partners.",
        "The experimental platform employs a virtual-reality (VR) world in which one partner, the direction-follower (DF), moves about to perform a series of tasks, such as pushing buttons to rearrange objects in the room, finding and picking up treasures, etc.",
        "The simulated world was presented from first-person perspective on a desktop computer monitor.",
        "The DF had no knowledge of the world map or tasks.",
        "His partner, the direction-giver (DG), had a paper 2D map of the world and a list of tasks to complete.",
        "As they performed the task, the DG had instant feedback about the DF’s location in the VR world, via mirroring of the DF’s computer screen on the DG’s computer monitor.",
        "The partners communicated through headset microphones.",
        "Our paid participants were self-identified native speakers of North American English.",
        "Figure 1 shows an example view of the world and the accompanying dialog fragment.",
        "The video output of DF’s computer was captured to a camera, along with the audio from both microphones.",
        "A logfile created by the VR software recorded the DF’s coordinates, gaze angle, and the position of objects in the world 10 times per second.",
        "These data sources were synchronized using calibration markers.",
        "A technical report is available that describes the recording equipment and software used (Byron, 2005)."
      ]
    },
    {
      "heading": "3.1 Corpus and Annotation Scheme",
      "text": [
        "Using the above-described setup, we created a corpus consisting of 15 dialogs containing a total of 221 minutes of speech.",
        "It was transcribed and word-aligned using Praat 2 and SONIC.3 The dialogs were further annotated using the Anvil software (Kipp, 2004) to identify a set of target referring expressions in the corpus.",
        "Because we are in",
        "terested in the spatial properties of the referents of these target referring expressions, the items of interest in this experiment were restricted to objects with a defined spatial position.",
        "Each object in the virtual world was assigned a symbolic id, and the id of each target referring expression was added to the annotation.",
        "Referring expressions with plural referents were marked as Set, and were labeled with a list of the members in the set.",
        "Expressions were also annotated as either vague when the referent was not clear at the time of utterance or abandoned in case the utterance was cut short.",
        "Items that did not contain a surface realization of the head of the NP (e.g., on the left), were marked with the tag empty.",
        "The corpus contains 1736 target expressions, of which 221 were Vague, 45 were Empty, and 228 were Sets.",
        "The remaining 1242 form the set of test items in the experiment described below.",
        "Vague items were excluded since we do not wish for the algorithm we develop to reproduce this behavior.",
        "Set items were excluded in order to avoid the more complex calculation of spatial properties associated with plural entities.",
        "The data used in the experiments is a consensus version on which both annotators, two of the authors, agreed on the set of target expressions and their properties.",
        "Due to the constraints introduced by the task, referent annotation achieved almost perfect agreement.",
        "The data used in this study is only the DG’s language."
      ]
    },
    {
      "heading": "4 Algorithm Development",
      "text": [
        "Our ultimate goal is to provide input to a surface realization component for NP generation, given the ID of a target referent and a vector of context features.",
        "It is desirable for these context features to be automatically derived, to limit the reliance on human annotation, so we restricted out study to features that either were derived automatically, or required minimal human annotation.",
        "One impact of this decision is that even though the linguistic literature predicts that syntactic features such as grammatical role are important in selecting NP forms, these features were difficult to obtain.",
        "Our corpus contains spontaneous spoken discourse, which has no sentence boundaries and relaxed structural constraints.",
        "Thus, automatic parsing was problematic.",
        "With improved parsing techniques, we may include syntactic information in the decision process for NP generation in future, but this was not included in the current study.",
        "Following (Poesio et al., 1999), we consider the det a, the, that, none head it, that, one, noun, none",
        "information conveyed by an NP to be divided into four slots which must be filled to be able to generate the NP form: a determiner/quantifier, a pre or post-modifier and a head noun slot.",
        "There were very few examples of premodifiers in the corpus, so we collapsed the modifier feature.",
        "Therefore, the output from our algorithm is an NP frame specifying values for the three slots for each target expression.",
        "Figure 2 shows the possible values in each slot and example slot values for two NPs.",
        "The number of occurrences in the entire corpus for the NP frame slot values are shown in Table 2.4 In the experimental VR world developed for this study, all items from the same category were designed to look identical.",
        "This was intended to encourage the subjects to use referring expressions that rely on spatial attributes or deictic reference such as that one.",
        "The spatial properties of target referents and distractors are used as inputs to the content planning algorithm.",
        "Their values in this study were calculated automatically based on geometric properties of the virtual world.",
        "To form the training dataset, we processed each target expression with a syntactic chunker.",
        "The partial parse it produced was further processed with a regular-expression matcher to isolate the values corresponding to the three slots.",
        "Parser errors caused some low-count NP frame values, so we retained only items that occurred at least 10 times in the entire corpus.",
        "Any parser errors that remained in the data were not hand corrected, in order to minimize human intervention."
      ]
    },
    {
      "heading": "4.1 Context Features",
      "text": [
        "Given the restrictions that we impose over what is accessible to the learning algorithm, we developed a set of features for each referring expression that characterize both the referent and the context in which the expression was spoken.",
        "The context"
      ]
    },
    {
      "heading": "Dialog history features",
      "text": [
        "1.",
        "Count and chainCount the mention counts for the referent over the dialog and inside a reference chaina 2.",
        "DeltaTime and DeltaTimeChain the time elapsed since it was last mentioned in the dialog overall or in a chain 3.",
        "PrevSpeaker the previous speaker that mentioned the ID (either DG or DF) 4.",
        "Mod,-1, Det,- 1, Head,-1 the values of the slots of the NP frame of the prior mention of the same referent 5.",
        "Mod,-2, Det,-2, Head,-2 the previous-1 values of the slots 6.",
        "WordDistance and the number of words spoken by both speakers since the last mention of the ID chainWordDistance overall or in the chain 7.",
        "Type,-1 indicates if the previous mention was in a Set, was Vague, or was a test item Spatial/Visual features' 8.",
        "Distance the distance between the referent and the DF’s VR coordinates 9.",
        "Angle the angle between the center of the DF’s view angle and the center of the referent",
        "features are not only linguistic but also derived from the extralinguistic situation, including spatial relations between the referent and the DF’s position and orientation at that instant.",
        "The context feature for each target expression includes these automatically-calculated attributes as well as features from the annotation described above.",
        "Table 1 describes the full set of context features, and Figure 3 shows a schematic of the spatial context features.",
        "The mention history of any target referent is important for determining the form to use in a subsequent referring expression.",
        "Ideally, the discourse history feature should indicate whether a referent has already been discussed, and the distance between a new mention and its antecedent.",
        "But determining the discourse status of items in this world was complicated by two factors.",
        "All objects in the world of the same semantic category had identical visual features, and the VR world in which the task is conducted is a maze, which required the subjects to perform tasks, move to a different portion of the maze, and possibly return to a previously visited room.",
        "Due to the visual and spatial confusion possible in this setting, there is no guarantee that our subjects could accurately calculate whether they were discussing the same object they had encountered before, or remember whether that object had been discussed.",
        "While the subjects were focused on a task in a particular room, however, it is reasonable to expect that they could remember which items had been discussed.",
        "Therefore, the discourse histories of target objects were calculated using a reinitialization process.",
        "Each time the subjects left a VR room to pursue a different task, if more than 25s elapsed before the next mention of objects in that room, those subsequent expressions were considered to be in new coreference chains.",
        "This time constant was established by examining pronominal referring expressions in the training dialogs.",
        "These features were used as input to develop a classifier to determine NP frames for unseen target referents in context.",
        "We chose decision trees due to their ease of interpretation, but we plan to test other machine learning techniques in the future.",
        "5 dialogs were held out as unseen data and the remaining 10 were used to train and adjust the parameters of the decision process.",
        "The first procedure was to test whether the three slot values are interdependent.",
        "In contrast to previous work,",
        "which focused on predicting the values for one of the slots at a time, we hold that due to their interdependence, these decisions should not be made separately.",
        "For example, a noun form that has the pronoun it as the head will never have a modifier or a determiner.",
        "If the three slots are independent, training three separate classifiers and then combining their decisions will yield better results.",
        "On the other hand, if they are dependent, better results will be obtained through training a single classifier on the combined label.",
        "Unfortunately, combining the labels is problematic due to data sparsity.",
        "To test these dependencies, we trained several decision trees, varying the independence assumptions: Independent - a decision tree was trained for each slot and their outputs combined at the end.",
        "Joint - a decision tree was trained for the combined label for all three slots Conditional - three decision trees were trained in sequence, each having access to the output of the previous tree.",
        "For example, Mod-Det-Head means that first the Mod tree was trained, then a tree to classify Det, using the output from Mod, and finally a tree for Head , using both the Det and Mod values.",
        "All possible orderings between Mod, Head and Det were tested.",
        "The best result obtained was from the ordering Mod-Det-Head, but the differences between the orderings were not significant.",
        "The 10 fold cross-validation results are shown in Table 3.",
        "There were 632 items in the data set.",
        "The Conditional trees outperformed the Independent trees by 9%, which is significant at the level of (p < .0002).",
        "As our training data suggests, we test the Mod-Det-Head trees against our held out data.",
        "We decided to use a leave one out method of training/testing due to the sparsity of data."
      ]
    },
    {
      "heading": "Independent Joint Mod-Det-Head",
      "text": [
        "22.0% 28.8% 31.0%",
        "Decision tree classifiers offer the opportunity to examine the relevance of particular features in the final decision.",
        "Algorithm 1 and 2 show example trees derived for the Mod and Det features (the Head tree is not shown due to space limitations).",
        "We found that there are significant dependencies between the slots in the NP form.",
        "Each time one of the slots’ values was available to the decision process, it was selected as most informative feature in the next tree.",
        "The spatial features were selected as informative in all the trees, most prevelantly in the",
        "decision tree for Mod, suggesting that the decision of including extra information is driven largely by the spatial configuration.",
        "The information status features and discourse history, such as First Locate, Type, and attributes of the prior mention, were selected as good predictors for the Det slot."
      ]
    },
    {
      "heading": "5 Evaluation",
      "text": [
        "We report several methods of evaluating the NP frames produced using the process given by the decision trees.",
        "First, we report the results of a strict evaluation in which the system’s output must exactly match expressions produced by the human subjects.",
        "We also compare this result with a hand-crafted Centering-style generation algorithm.",
        "Requiring the algorithm to exactly match human performance is an overly-strict criterion, since in many contexts several possible referring expression forms could be equally felicitous in a given context, so we also conducted a human judgment study.",
        "The 5 test dialogs contain 295 target expressions."
      ]
    },
    {
      "heading": "5.1 Exact Match Evaluation",
      "text": [
        "The output of the decision tree classifier was compared to the expressions observed in the test dialog.",
        "Table 4 reports the results of this evaluation.",
        "The accuracy obtained was 31.2%.",
        "The most frequent tag gives a 20.0% baseline performance using this strict match criterion."
      ]
    },
    {
      "heading": "Exact match results",
      "text": []
    },
    {
      "heading": "5.2 Comparison to Centering",
      "text": [
        "For purposes of comparing the performance of our generation algorithm to existing work on generation of NPs, we performed a manual evaluation of the centering-style generation algorithm described in (Kibble and Power, 2000) against our dialog corpus.",
        "Algorithms developed according to the centering framework use discourse coherence to make decisions about pronominalization (Grosz et al., 1995), where coherence is measured in terms of topical continuity from one sentence to the next.",
        "Centering designates the backward-looking center (Cb) as the item in the current sentence that was most topical in the previous sentence.",
        "Therefore, to perform a centering-style evaluation, the dialogs must be broken into sentence-like units, and a ranking procedure must be devised for the items mentioned in each unit.",
        "The current evaluation corpus, being a spoken dialog, has not been parsed to automatically determine the syntactic or dependency structure, but rather was manually segmented into utterance units, where each unit contained a main predicate and its satellites.",
        "The items mentioned in each unit were ranked according to thematic roles, using the ranking {AGENT > PATIENT > COMP > ADJUNCT}, and excluding references to the speakers themselves, which often appear in AGENT position (Byron and Stent, 1998).",
        "The Cb in each unit, if there is one, is the highest-ranked item from the prior unit’s list that is repeated in the current unit’s list.",
        "Following a procedure similar to that reported by Kibble and Power, our decision procedure recommends pronominalizing an item if it is the Cb of its unit and if it is in Subject position, otherwise a description is generated.",
        "Based on this rule, all items that are being mentioned for the first time in the discourse are predicted to require a description.",
        "Although most prior studies take the recommendation to pronominalize to mean that a personal pronoun (e.g. it) should be generated, due to the demonstrative nature of our domain, the decision to produce a pronoun can result in either a demonstrative or a personal pronoun.",
        "Therefore, we considered the algorithm’s output to match human production when the target expression in the human corpus was either a personal or demonstrative pronoun, and the algorithm generated either category of pronoun.",
        "Table 5 shows the comparison of our system’s output and the output from the centering algorithm on anaphoric mentions.",
        "The 5 dialogs used for testing in this study contained 145 such items.",
        "Both algorithms obtained a similar accuracy (64.8% our system vs. 64.1% centering) and over-generated pronoouns.",
        "Although our algorithm does not outperform centering, it assumes less structural analysis of the input text."
      ]
    },
    {
      "heading": "5.3 Human Judgment Evaluation",
      "text": [
        "Evaluating generation studies by calculating their similarity to human spontaneous speech may not be the ideal performance metric, since several different realizations may be equally felicitous in a",
        "given context.",
        "Therefore, we also performed a human judgement evaluation.",
        "In this evaluation, judges compared the NPs generated by our algorithm to the NPs produced by human subjects, and to NPs with randomly generated feature assignments.",
        "Judges viewed test NPs in the context of the original test corpus.",
        "To recreate the context in which the original expression was produced, the video, audio, and dialog transcript were played for the judges using the Anvil annotation tool (Kipp, 2004).",
        "The judges could play or pause the video as they wished.",
        "Using the word-alignments established during the data annotation phase, the audio of the test NPs was replaced by silence, and the words were removed in the transcript shown in the time-line viewer.",
        "For each test item, the judges were presented with a selection box showing two possible referring expressions that they were asked to compare using a qualitative ranking (option 1 is better, option 2 is better, or they are equal), given a particular target ID and the context.",
        "Figure 4 shows a screen-shot of the judges’ annotation tool.",
        "The judges did not know the source of the expressions they evaluated (system, human production, or random).",
        "The 10 judges were volunteers from the university community who were self-identified native speakers of English.",
        "They were not compensated for their time.",
        "The decision tree selected NP-frame slot values which were converted into realized NPs.",
        "The Det and Head choices were directly translated into surface forms (for Head=noun we chose a consistent common noun for each semantic class: button, door or cabinet.",
        "If the system’s selection of Mod feature matched the value from the corpus, we used the expression produced by the original speaker.",
        "If the original expression did not include a modifier, but the system selected Mod:+, we lex-icalized this feature to a simple but correct spatial description like on the right, on the left or in front.",
        "Table 6 shows the results of human judging.",
        "The system’s output was either equal or preferred to the original spontaneous language in 62.6% of cases where these two choices were compared directly.",
        "Interestingly, the randomly-generated choice was preferred over the original spontaneous language in 13.0% of trials, and was preferred over the system’s output in 22.5% of trials.",
        "Aggregating over all judges, the system’s performance was judged to be much better than random, but not as good as the original human language.",
        "Trials were balanced among judges so that each target item was seen by four judges: with two comparing the system’s response to the original human language, one comparing the system to random, and one comparing the human to random.",
        "There were 282 trials for which 2 judges saw the identical pair of choices.",
        "Out of these, the two judges’ responses agreed in 197 cases, producing an inter-annotator reliability (kappa score) of 0.51, with raw agreement of 69% and expected agreement of 37%.",
        "Although this is a relatively low kappa value, we believe that the aggregate judgments of all of the judges over all of the test items are still informative, since the scores of items for which we have two judgements follow a very sim",
        "ilar pattern to the overal distribution of responses.",
        "The low inter-annotator agreement may be due to the substitutability of the expressions."
      ]
    },
    {
      "heading": "6 Conclusions and Future Work",
      "text": [
        "In this paper we describe a generation study for situated dialog and a novel evaluation setup of the system’s output.",
        "The algorithm decides upon the determiner, head and modifier values to be produced in a noun phrase describing an object in a particular moment in the dialog.",
        "The decision is influenced by dialog history, spatial and visual relations and information status of the ID to be described.",
        "Our algorithm achieved 31.2% exact match with human language, but human evaluators judged the output as good as or better than the original human language 62.6% of the time.",
        "For our future work, we intend to develop the generation module of a dialog system that performs the direction giver’s role.",
        "We plan to incorporate the results of this study in an extension of (Reiter and Dale, 1992) algorithm that would take into account other types of properties of the objects like visual salience, temporal attributes (for example time elapsed between mentions), if it participated in an action (like the case of a door opening, or a button being pushed) or its importance to the overall task completion."
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "The authors would like to thank our undergraduate RA, Bradley Mellen, for building the virtual world, the 11 judges who rated the system output, and the anonymous reviewers."
      ]
    }
  ]
}
