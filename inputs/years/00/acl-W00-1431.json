{
  "info": {
    "authors": [
      "Rodrigo Reyes"
    ],
    "book": "International Conference on Natural Language Generation",
    "id": "acl-W00-1431",
    "title": "The CLEF Semi-Recursive Generation Algorithm",
    "url": "https://aclweb.org/anthology/W00-1431",
    "year": 2000
  },
  "references": [
    "acl-J94-1004",
    "acl-W98-1422",
    "acl-W98-1431"
  ],
  "sections": [
    {
      "heading": "Abstract",
      "text": [
        "-We will discuss the-semi-recursive algorithm for text generation, as defined for the GTAG formalism, and its implementation in the CLEF project.",
        "We will show how to use lexical choice constraints and properties of the LTAG grammar to minimize the backtracking of the semi-recursive algorithm.",
        "formalism derived from the Tree Adjoining Grammar model ((Joshi and aL,1975), (Shabes and Shieber,1994)).",
        "This formalism, which is still evolving, uses slightly enriched TAG grammars as its syntactic back-end.",
        "GTAG only deals with the Flow to say it ?",
        "aspect of the generation process.",
        "It takes as input a partly computed symbolic representation of the discourse, and defines the processing and the data necessary to produce the final text.GTAG is widely described in (Danlos, 1996), (Danlos, 1998), and (Danlos1999).",
        "Flaubert was the first GTAG implementation, conducted by Cora SA ((Meunier and Danlos, 1998), (Meunier 1997)).",
        "This implementation validated the first versions of the formalism, and yielded a stable version of GTAG.",
        "A new implementation has been initiated by Thomson-CSF LCR ((Meunier and Reyes, 1999), (Meunier, 1999)), using the Java language, with a strong emphasis on research and applications.",
        "We will give firstly a short insight of the GTAG formalism, then introduce the semi-recursive algorithm in comparison with the recursive .",
        "approach.",
        "Then, we will give a presentation of the CLEF generation algorithm that yields a nearly-surfacic syntactic representation from the conceptual representation (a post-processing phase takes care of the final output)."
      ]
    },
    {
      "heading": "2 Presentation of GTAG",
      "text": [
        "..The.GTAG formalism describes, the.domaio model used to specify the input of the generator, as well as the linguistics data and processing necessary to generate texts.",
        "GTAG uses a first-order logic formalism for its domain model, and a lexicalized TAG grammar as its syntactic model.",
        "We introduce hereafter both sub-formalisms, and the manner in which GTAG links them."
      ]
    },
    {
      "heading": "2.1 Domain model",
      "text": [
        "The Login (Logic and inheritance) formalism ((ATt-Kaci and Nasr, 1986), (Meunier, 1997)) has been used to model the domain knowledge.",
        "It takes type constraints into account, thus allowing to validate, to a certain extent, the input structures' coherence.",
        "GTAG specifies an additional constraint on the model : the existence of three generic concepts used to divide the conceptual domain, as follows.",
        "Entities, representing objects (individuals) of the world.",
        "O15f-order relations, representing simple events, between entities, or between entities and relations.",
        "2\"d order relations, representing relations between relations.",
        "Thus, a typical model will have the following form, as shown in figure I."
      ]
    },
    {
      "heading": "2.2 The grammar",
      "text": [
        "The syntactic back-end is a Lexicalized Tree Adjoining Grammar, which complies with the"
      ]
    },
    {
      "heading": "Predicate-Argument Cooccurrence Principle",
      "text": [
        "(AbeiIle, 1993), enriched with the following : T-Features, that tag and identify the differences between the syntactic structures (namely the trees).",
        "Those atomic tags, such .as T_CANONICAL, T PASSIVE,",
        "compositional selection mechanism of syntactic structures.",
        "For instance, the passive without agent )4. structure is determined by the following array of",
        "^Forms features, associated with each of the grammar trees, indicating their textual level.",
        "The possible values for the form features are as follows : ^-T-P : for noun phrases.",
        "-T+P : for a single sentence.",
        "^+T+P : for a text, i.e. various sentences.",
        "+P : for either a single sentence or a text.",
        "a G-derivation structures, which correspond to underspecified derivation trees.",
        "The nodes .",
        "can be constant (each node is equivalent to an elementary tree, as in standard derivation trees), or variable.",
        "In the latter case, the node can be associated with either a concept attribute name, or with an instantiated concept.",
        "Syntactic functions, which are encoded in the grammar."
      ]
    },
    {
      "heading": "2.3 The semantic-conceptual interface",
      "text": [
        "The semantic-conceptual interface is provided by the lexical bases (LB), which relate each instantiated concept from the generator input structure with an array of g-derivation trees.",
        "This interface associates arguments (from the grammar) with concept attributes (from the conceptual domain).",
        "A lexical base must be able to give, at any time of the process, a valid lexical choice.",
        "When it is created, a lexical base refers to a g-derivation tree, selected by default by the domain creator.",
        "This lexical choice can be modified by constraints introduced by the generation process.",
        "The GTAG global generation strategy is to modify the lexical base so that the lexical choices be coherent (selected trees can be combined), and that the text be as good as possible."
      ]
    },
    {
      "heading": "3 . The.generatiotralgarithm",
      "text": [
        "Tactical generation algorithms use various strategies which are all input-dependent.",
        "Moreover, defining the bounds between the \"how to say\" and the \"what to say\" is still an open question.",
        "RAGS (rags, 1999) proposes a standard architecture for the data, but leaves the processing details underspecified.",
        "However two main approaches can beatoticeel - the recursive one and the deductive one.",
        "The recursive approach is basically a depth-first backtracking search (for example (Nicolov, 1998)), while the deductive one uses inference mechanisms such as those used in expert systems or specialized languages such as PROLOG (Panaget, 1997).",
        "As deductive systems are often used as opaque ways of resolving problems, we will focus on the recursive algorithm, that can easily be used as a base for the customizing of algorithms.",
        "3.1 The input structure The input of the CLEF generation system is a hierarchical representation (i.e. a tree structure) of the conceptual structure.",
        "Therefore, a crucial choice is done before the proper linguistic generation : selecting the theme and the rheme of the utterancel.",
        "The main advantage from a technical point of view is the processing linearization : such a structure is not ambiguous regarding to the mapping between the elements of the input structures and the elements of the grammar.",
        "The input structure is therefore always considered as a single tree, and the text generation algorithm is basically a tree walk on this structure, with a lexical choice processing for each node.",
        "3.2Lexical choice constraints The lexical choices made by the lexical bases are modified by constraints that are related to different aspects of the selection either on the T-This choice is clearly arbitrary, because it is equally relevant to the \"what to say\" and the \"hove to say it\".",
        "Such a choice for CLEF was mainly guided by technical considerations.",
        "Feature, or on thelinear order of the elements, .or on the realisation of the arguments, etc.",
        "A list of constraints (initially empty) is associated to each lexical base, and the generation process adds new constraints while parsing the input structure.",
        "There are two types of constraints additions : implicit constraints.",
        "Such constraints are addedby a pareatiLB thaesaddecLa eonstrAint due to its own internal lexical choice.",
        "For example, the lexical selection of \"SI before S2\" (for a succession concept) imposes grammatical constraints on the argument \"after\" (related to S2) so that the selection of the argument be grammatically compatible (i.e. add a constraint that imposes the use of an infinitive sentence).",
        "explicit contraints.",
        "Those constraints are added by stylistic rules that will carry on the",
        "global schemas.",
        "lexical choice in order to avoid poor style, or to prevent dead-ends in the generation process.",
        "For example, the parallelism rule (Meunier 97) should impose that two verbal predicates use the same syntactic function for an argument they have in common.",
        "Every constraint addition is associated with a position in the input structure walk, so that it can be removed whenever the backtracking is used.",
        "We will also discuss how the backtracking can be partly avoided taking into account some properties of the algorithm, and using a minimum constraint propagation technique."
      ]
    },
    {
      "heading": "3.3 The semi-recursive.algorithm",
      "text": [
        "(Danlos, 1996) emphasizes on the problems tied to the use of a recursive depth-first algorithm in the area of text generation.",
        "More specifically she discusses the impossibility of preventing poor stylistic choices, even when they can be easily predicted.",
        "In fact, the problem holds in that stylistic or grammatical rules use information that =are,computed laterinithelenesationsstage by the recursive algorithm.",
        "Thus, in the examples given by (Danlos, 1996) (see figure 3), the two 2nd-order relation choices are obviously linked to each other.",
        "Nevertheless, the computation of the selection of RI is not done until other selections are done (at least E2, in this example).",
        "In this way, if no lexical selection satisfies the syntactic or stylistic constraints, the generation process will backtrack on the whole array of previous selections.",
        "Some techniques can be used to partially make up for the problem, for example the memoization ((Nicolov, 1998), (Becker, 1998)), but it does not solve the problem.",
        "The fact is that depth-first recursive approaches are not adapted to text generation, where lexical choices must be done in a global, holistic perspective (Danlos, 1998) and (Busernann, 1993).",
        "In this perspective, (Danlos, 1996) proposes a different algorithm, called \"semi-recursivealgorithm, in that it remedies to the main drawbacks of the recursive algorithm.",
        "The latter is caracterized by the following features : The lexical choices of the different levels of relations are carried out in parallel.",
        "The combinations of the trees and the stylistic choices are carried out separately for each level of concept.",
        "Thus, the consistency of all the lexical choices for a particular level is,ensuredrand.eachlevathconcept is considered globally.",
        "e The compatibility tests between the selections (i.e. the three levels of concepts) are carried out.",
        "If the combination is valid, it is accepted, otherwise some new selections are done until the compatibility tests succeed.",
        "The.approach_ofthisalgoritlunisTarticularly relevant, as the consistency is not ensured merely for the array of previous lexical choices (which is not enough, as we discussed), but for the whole set of lexical choices on the same level.",
        "This provides a realistic implementation of the global approach."
      ]
    },
    {
      "heading": "3.4 The CLEF algorithm",
      "text": [
        "The CLEF algorithm is a variant of the semi-recursive algorithm.",
        "In fact, the main idea of the semi-recursive algorithm is the separated",
        "processing of the different levels (entity, l''-order relations, 2nd-order relations).",
        "One problem remains : although the context is taken into account, it is only used in the same level of concepts.",
        "Thus, both the 2d-order relations and the I '`-order relations remain",
        "independent from each other; and in case of failure of the compatibility test, incompatible selections must be computed again.",
        "This is due to the fact that choices are carried out in parallel.",
        "In order to solve this problem easily, computation should be carried out sequentially and the different levels should be computed in a predefined order.",
        "In this case, the question arises : in which order should the different conceptual levels be computed ?",
        "Several evidences indicate that higher level elements should be selected first, then the lower levels (i.e. the 2\"d-order relations first, then the 1st-order relations, and then the entities).",
        "In fact, on the rhetorical point of view, the higher level elements (in GTAG, the rd-order relations) determine the text argumentative structure, thus providing stylistic consistency on the whole generated text.",
        "Were they not selected first, they would be constrained by the lexical choices of the other types of concepts.",
        "In other words, they would yield to constraints other than purely stylistic, which is not suitable for elements which first criterion of choice is, precisely, stylistics.",
        "Moreover, it seems that in numerous cases, it is preferable to select the simpler elements according to more complex ones.",
        "This corresponds to the approach developped by (Rastier and al., 1994), that shows that an element is only relevant in its surrounding context.",
        "Such an approach is relevant in our framework, since a particular lexical selection can only be done with full knowledge of the facts if its context is known.",
        "By context, we mean the conceptual-semantic context (eg.",
        "a reference to an entity that already exists in the discourse), the lexical context (eg, some lexical selection that has already been used for an entity), and the syntactic one (eg.",
        "a previous lexical selection imposes some syntactic constraint).",
        "Many essential information, for example to decide whether a noun phrase must be pronominalized or not, whether a verb can be elided or not, are available only if the surrounding context does exist and is known.",
        ",`principle:ofthelletermination ofthe_local , context by the global one\" (called \"hermeneutics principle\" in (Rastier and al., 1994)) can therefore be applied only if the global context is already computed, then the local one, according to the global context.",
        "In order for the generation process to be compliant with this principle, elements should be computed in the following order : 2\"-order relations first, then 1st-order relations, and then entities.",
        "Proceeding otherwise would be inconsistent : it is not possible to determine the lexical-syntactic selection of an entity without knowing if it is bound to a noun or a verb.",
        "The two possibilities are not necessarily available for a given concept, and carrying on without this piece of information could be considered a last resort.",
        "Besides surrounding context, the local context is also necessary, as shows the perspective notion which can be found in (Busemann, 1993), and also supported by (Rastier and al., 1994).",
        "It is therefore necessary to know the dependents (the children in the input tree structure) in order to make a lexical-syntactic choice.",
        "These elements were crucial for the design of the CLEF generation algorithm, which we will described hereafter.",
        "The CLEF generation algorithm considers the three conceptual levels one by one, carrying out the lexical selection at first on the 2\"1-order relations, then on the l'-order relations, and finally on the entities."
      ]
    },
    {
      "heading": "SUC SSION MARY TART EATSLEEP ZN I PETER TART PETER",
      "text": [
        "Flame 5 The 151 nhase .",
        "Mary_cooked.a..tam,.then),.7then COOK will be computed before EAT and SLEEP.",
        "On the contrary, if a tree anchoring S1 after S2 is used (like in Peter ate the tart and fell asleep after... ), EAT and SLEEP will be computed first, then COOK.",
        "This important property of the algorithm"
      ]
    },
    {
      "heading": "SUCCESSION MARY TART EATSLEEP ZN PETER TART PETER",
      "text": [
        "The graph walk has the following properties : It is carried out in three phases, one for each conceptual level.",
        "The walk is done depth-first, but following the surfacic linear order of the elements.",
        "Thus, the walk order for the 1'c-order elements depends on the lexical choices for RO and RI (see fig.3) : if the lexicalized tree selected for RI situates E2 before RI, then E2 should be computed before El 1 and E12.",
        "The same way, for El l and E12, the order of the processing will depend on the tree selected by R1.",
        "On our example (fig.",
        "5 to 7), this means that the order of walk of the second phase (regarding the l'-order relations) will depend on the lexical choices took during the first phase.",
        "For instance, if the SUCCESSION concept is lexical izcd using a tree anchoring S1 then S2 (like in The 1rd nhase allows to make lexical choices according to previous ones.",
        "A stack is added, and allows the storage of every lexical choice according to their linear order.",
        "This stack stores the history of the choices carried out, and thus allows to backtrack when needed.",
        "During the tree walk, some constraints are propagated towards the lower elements of the tree.",
        "So, a lexical-syntactic selection of a concept would be able to add constraints over the lexical choices of.the lexical bases lower-dependent.",
        "For example, such a concept could select a particular Form feature, or a particular set of T-Features, for one of its dependent.",
        "Unlike the semi-recursive algorithm, the global context choice also carries out according to local choices.",
        "The stylistic rules can not only use the",
        ".information given by.",
        "the-concepts.ofThe same level, but also the information given by the dependent nodes, which allows the retrieval of some predictable information.",
        "This information is, of course, limited as the lexical-syntactic choice of the dependent lexical bases if not performed at this point.",
        "For example, if E2 and E12 refers to the same concept, some constraints could be computed as.",
        "soon as the lexical selection for RO is done, and added to the lexical bases of the dependent nodes of RO, in particular RI.",
        "3.4.2 Minimum constraint propagation : controlling the backtracking The backtrack, when the processing comes to an impossibility for a lexical base to get a satisfactory lexical choice, is not excluded, although it is inherently limited by the nature of the graph walk.",
        "The handling of the backtracking can also take advantage of both the walk mechanism and the data structures used.",
        "For example, if the algorithm fails to find a valid choice for the E12 element (see figure 3), the backtracking can be performed directly on R1, to find an alternative choice compatible with all the dependent nodes (that is Ell and RO, in our example).",
        "If a modification is both available and compatible with the related lexical bases, it will be validated.",
        "For a lexical base, a modification is considered compatible if it does not imply any modification in the set of implicit constraints added to the related lexical bases, except the lexical base from which the processing backtracks.",
        "In our example, the backtracking process can ask the LB for RI to find an alternative choice that modifies the constraints on E12.",
        "without modifying any other, that is letting the implicit constraints for Ell et RO untouched.",
        "In other words, it consists in adding a new constraint on R1 that will imply the selection of a new lexical-syntactic structure so that the implicit constraints on Ell and RO remain identical, and so that the implicit constraints on Ell impose a new, compatible.",
        "choice.",
        "The algorithm can therefore carry out a minimum propagation of the constraints, without necessarily doing a full backtracking.",
        "In that case, .",
        "_ it_auempts.to.find.thtbest campromise with..the related lexical .bases, before falling back to the normal backtracking mechanism."
      ]
    },
    {
      "heading": "4Conclusion",
      "text": [
        "We discussed how to implement and improve the semi-recursive algorithm described in (Danlos1996), so that the global (holistic) approach ((Danlos, 1996) and (nastier and al.",
        ";1994)) be realistically impleniented.",
        "'Because of its nature, the algorithm is intented rather for best-first generation, and several improvements are still being studied, regarding the paraphrase and the dynamic construction and updating of the lexical bases."
      ]
    }
  ]
}
