{
  "info": {
    "authors": [
      "N. Smaili",
      "Patrick Cardinal",
      "Gilles Boulianne",
      "P. Dumouchel"
    ],
    "book": "International Conference on Computational Linguistics",
    "id": "acl-C02-1001",
    "title": "Disambiguation of Finite-State Transducers",
    "url": "https://aclweb.org/anthology/C02-1001",
    "year": 2002
  },
  "references": [
    "acl-C90-2040",
    "acl-J94-3001",
    "acl-J97-2003"
  ],
  "sections": [
    {
      "heading": "Abstract",
      "text": [
        "The objective of this work is to disambiguate transducers which have the following form: T = R o D and to be able to apply the determinization algorithm described in (Mohri, 1997).",
        "Our approach to disambiguating T = R o D consists first of computing the composition T and thereafter to disambiguate the transducer T. We will give an important consequence of this result that allows us to compose any number of transducers R with the transducer D, in contrast to the previous approach which consisted in first disambiguating transducers D and R to produce respectively D' and R', then computing T = R� o D' where T' is unambiguous.",
        "We will present results in the case of a transducer D representing a dictionary and R representing phonological rules."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "The task of speech recognition can be decomposed into several steps, where each step is represented by a finite-state transducer (Mohri et al., 1998).",
        "The search space of the recognizer is defined by the composition of transducers T= A o C o R o D o M. Transducer A converts a sequence of observations O to a sequence of context-dependent phones.",
        "Transducer C converts a sequence of context-dependent phones to a sequence of context-independent phones.",
        "Transducer R is a mapping from phones to phones which implements phonological rules.",
        "Transducer D is the pronunciations dictionary.",
        "It converts a sequence of context-independent phones to a sequence of words.",
        "Transducer M represents a language model: it converts sequences of words into sequences of words, while restricting the possible sequences or assigning a score to the sequences.",
        "The speech recognition problem consists of finding the path of least cost in transducer O o T, where O is a sequence of acoustic observations.",
        "The pronunciations dictionary representing the mapping from pronunciations to words can show an inherent ambiguity: a sequence of phones can correspond to more than one word, so we cannot apply the transducer determinization algorithm (an operation which reduces the redundancy, search time and possibly space).",
        "This problem is usually handled by adding special symbols to the dictionary to remove the ambiguity in order to be able to apply the determinization algorithm (Koskenniemi, 1990).",
        "Nevertheless, when we compose the dictionary with the phonological rules, we must take into account special symbols.",
        "This complicates the construction of transducers representing these rules and leads to size explosion.",
        "It would be simpler to compose the rules with the dictionary, then remove the ambiguity in the result and then apply the determinization algorithm."
      ]
    },
    {
      "heading": "2 Notations and definitions",
      "text": [
        "Formally, a weighted transducer over a semiring K = (K, (@, ®, ¯0, ¯1) is defined as a 6-tuple T = (Q, I, E1, E2, E, F) where Q is a finite set of states, I C Q is a finite set of initial states, E1 is the input alphabet, E2 is the output alphabet, E is a finite set of transitions and F C Q is a finite set of final states.",
        "A transition is an element of Q x E1 x E2xQxK.",
        "Transitions are of the form",
        "where p(t) denotes the transition’s origin state, i(t) its input label, o(t) its output label, n(t) the transition’s destination state and w(t) E K is the weight of t. The tropical semiring defined as (R+ U oc, min, +, oo, 0) is commonly used in speech recognition, but our results are applicable to the case of general semirings as well.",
        "A path 7r = t1 • • • tn of T is an element of E* verifying",
        "We can easily extend the functions p and n to those paths:",
        "We denote by P(r, s) the set of paths whose origin is state r and whose destination is state s. We can also extend the function P to the sets R C Q and",
        "We can extend the functions i and o to the paths by taking the concatenations of the input and output symbols:",
        "Definition 1 (unambiguous transducer, (Berstel, 1979)) A transducer T is said to be unambiguous if for each w E E1, there exists at most one path 7r in T such that i(7r) = w. Definition 2 (ambiguous paths) Two paths 7r and a are ambiguous if 7r =j4 a and i(7r) = i(a).",
        "Remark 1 : To remove the ambiguity between two paths 7r and a, it suffices to modify i(7r) by changing the first input label of the path 7r.",
        "This is done by introducing an auxiliary symbol such that: i(7r) =j4 i(a).",
        "Figure 1a shows an ambiguous transducer.",
        "It is ambiguous since for the input string “s e [z]”, there are two paths representing the output strings {ces, ses}.",
        "In this figure, “eps” stands for epsilon or null symbol.",
        "To disambiguate a transducer, we first group the ambiguous paths; we then remove the ambiguity in each group by adding auxiliary labels as shown in Figure 1b.",
        "Unfortunately, it is infeasible to enumerate all the paths in a cyclic transducer.",
        "However, in (Smaili, 2001) it is shown that cyclic transducers of the type studied in this work can be disambiguated by transforming to a corresponding acyclic sub-transducer such that T' C T. This",
        "fundamental property is described in detail in section 2.1.",
        "Accordingly, we apply the appropriate transformation to the input transducer."
      ]
    },
    {
      "heading": "2.1 Fundamental Property",
      "text": [
        "We are interested in the transducer T = (Q, I, E, Q, E, F) with E = E0 l+J E1 verifying the following property: Any cycle in T contains at least a transition t such that i(t) E E1.",
        "We denote by E0 and E1 the following sets: E0 = {t E E : i(t) E E0} and E1 = {t E E : i(t) E E1}.",
        "Notice that E=E0l+JE1.",
        "We can give a characterization of the ambiguous paths verifying the fundamental property.",
        "Before, let’s make the following remark: Remark 2 Any path 7r in T has the following form:",
        "with 7ri E E+0 , fi E E+1 for 1 < i < n, f0e E1 and gyr0 E E0 if n > 1.",
        "If n = 0 then 7r = f0 7r0.",
        "Proposition 1 (characterization of ambiguous paths) Let 7r and a be two paths such that:",
        "ai and 7ri are ambiguous (0 < i < n).",
        "fi and gi are ambiguous (0 < i < n).",
        "We will assume that the first transition’s path belongs to E0, i.e. f0 = c. Recall that if we want to avoid cycles, we just have to remove from T all transitions t E E1.",
        "According to Proposition 1, ambiguity needs to be removed only in paths that use transitions t E E0, namely the path 7ri that performs the decomposition given in Remark 2.",
        "Disambiguation consists only of introducing auxiliary labels in the ambiguous paths.",
        "We denote by Asrc the set of origin states of transitions belonging to E1 and by Adst the set of destination states of transitions belonging to E2.",
        "Asrc = {p(t) : t E E1} Adst = {n(t) : t E E1} According to Proposition 1 and what precedes, it would be equivalent and simpler to disambiguate an acyclic transducer obtained from T in which we have removed all E1 transitions.",
        "Therefore, we introduce the operator 41 : {Tin}−) {Tout} which accomplishes this construction.",
        "Let T = (Q, I, E1, E2, E, F).",
        "Then T(T) = (Q, I1, E1, E2, ET, F1) where:",
        "1.",
        "I1=IUAdstU{i},with iVQ.",
        "2.",
        "F1 = F U Asrc U { f }, with f V Q.",
        "3.",
        "ET = E \\ E1 U { (i, q, c, c, 0), q E I1} U {(q, f, c, c, 0), q E F1}.",
        "The third condition insures the connectivity of T(T) if T is itself connected.",
        "It suffices to disambiguate the acyclic transducer T(T), then reinsert the transitions of E1 in T(T).",
        "The set of paths in T(T) is then P(I1, F1)."
      ]
    },
    {
      "heading": "2.2 Algorithm",
      "text": [
        "Input: T = (Q, i, X, Y, E, F) is an ambiguous transducer verifying the fundamental property.",
        "Output: T1 = (Q, i, X U X1, Y, ET, F) is an unambiguous transducer, X1 is the set of auxiliary symbols.",
        "1.",
        "Tacyclic + – T(T).",
        "2.",
        "Path +- set of paths of Tacyclic.",
        "3.",
        "Disambiguate the set Path (creating the set X1).",
        "4.",
        "T0 +- build the unambiguous transducer which has unambiguous paths.",
        "5.",
        "T1 +- T-1(T0) (consists of reinserting in T0 the transitions of T which where removed).",
        "6. return T1",
        "Now, we will study an important class of transducers verifying the fundamental property.",
        "This class is obtained by doing the composition of a transducer D verifying the fundamental property with a transducer R. The composition of two transducers is an efficient algebraic operation for building more complex transducers.",
        "We give a brief definition of composition and the fundamental theorem that insures the invariance of the fundamental property by composition."
      ]
    },
    {
      "heading": "3 Composition",
      "text": [
        "The transducer T created by the composition of two transducers R and D, denoted T = R o D, performs the mapping of word x to word z if and only if R maps x to y and D maps y to z.",
        "The weight of the resulting word is the ®-product of the weights of y and z (Pereira and Riley, 1997).",
        "Definition 3 (Transitions) Let t = (q, a, b, q1, w1) and e = (r, b, c, r1, w2) be two transitions.",
        "We define the composition t with e by: t o e = ((q, r), a, c, (q1, r1), w1 (9 w2).",
        "Note that, in order to make the composition possible, we must have o(t) = i(e).",
        "Definition 4 (Composition) Let R = (QR, IR, X, Y, ER, FR) and S = (QS, IS, Y, Z, ES, FS) be two transducers.",
        "The composition of R with S is a transducer R o S = (Q, Q, X, Z, E, F) defined by:",
        "1. i = (iR,iS), 2.",
        "Q = QR × QS, 3.",
        "F=FR×FS, 4.",
        "E = {eROeS : eR E ER, eS E ES}.",
        "Let D = (QD, ID, Y, Z, ED, FD) be a transducer verifying the fundamental property.",
        "We can write Y = Y0 l+J Y1 where Y0 = {i(t) : t E E0} and Y1={i(t): tEE1}.",
        "Theorem 1 (Fundamental) Let R = (QR, IR, X, Y, ER, FR) verifying the following condition: (C) bt E ER, o(t) E Y1 =�> i(t) E Y1.",
        "Then the transducer T = R o D verifies the fundamental property.",
        "Proof: Let X1 = {i(t) : t E ER and o(t) E Y1ICY1 and X0=X\\X1.",
        "We will prove that any path in T contains at least a transition t such that i(t) E X1.",
        "Let 7r be a cycle in T. Then, there exists two cycles 7rR and 7rD in R and in D respectively such that 7r = 7rR o 7rD.",
        "The paths 7rR and 7rD have the following form:",
        "There is an index k such that i(gk) E Y1 since D verifies the fundamental property.",
        "We also necessarily have i(gk) = o(fk) .",
        "According to condition (C) of Theorem 1, we deduce that i(fk) E Y1.",
        "Knowing that fk c ER, we deduce that i(fk) E X1, which implies i(fk o gk) = i(fk) E X1."
      ]
    },
    {
      "heading": "3.1 Consequence",
      "text": [
        "The restriction to the case X = Y allows us to build a large class of transducers verifying the fundamental property.",
        "In fact, if two transducers R = (QR, IR, Y, Y, ER, FR) and S = (QS, IS, Y, Y, ES, FS) verify the condition (C) of Theorem 1, then S o R verifies the condition (C), associativity of o implies: S o (R o D) = (S o R) o D. Suppose that we have m transducers Ri ( 1 < i < m ) verifying the condition (C) of Theorem 1 and that we want to reduce the size of the transducer: Tm = Rm o Rm-1 ... R1 o D. To this end, we proceed as follows: we add the auxiliary symbols to disambiguate the transducer; then we apply determinization and finally we remove the auxiliary labels.",
        "These three operations are denoted by 0.",
        "The size of transducer Tm can also be reduced by computing: Tm = O(Rm o Rm-1 ... R1 o D).",
        "The old approach: T �m = R�m o R�m-1 ... R1 o D�.",
        "has several disadvantages.",
        "The size of Ri for 1 < i < m increases considerably since the auxiliary labels introduced in each transducer have to be taken into account in all others.",
        "This fact limits the number of transducers that can be composed with D."
      ]
    },
    {
      "heading": "4 Application and Results",
      "text": [
        "We will now apply our algorithm to transducers involved in speech recognition.",
        "Transducer D represents the pronunciation dictionary and possesses the fundamental property.",
        "The set of transitions of D is defined as",
        "where f is the unique final state of D, 0 is the unique initial state of D, x is any symbol and # is a symbol representing the end of a word.",
        "All transitions t E E0 are such that i(t) =j4 #.",
        "Any path 7r in E0 is acyclic.",
        "The transducer R representing a phonological rule is constructed to fulfill condition (C) of the fundamental theorem.",
        "The transducer D represents a French dictionary with 20000 words and their pronunciations.",
        "The transducer R represents the phonological rule that handles liaison in the French language.",
        "This liaison, which is represented by a phoneme appearing at the end of some words, must be removed when the next word begins with a consonant since the liaison phoneme is never pronounced in that case.",
        "However, if the next word begins with a vowel, the liaison phoneme may or may not be pronounced and thus becomes optional.",
        "Figure 2 shows the transducer that handles this rule.",
        "In the figure, p denotes all phonemes, v the vowels and [x] the liaison phonemes.",
        "Table 1 shows the results of our algorithm using the dictionary and the phonological rule previously described.",
        "As we can see in Table 1, the operator 0 produces a smaller transducer in all the cases considered here.",
        "5 Conclusion and future work We have been able to disambiguate an important class of cyclic and ambiguous transducers, which allows us to apply the determinization algorithm (Mohri, 1997); and then to reduce the size of those transducers.",
        "With our new approach, we do not have to take into account the number of transducers RZ and their auxiliary labels as was the case with the approach used before.",
        "Thus, new transducers RZ such as phonological rules can be easily inserted in the chain.",
        "The major disadvantage of our approach is that disambiguating a transducer increases its size systematically.",
        "Our future work will consist of developing a more effective algorithm for disambiguating an acyclic transducer."
      ]
    }
  ]
}
