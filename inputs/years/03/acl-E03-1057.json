{
  "info": {
    "authors": [
      "Ivana Kruijff-Korbayova",
      "Stina Ericsson",
      "Kepa Joseba Rodriguez",
      "Elena Karagjosova"
    ],
    "book": "Conference of the European Association for Computational Linguistics",
    "id": "acl-E03-1057",
    "title": "Producing Contextually Appropriate Intonation in an Information-State Based Dialogue System",
    "url": "https://aclweb.org/anthology/E03-1057",
    "year": 2003
  },
  "references": [
    "acl-E03-2004"
  ],
  "sections": [
    {
      "heading": "Abstract",
      "text": [
        "Our goal is to improve the contextual appropriateness of spoken output in a dialogue system.",
        "We explore the use of the information state to determine the information structure of system utterances.",
        "We concentrate on the realization of information structure by intonation.",
        "We present the results of evaluating the contextual appropriateness of varied system output produced with a text-to-speech synthesis system that supports intonation annotation."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "Most commercial spoken dialogue systems use carefully scripted dialogues.",
        "This has the advantage that the system output can be prerecorded and have high quality.",
        "The disadvantage is limited dialogue flexibility, as user-initiative must be restricted to ensure the dialogue adheres to the script.",
        "More flexible dialogues need dynamically produced output.",
        "As the range of possible system utterances grows prerecording becomes infeasi-ble, and speech synthesis becomes necessary.",
        "One challenge for systems using synthesized speech is the generation of contextually appropriate intonation.",
        "With dynamically produced output, the same sequence of words may appear in different contexts, possibly needing different intonation.",
        "For example, the intonation of an answer needs to correspond to the respective question: whereas in (IS) the nuclear intonation center has a \"default\" placement, in (2S) it does not.",
        "(1) U: What is the status of the stove?",
        "S: The stove is switched on.",
        "(2) U: Which device is switched on?",
        "S: The stove is switched on.",
        "Contextually inappropriate intonation may have negative effect on intelligibility or even lead to confusion; for example, when (1U) is answered with (2S), or (2U) with (IS), a mismatch arises.",
        "The details of relating intonation and other aspects of realization to context are still a research topic.",
        "In this paper, we concentrate on one function of intonation, to realize information structure (IS).",
        "We consider IS as a level of meaning that unifies a range of interacting contextually-dependent aspects of utterance realization, encountered in various combinations within and across languages.",
        "Determining the IS of system utterances according to context, and producing the corresponding realizations, are thus important steps in generating natural system output.",
        "Outline We show how we improve the spoken output of an information-state based dialogue system by controlling intonation using IS.",
        "§2 summarizes related work on controlling intonation in context.",
        "§3 gives background on IS, §4 on the information-state approach to dialogue.",
        "§5 presents rules for determining IS from the information state.",
        "§6 describes the generation of spoken output with contextually varied intonation in our system using two off-the-shelf speech synthesis systems.",
        "§7 presents evaluation results.",
        "We close with a summary and outlook in §8."
      ]
    },
    {
      "heading": "2 Related Work",
      "text": [
        "Early work on controlling intonation of synthesized speech in context concerned mainly accenting open-class items on first mention, and deaccenting previously mentioned or otherwise \"given\" items (Hirschberg, 1993; Monaghan, 1994).",
        "But algorithms based on givennenss fail to account for certain accentuation patterns, such as marking explicit contrast among salient items.",
        "Givenness alone also does not seem sufficient to motivate accent type variation.",
        "(Prevost, 1995) models contrastive accent patterns and some accent type variation using Steed-man's approach to IS in English (§3).",
        "In one application he handles question-answer pairs where the question intonation analysis in IS terms is used to motivate the IS of the corresponding answer, realized through intonation.",
        "Another application concerns intonation in generation of short descriptions of objects, where Theme/Rheme partitioning is motivated on text progression grounds, and Background/Focus partitioning distinguishes between alternatives in context.",
        "Our approach to assigning IS is similar to Pre-vost's in assigning IS according to the preceding context, both in terms of what question is being answered and what alternatives are salient.",
        "In our dialogue system, context is represented in the information state, which evolves dynamically as the dialogue progresses.",
        "In addition, we also determine IS using domain knowledge."
      ]
    },
    {
      "heading": "3 Information Structure",
      "text": [
        "Information structure (IS) is an inherent aspect of meaning; it is important for establishing coherence and getting the intended message across.",
        "IS partitioning refers to the organization speakers impose on utterances to reflect the context (what they believe is shared between them and the hearer(s)) and the intended context change.",
        "Despite conceptual similarities, various terminologies exist to describe IS and its semantics (Steedman and Kruijff-Korbayova, 2003).",
        "We follow (Steedman, 2000), because of the insights he incorporates and the degree of their explicit formalization.",
        "In a number of respects Steedman offers a synthesis of earlier proposals.",
        "His main point is to provide a compositional analysis of English intonation in IS terms.",
        "Of importance to our current enterprise are (i) the discourse-semantic interpretation of IS and (ii) the concrete correlations between IS and intonation.",
        "Finally, Steedman's approach to IS in English has been used earlier to control the intonation of synthesized speech in context (cf. §2)."
      ]
    },
    {
      "heading": "3 .1 IS Partitioning",
      "text": [
        "Steedman recognizes two dimensions of IS: a Theme/Rheme partitioning at the utterance-level, and a further Background/Focus partitioning of both Theme and Rheme.",
        "For example: The light in the kitchen is on.",
        "Backgr Focus Backgr Focus Theme Rheme Theme/Rheme partitioning reflects an aboutness relation: the Rheme is semantically predicated over the Theme.",
        "In terms of a question test, Theme corresponds to what the question sets up, and Rheme is what answers it.",
        "The Background/Focus partitioning reflects contrast between alternatives, against which the actual Theme and Rheme are cast.",
        "Rheme presupposes a Rheme-alternative set.",
        "(p-AS).",
        "Rheme-Focus selects one element from p-AS.",
        "Theme presupposes a Theme-alternative set {6-AS).",
        "Without Focus in Theme, #-AS is a singleton set.",
        "Otherwise, 0-AS has more elements, and the Theme-Focus selects one of them.",
        "Stack(Action) StackSet( Action) Set(Proposition) Set(Proposition) Stack(Question) speaker : Participant moves : AssocSet(Move,Bool) Figure 1 : The Information State in GoDIS IS can be realized by various means such as intonation, word order, grammatical structure or morphological marking.",
        "Here we concentrate on IS realization by intonation.",
        "Steedman has argued extensively that in English IS is homomorphic to intonation structure.",
        "In a nutshell: Theme/Rheme partitioning determines what accents are used: L+H*, L*+H in Theme and H*, L*, H*+L, H+L* in Rheme.",
        "Focus/Background partitioning determines the placement of pitch accents: they are assigned to words realizing the Focus elements.",
        "Words realizing Background elements do not carry an accent.",
        "A Rheme always contains a Focus, while Themes are marked (with Focus) or unmarked (without Focus).",
        "An L or H boundary marks the end of an intermediate phrase, and an L% or H% boundary tone the end of an intonational phrase.",
        "Themes or Rhemes can constitute intonational phrases.",
        "Accents, appropriate boundaries and boundary tones create tunes.",
        "Steedman argues that in English L+H*LH% is a marked-Theme tune, and H*LL% is one of the Rheme tunes in assertions.",
        "(Uhmann, 1991) suggests similar default tunes for German.",
        "We deviated from that by preserving the basic tunes of the German speech synthesis system we used, namely L+H*H-% for marked Theme and H+L*LL% for Rheme."
      ]
    },
    {
      "heading": "4 Information State Based Approach",
      "text": [
        "We implemented the generation of contextually varied intonation in GoDIS, an experimental system within the Information State framework, built using TrindiKit.",
        "GoDIS handles information exchange dialogue in travel agency and autoroute domains, and action-oriented dialogue at the interface to a mobile phone, VCR and some other home devices (Larsson, 2002).",
        "The Information State approach to dialogue modeling views dialogue as moves made by the participants.",
        "Their content updates the information state in various ways.",
        "The type of record assumed for the GoDIS information state is a version of the dialogue gameboard (Ginzburg, 1996) (Fig.",
        "1).",
        "It is divided into a PRIVATE and a SHARED part, the latter containing information that the agent assumes to be shared by the participants in the dialogue.",
        "Besides information about the latest utterance (speaker and move(s)), the SHARED part contains shared commitments (a set of propositions) and QUD (a stack of questions under discussion).",
        "When a question is asked, it is pushed onto the QUD, and is popped off when it is answered.",
        "In the PRIVATE part, the plan contains the system's long-term goals, while the agenda contains more immediate actions.",
        "A user utterance like \"I'd like to go to London\" is recognized as a move giving a destination and its content is represented in the shared commitments as the proposition dest(london).",
        "The corresponding question, where does the user want to go, is represented on the QUD as ?Xx.dest(x).",
        "GoDIS also contains modules for input interpretation, updating the information state, selection of next system move, and output generation, as well as resources such as lexicon and domain knowledge.",
        "The domain knowledge includes, e.g., dialogue plans and semantic sorts."
      ]
    },
    {
      "heading": "5 Information Structure Determination",
      "text": [
        "We present our approach to determining IS from the information state here, and the corresponding generation of varied intonation in §6."
      ]
    },
    {
      "heading": "5 .1 IS Determination Rules",
      "text": [
        "(Ginzburg, 1996) describes the felicity of an IS partitioning as requiring that a certain question is topmost on QUD.",
        "Based on that, we formulate the QUD-based Theme/Rheme determination (QudTR rule): If there is a question q topmost on QUD, and an utterance u with content c is to be uttered, where q is obtained by A-abstracting over c, then that part of c which corresponds to q belongs to the Theme of u, and the other part of c is the informative part which constitutes the Rheme of u.",
        "For example, if the question under discussion is !XxXy.price{x, y), then the propositional content price(200, euro) of an answer can be partitioned as (t Xx.price(x) t) {r 200,Euro r), where the Rheme corresponds to the value of the price parameter.",
        "The Focus/Background determination within Theme and Rheme is done using (semantic) parallelism, which we define as follows (an information unit is a basic term, a Theme or a Rheme, or a proposition without Theme-Rheme partitioning): Two information units, a – al o a2 and b = bl o hi (o means composition), are parallel when al is parallel with bland a2 is parallel with b2.",
        "Two basic terms are parallel when they are either identical or alternatives (belonging to the same sort but non-identical).",
        "For example, class(business) and class(economy) are parallel since the two instances of class are identical, and business and economy are alternative.",
        "We now define two complementary rules for determining Focus/Background based on parallelism.",
        "The difference between them lies in what the source of alternatives (and identicals) is.",
        "Focus is assigned to any element in an informativity unit having an alternative: (i) In the shared commitments (ComFB rule): If price(10007 euro) is in the shared commitments, andprice(500, euro) is to be uttered, Focus will be assigned to 500, because that is what distinguishes the price alternatives.",
        "(ii) In the domain (DomFB rule): Given business and economy are alternatives in the domain, DomFB assigns Focus to economy in class(economy).",
        "In our experimental implementation in GoDIS, the selection algorithm evokes for each system move the module for IS assignment.",
        "It takes as input the propositional content of the move, and returns it partitioned.",
        "IS assignment has several phases (Fig.",
        "2).",
        "First, the QudTR rule partitions the semantic form into Theme and Rheme.",
        "Then, the ComFB rule fires.",
        "If it fails to assign any Focus, the DomFB rule fires.",
        "The IS assigned to the content of a move is encoded by the operators rh for Rheme, focjrh for Rheme-Focus and focdh for Theme-Focus.",
        "The IS-partitioned content is sent to the generation module, which produces a string of words with an IS annotation using an internal set of labels: <rh>, <f_rh> and <f_th> respectively.",
        "For instance, a fully partitioned proposition is class(foc-th(business)), price(rh(foc-rh(1000))).",
        "The generated utterance labeled with information structure is: <f_th> Business </f_th> class costs <rh> <f_rh> 1000 </f_rh> Euro</rh>.",
        "The generation of the corresponding contexu-ally varied spoken output in GoDIS is described in §6.",
        "The sections below detail out how we get the IS-partitioning of the propositions.",
        "The QudTR rule is implemented as four disjunctive selection rules which fire depending on the semantics of the move to be generated and the content of QUD.",
        "For example, the rule below is applied if there is a question topmost on QUD which the proposition of the next move resolves.",
        "rule: qudTR class: selecLtr fst($coNTENT_OF_NEXT_MOVES, answer^)) eff: { rhemel(content_OF_next_moves) The assignment of Rheme, Rheme-Focus and Theme-Focus is done by a number of operators.",
        "For example, rhemel defined for an answer move assigns Rheme to the argument of a proposition.",
        "operation(rhemel,oqueue([Move IT]), [], oqueue([MovelIT])):-Move = answer(A), A =..[Functor,Argument], a2 =.. [Functor, rh(Argument)], Movel = answer(a2).",
        "Each information unit corresponding to a Theme or a Rheme is further processed by the rules assigning the Focus/Background partitioning using parallelism, which we turn to below.",
        "The ComFB rule currently applies to inform or answer move.",
        "The inset operator checks if SHARED/COM contains a parallel proposition.",
        "RULE: comFB class: selecLfb fst($CONTENT_OF_NEXTJVIOVES, PRE: < fst($content_OF_next_moves, answerLA)) in_set($/shared/com, A) EFF: { foCUS_arg(content_of_next_moves) The DomFB rule is implemented in three separate selection rules.",
        "The general case is covered by the rule below that takes an answer or inform move and tests for an alternative in the domain.",
        "rule: domFB class: selecLfb { fst($coNTENT_OF_NEXT_MOVES, answer^)) or fst($coNTENT_OF_NEXT_MOVES, inform(L4])) $domain :: proposition^) eff: { f0CUS_arg(CONTENT_OF_NEXT_MOVES) Example To show the assignment of both Theme-Focus and Rheme-Focus, consider (3): Ul: What is the price of a fight from Paris to London on April fi fth?",
        "S2: What class did you have in mind?",
        "U2: I don't know.",
        "S3: Business class costs one thousand euro.",
        "Economy class costs five hundred euro.",
        "The first utterance in (3S3) is an answer move already partitioned into Theme/Rheme: price(rh(1000)), class( business).",
        "This Theme/Rheme partitioned move is the input of the Focus/Background rules.",
        "In this case, DomFB is applied since SHARED/COM contains no proposition parallel to the proposition in the answer class(business).",
        "The operator focus-arg assigns Focus to the arguments of the Rheme and the Theme.",
        "The resulting partitioned propositions price(rh(foc.rh(1000))) and class(foc-th(business)) serve as input to the generation of the surface realization."
      ]
    },
    {
      "heading": "6 Producing Speech Output with Intonation Variation",
      "text": [
        "To produce contextualy varied spoken output in GoDIS, we use the Mary and Festival text-to-speech synthesis systems, and define mappings from our internal IS annotation to intonation annotation used by these systems.",
        "We chose these systems because they are both freely available, and they both support not only the SABLE intonation annotation standard but also a more finegrained ToBI-based intonation annotation.",
        "The integration of Festival and Mary into GoDIS (Fig.",
        "3) allows to experiment with: (i) Mary for German using SABLE or GToBI intonation annotation, (ii) Mary for English using SABLE intonation annotation and (iii) Festival for English using SABLE or the AMPL annotation (Kruijff-Korbayova et al., 2003).",
        "Here we concentrate on using Mary to generate German output, because that is the version for which we already have evaluation results.",
        "An evaluation of the English version is forthcoming.",
        "Ahttp://www.",
        "bell-labs, com/project/tts/sable.html or fst($CONTENT_OF_NEXT3/IOVES, informLA)) Mary is developed at DFKI and the Saarland University.",
        "It is designed to be highly modular, focusing on transparency and accessibility of intermediate processing steps, which makes it a suitable research tool.",
        "Mary currently handles German and English.",
        "It supports SABLE for both.",
        "For German Mary also suports the full inventory of tones defined in the German ToBI (Grice et al., to appear), and a set of break indices that distinguish between a potential boundary location (which might be \"stepped up\" and thus realized by some phonological process later on), an intermediate phrase break and sentence-final and paragraph-final boundaries.",
        "To assign default accents, Mary treats clauses as intonation phrases, and phrases as intermediate phrases.",
        "Each intermediate phrase carries a pitch accent.",
        "The last pitch accent in an intonation phrase is H+L*, all others are L+H*.",
        "This default intonation structure corresponds roughly to an IS partitioning with a marked Theme before Rheme (cf. §3.3).",
        "The GoDIS-Mary interface overrides these defaults.",
        "It converts the automatically assigned internal IS annotation tags into SABLE/GToBI (cf. the tag mapping in Tab.",
        "1), and stores the result as SABLE or Mary-XML, respectively."
      ]
    },
    {
      "heading": "7 Evaluation",
      "text": [
        "To evaluate the impact of controlling intonation through IS on the acceptability of system turns, we conducted two experiments with the German output of Mary.",
        "We tested whether there are differences in acceptability between (i) default output and (ii) the controlled intontation, in general and for various IS patterns.",
        "First, we compared contextual appropriateness of output produced with (i) the default intonation and controlled intonation, using either (ii) GToBI or (iii) SABLE intonation markup.",
        "Second, we carried out a more detailed comparison of contextual appropriateness for (i) the default intonation and (ii) the controlled intonation using GToBI.",
        "For each experiment, we prepared 3-5 turn dialogues from the travel agency and home-device domains handled in GoDIS.",
        "The last turn was the evaluated system utterance.",
        "The turns were constructed so that the context supported different IS patterns in the target: Marked or unmarked Theme before or after Rheme.",
        "Intonation annotation was assigned as described in §5 and §6.",
        "The dialogues were presented on a web pagewith the targets highlighted in bold.",
        "The subjects were asked to go through the dialogues one by one, read a dialogue, listen to the target audio, and judge the contextual appropriateness of its intonation on a scale from 1 (worst) to 5 (best).",
        "In the first experiment, 22 subjects judged 10 utterances in different intonation versions, in the second one it was 20 subjects and 16 utterances.",
        "none H-% (break ind.",
        "3) none emph, pitch base=\"+15%\" emph, pitch base=\"+20%\" The default was generally judged worse than SABLE output and that was judged worse than GToBI output (Tab.",
        "2, Ex.1).",
        "This was also the case for utterances with unmarked Theme, irrespective of Theme-Rheme order (Tab.",
        "3-4, Ex.",
        "1).",
        "For marked Theme, SABLE shows a slight improvement over the default (Tab.",
        "5-6, Ex.1).",
        "However, this is due to slight differences in pronunciation not due to the intonation annotation.",
        "More detailed analysis revealed a few exceptions when SABLE was judged better than GToBI.",
        "A possible source is that SABLE annotated input is additionally processed and possibly modified by applying Mary defaults in ways we cannot control.",
        "Thus, Mary may sometimes \"improve\" the SABLE intonation specification (towards default).",
        "With GToBI we give specific annotations that prevent the application of Mary defaults, but may sometimes result in less smooth output.",
        "In the second experiment we restricted the comparison to the default and GToBI output, and we varied the IS patterns systematically.",
        "The second experiment confirms the tendency that GToBI outputs get better acceptability judgements than Mary defaults both overall (Tab.",
        "2, Ex.",
        "2) and per IS pattern (Tab.",
        "3-6, Ex.2).",
        "Comparing average absolute judgements can be problematic, if the subjects place their judgements differently on the scale.",
        "However, the average differences between individual subjects' judgements of the GToBI and default version of each target were small and confirmed that GToBI output is judged better than the default (Table 7).",
        "After the first experiment, we also realized that the setup we use cannot ensure the subjects actually take the context into account.",
        "We considered presenting the dialogues spoken (recorded human-user turns and synthesized system turns), but then the quality and intonation of turns other than the target could influence the judgements.",
        "Instead, we included evaluation of the targets with default intonation in isolation before their The subjects were mostly computational linguistics students.",
        "Some had previous knowledge of phonetics or experience with speech synthesis.",
        "Since the default intonation corresponds to the IS pattern with marked Theme before Rheme (what may differ is the location of pitch accents), we expected the judgements to remain about the same when the context supports an IS partitioning which results in the same intonation as the default.",
        "In other cases, we expected the judgements for GToBI output to be better than those for the default.",
        "These predictions were born out by the differences between judgments of individual sentences with the respective IS patterns."
      ]
    },
    {
      "heading": "8 Conclusions",
      "text": [
        "Our goal was to explore the use of the information state to control the intonation of system output.",
        "We concentrated on intonation as the realization of IS.",
        "We defined a set of rules which derive IS from the information state in GoDIS.",
        "The information state, together with the domain knowledge, has proven to accommodate the IS components and predications of (Steedman, 2000), which in turn is translatable into other approaches to IS.",
        "This in itself is a result and an indication of the viability of our approach.",
        "We developed an experimental implementation that uses speech synthesis systems supporting SABLE and ToBI-based intonation markup.",
        "We presented the results of evaluating the implementation using Mary for generating contextually varied spoken output in German.",
        "The evaluation indicates that the contextual appropriateness of system output improves when intonation is assigned on the basis of IS.",
        "A number of issues remain to be explored:",
        "• Adjustments to the rules to properly cover specific cases of dialogue moves • Accounting for the interplay between information in the information state and in the domain knowledge • Taking more dialogue history into account • Making more subtle decisions about the realization of information structure",
        "The need for making more fine-grained semantic choices such as the IS partitioning also uation of targets in isolation, just to keep the down the number of judgements the subjects had to make.",
        "raises the issue of a suitable semantic representation.",
        "The semantics close to database contents we use now obscures many aspects of meaning important for more subtle dialoge modelling."
      ]
    },
    {
      "heading": "Acknowledgments This work has been supported by the EU project SIRIDUS (Specification, Interaction and Reconfiguration in Dialogue Understanding Systems, IST-1999-10516). We thank Robin Cooper, Geert-Jan Kruijff, Staffan Larsson and David Milward for discussions. We are also grateful to the evaluation participants.",
      "text": []
    }
  ]
}
