{
  "info": {
    "authors": [
      "Chitta Baral",
      "Michael Gelfond",
      "Richard Scherl"
    ],
    "book": "Workshop on Pragmatics of Question Answering",
    "id": "acl-W04-2503",
    "title": "Using Answer Set Programming to Answer Complex Queries",
    "url": "https://aclweb.org/anthology/W04-2503",
    "year": 2004
  },
  "references": [
    "acl-P00-1065",
    "acl-P98-1013"
  ],
  "sections": [
    {
      "heading": "Abstract",
      "text": [
        "In this paper we discuss the applicability of the knowledge representation and reasoning language AnsProlog for the design and implementation of query answering systems.",
        "We consider a motivating example, and illustrate how AnsProlog can be used to represent defaults, causal relations, and other types of common-sense knowledge needed to properly answer non-trivial questions about the example’s domain."
      ]
    },
    {
      "heading": "1 Introduction and Motivation",
      "text": [
        "Let us envision a query answering system (QAS) consisting of a search engine which searches diverse sources for information relevant to the given query, Q; a natural language processing module (NLPM), which translates this information (including the query) into a theory, F, of some knowledge representation language G; a general knowledge base, KB, containing common-senses and expert knowledge about various domains; and an inference engine which takes F and KB as an input and returns an answer to Q.",
        "Even though the choice of the KR language G is irrelevant for the first component of the system it plays an increasingly important role in the design of its other components.",
        "In this paper we hypothesize that AnsProlog - a language of logic programs under the answer set semantics (Gelfond and Lifschitz, 1988; Gelfond and Lifschitz, 1991) - is a good candidate for the KR language of QAS.",
        "This is especially true if answering a query Q requires sophisticated kinds of reasoning including default, causal, and counterfactual reasoning, reasoning about narratives, etc.",
        "The list of attractive properties of AnsProlog include its simplicity and expressive power, ability to reason with incomplete information, existence of a well developed mathematical theory and programming methodology (Baral, 2003), and the availability of rather efficient reasoning systems such as SMODELS(Niemela and Si-mons, 1997) and others as well(Eiter et al., 1997; Yu and Maratea, 2004).",
        "AnsProlog allows its users to encode defaults, causal relations, inheritance hierarchies, and other types of knowledge not readily available in other KR languages.",
        "In addition it supports construction of elaboration tolerant knowledge bases, i.e., ability to accommodate new knowledge without doing large scale surgery.",
        "The main drawback of the language is the inability of its current inference engines to effectively deal with numbers and numerical computations1.",
        "In this paper we illustrate the use of AnsProlog for query answering via a simple example.",
        "Of course substantially more work is needed to to prove (or disprove) our main hypothesis.",
        "Consider an analyst who would like to use his QAS to answer simple queries Q1 and Q2 about two people, John and Bob:",
        "• Q1 – Was John in the Middle East in mid-December?",
        "• Q2 – If so, did he meet Bob in the Middle East in mid-December?",
        "Let us assume that the search engine of QAS extracted the following simple text relevant to Q1 and Q2:",
        "John spent Dec 10 in Paris and took a plane to Baghdad the next morning.",
        "He was planning to meet Bob who was waiting for him there.",
        "We will also assume that the NLP module of the QAS realizes that to answer our queries it needs general knowledge of geography, calendar, and human activities including travel, meetings, and plans.",
        "In the next section we outline how such knowledge can be represented in AnsProlog."
      ]
    },
    {
      "heading": "2 Representing general knowledge",
      "text": []
    },
    {
      "heading": "2.1 The “geography” module M1",
      "text": [
        "The geography module M1 will contain a list is (baghdad, city) .",
        "is (iraq, country) .",
        "... of places and the definition of relation in(P1, P2) - “P1 is located in P2” The definition is given by a collection of facts: in (baghdad, iraq) .",
        "in(iraq,middle_east).",
        "in(paris,france).",
        "in(france,western_europe).",
        "in(western_europe,europe).",
        "... and the rule",
        "For simplicity we assume that our information about relation in is complete, i.e., if in(p1, p2) is not known to be true then it is false.",
        "This statement can be expressed by the rule in (P1, P2) : - not in (P1, P2) often referred to as the CWA- Closed World Assumption (Reiter, 1978) (for in).",
        "Here −p stands for “p is false” while not p says that “there is no reason to belief p”.",
        "Similar assumption can be written for is.",
        "The program has unique answer set containing in(iraq, middle east), -in(iraq, europe), etc.",
        "This answer set, (or its relevant parts) can be computed by answer set solvers.",
        "Sometimes this will require small additions to the program.",
        "For instance SMODELS, which require typing of variables, will not be able to compile this program.",
        "This problem can be remedied by adding a rule position(P) :- is(P,C).",
        "defining the type position and a statement #domain position(P;P1;P2;P3) declaring the type of the corresponding variables.",
        "Now SMODELS will be able complete the computation."
      ]
    },
    {
      "heading": "2.2 The “travelling” module M2",
      "text": [
        "This module describes the effects of a person travelling from one place to another.",
        "We are mainly interested in locations of people and in various travelling events which change these locations.",
        "Construction of M2 is based on the theory of dynamic systems () which views the world as a transition diagram whose states are labelled by fluents (propositions whose values depend on time) and arcs are labelled by actions.",
        "For instance, states of the diagram, D, can contain locations of different people; a transition �σ0, {a1, a2}, σ1� E D iffσ1 is apossible state of the domain after the concurrent execution of actions a1 and a2 in σ0.",
        "There is a well developed methodology of representing dynamic domain in AnsProlog (Baral and Gelfond, 2000; Turner, 1997) which, in its simplified form, will be used in the construction of M2.",
        "The language of M2 will contain time-steps from [0, n], fluent loc(P, X, T) - “place P is a location of person X at step T”.",
        "Various types of travelling events - fly, drive, etc., will be recorded by the list: instance_of(fly,travel).",
        "instance_of(drive,travel).",
        "...",
        "Description of an event type will contain the event’s name and attributes.",
        "The following is a generic description of John flying to Baghdad.",
        "actor(a1,john).",
        "destination(a1,baghdad).",
        "An actual event of this type will be recorded by a statement occurs(a1, i).",
        "(where i is a time-step in the history of the world) possibly accompanied by the actual time of i.",
        "In addition, M2 will import relation in(P1, P2) from the geography module M1.",
        "The transition diagram, D, of M2 will be described by ??",
        "groups of axioms.",
        "•.",
        "The first group consists of state constraints establishing the relationship between the domain fluents.",
        "In our case it is sufficient to have the rules:",
        "Here neq stands for the inequality.",
        "The first rule allows us to conclude that if at step T of the domain history X is in Iraq then he is also in the Middle East.",
        "The second two rules guarantee that X is not in Europe.",
        "•.",
        "The second group contains causal laws describing direct effects of actions.",
        "For our example it suffices to have the rules",
        "The first rule says that, in the absence of interference, a traveller will arrive at his destination.",
        "The second - the CWA for interference - states that the interference is an unusual event which normally does not happen.",
        "•.",
        "The third group consists of executability conditions for actions, which have the form occurs (E, T) : - cond (T) .",
        "which says that it is impossible for an event E occur at time step T if at that time step the domain is in a state satisfying condition cond.",
        "Causal laws and state constraints determine changes caused by execution of an action.",
        "To complete the definition of the transition diagram of the domain we need to specify what fluents do not change as the results of actions.",
        "This is a famous Frame Problem from (McCarthy and Hayes, 1969) where the authors suggested to solve it by formalizing the Inertia Axiom which says that “things tend to stay as they are”.",
        "This is a typical default which can be easily represented in AnsProlog.",
        "In our particular case it will have a form:",
        "The above representation is a slightly simplified version of AnsProlog theory of dynamic domains which gives notation for causal relations of the domain, includes general (fluent independent) formulation of the inertia, explains how the set of causal relations define the corresponding transition diagram, etc.",
        "We used this version to simple save space.",
        "Given the following history of the domain",
        "information contained in M1 and M2 is sufficient to conclude loc(baghdad, john, 1), loc(baghdad, bob, 1), loc(middle east, john, 1), -loc(paris, john, 1), etc.",
        "To answer the original queries we now need to deal with timing our actions.",
        "Let us assume, for instance, that the timing of John’s departure from Paris is recorded by statements: time (0, day, 11) .",
        "time(0,month,12).",
        "time(0,year,03).",
        "Here day, month, and year are the basic time measuring units.",
        "Finally we may need to specify typical durations of actions, e.g. time (T+1, day, D) : - occurs (E, T) , type (E, fly) , time (T, day, D) , not time (T+1, day, D) .",
        "where 1 < D < 31.",
        "To reason about the time relation we need to include a new module, M3, which will allow us to change granularity of our time measure."
      ]
    },
    {
      "heading": "2.3 M3 - measuring time",
      "text": [
        "The module contains types for basic measuring units, e.g. day(1..31).",
        "month(1..12).",
        "part ( start) .",
        "part (end) .",
        "part (middle) .",
        "... and rules translating from one granularity measure to another, e.g. time (T,part,middle):- time (T, d, D) ,",
        "... M3 presented in this paper is deliberately short.",
        "It includes very little knowledge beyond that needed to answer our query.",
        "Ideally it should be much bigger and include a formalization of the calendar.",
        "Among other things the module should allow us to prove statements like next(date(10,12, 03), date(11,12, 03) and next (date (31, 12, 03), date (1,1, 04).",
        "Now let us assume that NLP module of our QAS translated",
        "(a) information about John’s flight to Baghdad by a history",
        "Modules M1, M2 and M3 have enough information to correctly answer Q1."
      ]
    },
    {
      "heading": "2.4 Planning the meeting - M4",
      "text": [
        "To answer the second question we need an additional module about the event meet.",
        "The event type for meet will be similar to the previously discussed flying event a1.",
        "It may look like: event(a2).",
        "type (a2, meet) .",
        "actor(a2,john).",
        "actor(a2,bob).",
        "place(a2,baghdad).",
        "Notice however that the story contains no information about actual occurrence of this event.",
        "All we know is that a2 is planned to occur at time step one.",
        "We encode this by simply stating: planned (a2, 1) .",
        "Note that to give a positive answer to the question Q2 –”Did John meet Bob in the Middle East in mid-December?",
        "“ we need to reason about planned events.",
        "It seems that our positive answer to this question is obtain by using a default: “people normally follow their plans”.",
        "Again this is a typical default statement which, according to the general knowledge representation methodology of AnsProlog could be expressed by the rule:",
        "not occurs (E).",
        "In a slightly more complex situation we may need to assume that people take their plans seriously – they persist with their plans until the planned event actually happen.",
        "This is encoded as follows:",
        "Unlike traveling, the meeting event does not seem to have any obvious causal effects.",
        "It, however, has the following executability condition relevant to our story.",
        "-occurs (E, T) : - type (E, meet) , actor(E,X), place (E, P) , -loc(P,X,T) .",
        "Now we have enough information to answer our second query, which can be encoded as ?",
        "occurs (E, T) , type (E, meet) , actor(E,john), actor(E,bob), loc(middle_east,john,T), time(T,month,12), time(T,part,middle).",
        "As expected the answer will be positive.",
        "There are several ways to obtain this answer.",
        "It can of course be extracted from the unique answer set of our program.",
        "With small additions of types and declaration of variables similar to that we used to define position in M1 this answer set can be found by SMODELS or any other answer set solver.",
        "This method however may not scale.",
        "The problem is caused the calendar.",
        "Its integer variables for months, days, etc, in conjunction with a longer history (and therefore a larger number of time steps) may cause an unmanageable increase in the number of ground rules of the program.",
        "It seems however that in many interesting cases (including ours), the computation can be made substantially more efficient by properly combining answer set finding algorithms with the traditional resolution of Pro-log.",
        "The way of doing this will be illustrated in the full paper.",
        "We also plan to expand our modules especially those dealing with time and reasoning about plans."
      ]
    },
    {
      "heading": "3 FrameNet and Events",
      "text": [
        "Our vision of the NLPM is that it will translate both our short text and also the queries into AnsProlog sentences.",
        "There is a body of literature on translating or parsing English sentences into a semantic representation such as First Order Logic.",
        "See (Blackburn and Bos, 2003) for a recent survey of such techniques.",
        "The semantic representation makes use of symbols based upon the lexicon of English.",
        "The success of our endeavor requires that there be an axiomatization of the relationship between the symbols representing functions and predicate symbols in our various AnsProlog theories (e.g., M1 – M4) and the symbols (based upon the lexicon of English) used in the semantic representation of the English queries and the narrative texts.",
        "The online lexical database, FrameNet(Baker et al., 1998) provides such a connection, especially for events.",
        "This is done through the notion of frame semantics that underlies FrameNet.",
        "Frame semantics assumes that lexical items draw their meaning from conceptual structures or frames that provide an abstract or scematic description of particular types of events.",
        "The frames are structured into an inheritance hierarchy.",
        "Each frame includes a number offrame elements (FEs) or roles that make up the conceptual structure.",
        "For example, our “travelling” module M2 closely corresponds to the related FrameNet frames Travel, Move, and Ride Vehicle.",
        "The frames relate the various frame elements of Area (where the travelling takes place), Goal (where the travellers end up), Path (route of the travel), Source (starting point of the trip), and the Traveller (the living being which travels).",
        "Consider the phrase took a plane used to express the travelling activity.",
        "The verb take is associated with the frame Ride Vehicle.",
        "This information allows the connection with the axiomatization of flying events in M2.",
        "On the other hand FrameNet does not have entries for the verb spend as in spent Dec 10.",
        "But WordNet(Fellbaum, 1998) has 3 senses for the verb spend.",
        "Sense 1 is “pass – (pass (time) in a specific way.",
        "‘How are you spending your summer vacation?’).",
        "” Unfortunately, neither pass nor time allows us to index a useful frame for just being in a place.",
        "The coverage of FrameNet is not sufficient.",
        "It will be necessary to augment our use of FrameNet with other online sources such as WordNet and to also increase the number of frames within FrameNet.",
        "There has been some related work on using the frame of FrameNet for reasoning (Chang et al., 2002) and also on the automatic annotation of English texts with regard to the relevant frames (Gildea and Jurafsky, 2000) and frame elements."
      ]
    },
    {
      "heading": "4 Syntax and Semantics of AnsProlog",
      "text": [
        "An AnsProlog knowledge base consists of rules of the form: l0 ← l1,... , lm, not lm+1, ... , not lam, (4.1) where each of the lis is a literal, i.e. an atom, a, or its classical negation, a and not is a logical connective called negation as failure or default negation.",
        "While a states that a is false, an expression not l says that there is no reason to believe in l. The answer set semantics of a logic program 11 assigns to 11 a collection of answer sets – consistent sets of ground literals corresponding to beliefs which can be built by a rational reasoner on the basis of rules of 11.",
        "In the construction of these beliefs the reasoner is guided by the following informal principles:",
        "• He should satisfy the rules of 11, understood as constraints of the form: If one believes in the body of a rule one must belief in its head.",
        "• He should adhere to the rationality principle which says that one shall not believe anything he is not forced to believe.",
        "The precise definition of answer sets is first given for programs whose rules do not contain default negation.",
        "Let 11 be such a program and X a consistent set of ground literals.",
        "Set X is closed under 11 if, for every rule (4.1) of 11, l0 E X whenever for every 1 < i < m, li E X and for every m + 1 < j < n, lj E� X.",
        "Definition 1 (Answer set –part one) A state X of u (11) is an answer set for 11 if X is minimal (in the sense of set-theoretic inclusion) among the sets closed under 11.",
        "To extend this definition to arbitrary programs, take any program 11, and consistent set X of ground literals.",
        "The reduct, 11X , of 11 relative to X is the set of rules",
        "for all rules (4.1) in 11 such that lm+1, ... , lam, E� X.",
        "Thus 11X is a program without default negation.",
        "Definition 2 (Answer set –part two) X is an answer set for 11 if X is an answer set for 11X."
      ]
    },
    {
      "heading": "Definition 3 (Entailment)",
      "text": [
        "A program 11 entails a literal l (11 |= l) if l belongs to all answer sets of 11.",
        "The 11’s answer to a query l is yes if 11 |= l, no if 11 |= l, and unknown otherwise."
      ]
    },
    {
      "heading": "5 Summary",
      "text": [
        "In conclusion, we feel that the features of AnsProlog are well suited to form the foundations for an inference engine supporting a QAS.",
        "Our future work will develop the support tools and implementation needed to demonstrate this hypothesis."
      ]
    }
  ]
}
