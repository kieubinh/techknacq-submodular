{
  "info": {
    "authors": [
      "Yuqi Zhang",
      "Richard Zens",
      "Hermann Ney"
    ],
    "book": "SSST, NAACL-HLT 2007 / AMTA Workshop on Syntax and Structure in Statistical Translation",
    "id": "acl-W07-0401",
    "title": "Chunk-Level Reordering of Source Language Sentences with Automatically Learned Rules for Statistical Machine Translation",
    "url": "https://aclweb.org/anthology/W07-0401",
    "year": 2007
  },
  "references": [
    "acl-C04-1073",
    "acl-E03-1076",
    "acl-J03-1002",
    "acl-J90-2002",
    "acl-J96-1002",
    "acl-J97-3002",
    "acl-N04-1014",
    "acl-N04-1021",
    "acl-N04-1023",
    "acl-P01-1067",
    "acl-P02-1038",
    "acl-P02-1040",
    "acl-P03-1011",
    "acl-P03-1021",
    "acl-P04-1083",
    "acl-P05-1066",
    "acl-P06-1121",
    "acl-P96-1021",
    "acl-P97-1037",
    "acl-W03-1709",
    "acl-W05-0831",
    "acl-W06-1609"
  ],
  "sections": [
    {
      "text": [
        "Yuqi Zhang and Richard Zens and Hermann Ney",
        "Human Language Technology and Pattern Recognition Lehrstuhl fUr Informatik 6 - Computer Science Department RWTH Aachen University, D-52056 Aachen, Germany {yzhang,zens,ney } @cs.rwth-aachen.de",
        "In this paper, we describe a source-side reordering method based on syntactic chunks for phrase-based statistical machine translation.",
        "First, we shallow parse the source language sentences.",
        "Then, reordering rules are automatically learned from source-side chunks and word alignments.",
        "During translation, the rules are used to generate a reordering lattice for each sentence.",
        "Experimental results are reported for a Chinese-to-English task, showing an improvement of 0.5%-1.8% BLEU score absolute on various test sets and better computational efficiency than reordering during decoding.",
        "The experiments also show that the reordering at the chunk-level performs better than at the POS-level."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "In machine translation, reordering is one of the major problems, since different languages have different word order requirements.",
        "Many reordering constraints have been used for word reorderings, such as ITG constraints (Wu, 1996), IBM constraints (Berger et al., 1996) and local constraints (Kanthak et al., 2005).",
        "These approaches do not make use of any linguistic knowledge.",
        "Several methods have been proposed to use syntactic information to handle the reordering problem, e.g. (Wu, 1997; Yamada and Knight, 2001; Gildea, 2003; Melamed, 2004; Graehl and Knight, 2004; Galley et al., 2006).",
        "One approach makes use of bitext grammars to parse both the source and target languages.",
        "Another approach makes use of syntactic information only in the target language.",
        "Note that these models have radically different structures and parameterizations than phrase-based models for SMT.",
        "Another kind of approaches is to use syntactic information in rescoring methods.",
        "(Koehn and Knight, 2003) apply a reranking approach to the subtask of noun-phrase translation.",
        "(Och et al., 2004) and (Shen et al., 2004) describe the use of syntactic features in reranking the output of a full translation system, but the syntactic features give very small gains.",
        "In this paper, we present a strategy to reorder a source sentence using rules based on syntactic chunks.",
        "It is possible to integrate reordering rules directly into the search process, but here, we consider a more modular approach: easy to exchange reordering strategy.",
        "To avoid hard decisions before SMT, we generate a source-reordering lattice instead of a single reordered source sentence as input to the SMT system.",
        "Then, the decoder uses the reordered source language model as an additional feature function.",
        "A language model trained on the reordered source-side chunks gives a score for each path in the lattice.",
        "The novel ideas in this paper are:",
        "• reordering of the source sentence at the chunk level,",
        "• representing linguistic chunks-reorderings in a lattice.",
        "The rest of this paper is organized as follows.",
        "Section 2 presents a review of related work.",
        "In Sections 3, we review the phrase-based translation system used in this work and propose the framework of the new reordering method.",
        "In Section 4, we introduce the details of the reordering rules, how they are defined and how to extract them.",
        "In Section 5, we explain how to apply the rules and how to generate reordering lattice.",
        "In Section 6, we present some results that show that the chunk-level source reordering is helpful for phrase-based statistical machine translation.",
        "Finally, we conclude this paper and discuss future work in Section 7."
      ]
    },
    {
      "heading": "2. Related Work",
      "text": [
        "Beside the reordering methods during decoding, an alternative approach is to reorder the input source sentence to match the word order of the target sentence.",
        "Some reordering methods are carried out on syntactic source trees.",
        "(Collins et al., 2005) describe a method for reordering German for German-to-English translation, where six transformations are applied to the surface string of the parsed source sentence.",
        "(Xia and McCord, 2004) propose an approach for translation from French-to-English.",
        "This approach automatically extracts rewrite patterns by parsing the source and target sides of the training corpus.",
        "These rewrite patterns can be applied to any input source sentence so that the rewritten source and target sentences have similar word order.",
        "Both methods need a parser to generate trees of source sentences and are applied only as a preprocessing step.",
        "Another kind of source reordering methods besides full parsing is based on Part-Of-Speech (POS) tags or word classes.",
        "(Costa-jussa and Fonollosa, 2006) view the source reordering as a translation task that translate the source language into a reordered source language.",
        "Then, the reordered source sentence is taken as the single input to the standard SMT system.",
        "(Chen et al., 2006) automatically extract rules from word alignments.",
        "These rules are defined at the POS level and the scores of matching rules are used as additional feature functions during rescoring.",
        "(Crego and Marino, 2006) integrate source-side reordering into SMT decoding.",
        "They automatically learn rewrite patterns from word alignment and represent the patterns with POS tags.",
        "To our knowledge no work is reported on the reordering with shallow parsing.",
        "Decoding lattices were already used in (Zens et al., 2002; Kanthak et al., 2005).",
        "Those approaches used linguistically uninformed word-level reorderings."
      ]
    },
    {
      "heading": "3. System Overview",
      "text": [
        "In this section, we will describe the phrase-based SMT system which we use for the experiments.",
        "Then, we will give an outline of the extentions with the chunk-level source reordering model.",
        "In statistical machine translation, we are given a source language sentence f J = f 1... fj ... fj, which is to be translated into a target language sentence e{ = e i... e ...ej.",
        "Among all possible target language sentences, we will choose the sentence with the highest probability:",
        "This decomposition into two knowledge sources is known as the source-channel approach to statistical machine translation (Brown et al., 1990).",
        "It allows an independent modeling of the target language model Pr(e[) and the translation model Pr(fJ|e I).",
        "The target language model describes the well-formedness of the target language sentence.",
        "The translation model links the source language sentence to the target language sentence.",
        "The argmax operation denotes the search problem, i.e., the generation of the output sentence in the target language.",
        "A generalization of the classical source-channel approach is the direct modeling of the posterior probability Pr(e{|fJ).",
        "Using a log-linear model",
        "Standard Translation Process",
        "Translation Procès with Source Reordering",
        "Pr(eI\\fiJ ) exP (EM=1 Amhm(eI,flJ)",
        "The denominator represents a normalization factor that depends only on the source sentence fJ.",
        "Therefore, we can omit it during the search process.",
        "As a decision rule, we obtain:",
        "The log-linear model has the advantage that additional models h( ) can be easily integrated into the overall system.",
        "The model scaling factors are trained according to the maximum entropy principle, e.g., using the GIS algorithm.",
        "Alternatively, one can train them with respect to the final translation quality measured by an error criterion (Och, 2003).",
        "The log-linear model is a natural framework to integrate many models.",
        "The baseline system uses the following models:",
        "• phrase translation model",
        "• phrase count features",
        "• word-based translation model",
        "• word and phrase penalty",
        "• target language model (6-gram)",
        "• distortion model (assigning costs based on the jump width)",
        "All the experiments in the paper are evaluated without rescoring.",
        "More details about the baseline system can be found in (Mauser et al., 2006)",
        "Encouraged by the work of (Xia and McCord, 2004) and (Crego and Marino, 2006), we also reorder the source language side.",
        "Compared to reordering on the target language side, one advantage is the efficiency since the reordering lattice can be translated monotonically as in (Zens et al., 2002).",
        "Another advantage is that there is correct sentence information for the reordering methods, because the source sentences are always given.",
        "Syntactic reordering on target language is difficult, since the methods will degrade much because of the errors in hypothesis.",
        "We apply reordering at the syntactic chunk level which can been seen as an intermediate level between full parsing and POS tagging.",
        "Figure 1 shows the differences between the new translation framework and the standard translation process.",
        "A reordering lattice replaces the original source sentence as the input to the translation system.",
        "The use of a lattice avoids hard decisions before translation.",
        "To generate the reordering lattice, the source sentence is first POS tagged and chunk parsed.",
        "Then, reordering rules are applied to the chunks to generate the reordering lattice.",
        "Reordering rules are the key information for source reordering.",
        "They are automatically learned from the training data.",
        "The details ofthese two modules will be introduced in Section 5."
      ]
    },
    {
      "heading": "4. Reordering Rules",
      "text": [
        "There has been much work on learning and applying reordering rules on source language, such as (NieBen and Ney, 2001; Xia and McCord, 2004; Collins et al., 2005; Chen et al., 2006; Crego and Marino, 2006; Popovic and Ney, 2006).",
        "The reordering rules could be composed of words, POS tags or syntactic tags of phrases.",
        "In our work, a rule is composed of chunk tags and POS tags.",
        "There is no hierarchical structure in a rule.",
        "First, we show some rule examples in Table 1.",
        "A reordering rule consists of a left-hand-side (Iks) and a right-hand-side (rks).",
        "The left-hand-side is a syntactic rule (chunk or POS tags), while the right-hand-side is the reordering positions of the rule.",
        "Different rules can share the same left-hand-side, such as rules no.",
        "1, 2 and no.",
        "3, 4.",
        "The rules record not only the real reordered chunk sequence, but also the monotone chunk sequences, like no.",
        "1, 3 and 5.",
        "Note that the same tag sequence can appear multiple times according to different contexts, such as DNPo NPi m2 # 0 12 in rules no.",
        "5, 6, 7.",
        "The extraction of reordering rules is based on the word alignment and the source sentence chunks.",
        "Here, we train word alignments in both directions with GIZA++ (Och and Ney, 2003).",
        "To get alignment with high accuracy, we use the intersection alignment here.",
        "For a given word-aligned sentence pair (fJ ,e{ ,aJ), the source word sequence fJ is first parsed into a chunk sequence Ff.",
        "Accordingly, the word-to-word alignment aJ is changed to a chunk-to-word alignment af which is the combination of the target words aligned to the source words in a chunk.",
        "It is defined as:",
        "Figure 2: Illustration of three kinds of phrases: (a)monotone phrase, (b)reordering phrase, (c)cross phrase.",
        "The black box is a word-to-word alignment.",
        "The gray box is a chunk-to-word alignment.",
        "Here, jk denotes the position of the first source word in kth chunk.",
        "The new alignment is 1 : m from source chunks to target words.",
        "It also means aak is a set of positions of target words.",
        "We apply the standard phrase extraction algorithm (Zens et al., 2002) to (Ff, e[, af).",
        "Discarding the cross phrases, we keep the other phrases as rules.",
        "In a cross phrase, at least two chunk-word alignments overlap on the target language side.",
        "An example of a cross phrase is illustrated in Figure 2(c).",
        "Figure 2(a) and (b) illustrate the phrases for reordering rules, which could be monotone phrases or reordering phrases."
      ]
    },
    {
      "heading": "5. Reordering Lattice Generation",
      "text": [
        "The first step of chunk parsing is word segmentation.",
        "Then, a POS tagger is usually needed for further syntactic analysis.",
        "In our experiments, we use the tool of \"Inst.",
        "of Computing Tech., Chinese Lexical Analysis System (ICTCLAS)\" (Zhang et al., 2003), which does the two tasks in one pass.",
        "Referring to the description of the chunking task in CoNLL-2000, instead of English, a Chinese chunker is processed and evaluated.",
        "Each word is assigned a chunk tag, which contains the name ofthe chunk type and \"B\" for the first word of the chunk and \"I\" for each other word in the chunk.",
        "The \"O\" chunk tag is used for tokens which are not part of any chunk.",
        "We use the maximum entropy tool YAS-",
        "no.",
        "lhs",
        "rhs",
        "1.",
        "NP0 PPi u2 n3",
        "0 12 3",
        "2.",
        "NP0 PPi u2 n3",
        "3 0 12",
        "3.",
        "DNP0 NPi VP2",
        "0 1 2",
        "4.",
        "DNP0 NPi VP2",
        "102",
        "5.",
        "DNPq NPi m2",
        "0 1 2",
        "6.",
        "DNP0 NPi m2 adz",
        "3 0 12",
        "7.",
        "DNP0 NPi m2 ad3 v4",
        "43 0 1 2",
        "[mp ±S WR1 [HFJfS ^ S*a gig] ^fff/v Sentence Permutations",
        "MET to learn the chunking model.",
        "The model is based on a combination of word and POS tags.",
        "Since specific training and test data are not available for Chinese chunking, we convert subtrees of the Chinese treebank (LDC2005T01) into chunks.",
        "As there are many ways to choose a subtree, we uses the minimum subtree with the following constraints:",
        "• a subtree has more than one child,",
        "• the children of a subtree are all leaves.",
        "Compared to chunking of English as in CoNLL-2000, there are more chunk types (24 instead of 6) and no single-word chunks.",
        "These two aspects make chunking for Chinese harder.",
        "First, we search the reordering rules, in which the chunk sequence matches any tag sequence in the input sentence.",
        "A source sentence has many paths generated by the rules .",
        "For a word uncovered by any rules, its POS tag is used.",
        "Each path corresponds to one sentence permutation.",
        "The left part of the Figure 3 shows seven possible coverages, the right part is the reordering for each coverage.",
        "Some of the reorderings are identical, like the permutations in line 1, 3 and 5.",
        "That is because one word sequence is memorized by several rules in different contexts.",
        "All reorderings of an input sentence S are compressed and stored in a lattice.",
        "Each path is a possiis the used rules.",
        "The right part is the generated new ble reordering S' and is given a weight W. In this paper, the weight is computed using a source language model p(S').",
        "The weight is used directly in the decoder, integrated into Equation (4).",
        "There is also a scaling factor for this weight, which is optimized together with other scaling factors on the development data.",
        "The probability of the reordered source sentence is calculated as follows: for a reordered source sentence w 1 w2...wn, the trigram language model is:",
        "Beside a word N-gram language model, a POS tag N-gram model or a chunk tag N-gram model could be used as well.",
        "In this paper, we use a word trigram model.",
        "The model is trained on reordered training source sentences.",
        "A training source sentence is parsed into chunks.",
        "In the same way as described in Section 4.2, word-to-word alignments is converted to chunk-to-word alignments.",
        "We reorder the source chunks to monotonize the chunk-to-word alignments.",
        "The chunk boundaries are kept when this reordering is done."
      ]
    },
    {
      "heading": "6. Experiments 6.1 Chunking Result",
      "text": [
        "In this section, we report results for chunk parsing.",
        "The annotation of the data is derived from the Chinese treebank (LDC2005T01).",
        "The corpus is split into two parts: 1000 sentences are randomly selected as test data.",
        "The remaining part is used for training.",
        "The corpus is from the newswire domain.",
        "Table 2 shows the corpus statistics.",
        "For the 4 680 chunks in the test set, the chunker has found 4 414 chunks, of which 2 879 are correct.",
        "Following the criteria of CoNLL-2000, the chunker is evaluated using the F-score, which is a combination of precision and recall.",
        "The result is shown in Table 3.",
        "The accuracy is evaluated at the word level, the other three metrics are evaluated at the chunk level.",
        "The results at the chunk level are worse than at the word level, because a chunk is counted as correct only if the chunk tag and the chunk boundaries are both correct.",
        "For the translation experiments, we report the two accuracy measures BLEU (Papineni et al., 2002) and NIST (Doddington, 2002) as well as the two error rates word error rate (WER) and position-independent word error rate (PER).",
        "We perform translation experiments on the Basic Traveling Expression Corpus (BTEC) for the Chinese-English task.",
        "It is a speech translation task in the domain of tourism-related information.",
        "We report results on the IWSLT 2004, 2005 and 2006 evaluation test sets.",
        "There are 16 reference translations for the IWSLT 2004 and 2005 tasks and 7 reference translations for the IWSLT 2006 task.",
        "Table 4 shows the corpus statistics of the task.",
        "A training corpus is used to train the translation model, the language model and to obtain the reordering rules.",
        "A development corpus is used to optimize the scaling factors for the BLEU score.",
        "The English text is processed using a tokenizer.",
        "The Chinese text processing uses word segmentation with the ICTCLAS segmenter (Zhang et al., 2003).",
        "The translation is evaluated case-insensitive and without punctuation marks.",
        "The translation results are presented in Table 5.",
        "The baseline system is a non-monotone translation system, in which the decoder does reordering on the target language side.",
        "Compared to the baseline system, the source reordering method improves the BLEU score by 0.5% - 1.8% absolute.",
        "It also achieves a better WER.",
        "Note that the used chun-ker here is out-of-domain .",
        "An improvement is achieved even with a low F-measure for chunking.",
        "So, we could hope that larger improvement is possible using a high-accuracy chunker.",
        "Though the input is a lattice, the source reordering is still faster than the reordering during decoding, e.g. for the IWSLT 2006 test set, the baseline system took 17.5 minutes and the source reordering system took 12.3 minutes.",
        "The result also indicates that the non-monotone decoding hurts the performance in a source reordering framework.",
        "A similar conclusion is also presented in (Xia and McCord, 2004).",
        "Additional experiments we carried out to compare POS-level and chunk-level reorderings.",
        "We delete the chunk information and keep the POS tags.",
        "Then, we rerun the source reordering system on the IWSLT 2004 test set.",
        "The translation results are shown in Table 6.",
        "Though the accuracy of chunking is low, the chunk-level method gets better results than POSlevel method.",
        "With POS tags, we get more reordering rules and more paths in the lattice, since the sentence length is longer than with chunks.",
        "The statistics are shown in Table 7.",
        "Chinese",
        "English",
        "Train",
        "Sentences",
        "40k",
        "Words",
        "308k",
        "377k",
        "Dev",
        "Sentences",
        "489",
        "Words",
        "5 478",
        "6 008",
        "Test",
        "Sentences",
        "500",
        "IWSLT04",
        "Words",
        "3 866",
        "3581",
        "Test",
        "Sentences",
        "506",
        "IWSLT05",
        "Words",
        "3 652",
        "3 579",
        "Test",
        "Sentences",
        "500",
        "IWSLT06",
        "Words",
        "5 846",
        "-",
        "train",
        "test",
        "sentences",
        "17 785",
        "1000",
        "words",
        "486 468",
        "21851",
        "chunks",
        "105 773",
        "4 680",
        "words out of chunks",
        "244 416",
        "10282",
        "accuracy",
        "precision",
        "recall",
        "F-measure",
        "74.51%",
        "65.2%",
        "61.5%",
        "63.3"
      ]
    },
    {
      "heading": "7. Conclusions and Future Work",
      "text": [
        "This paper presents a source-side reordering method which is based on syntactic chunks.",
        "The reordering rules are automatically learned from bilingual data.",
        "To avoid hard decision before decoding, a reordering lattice representing all possible reorderings is used instead of single source sentence for decoding.",
        "The experiments demonstrate that even with a very poor chunker, the chunk-level source reordering is still helpful for a state-of-the-art statistical translation system and it has better performance than the POS-level source reordering and target-side reordering.",
        "There are some directions for future work.",
        "First, we would like to try this method on larger data sets and other language pairs.",
        "Second, we are going to improve the chunking accuracy.",
        "Third, we would reduce the number of rules and prune the lattice."
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "This material is partly based upon work supported by the Defense Advanced Research Projects Agency (DARPA) under Contract No.",
        "HR0011-06-C-0023, and was partially funded by the Deutsche Forschungsgemeinschaft (DFG) under the project \"Statistische Textubersetzung\" (Ne572/5)",
        "WER[%]",
        "PER[%]",
        "NIST",
        "BLEU[%]",
        "IWSLT04",
        "baseline",
        "47.3",
        "38.2",
        "7.78",
        "39.1",
        "source reordering",
        "46.3",
        "37.2",
        "7.70",
        "40.9",
        "IWSLT05",
        "baseline",
        "45.0",
        "37.3",
        "7.40",
        "41.8",
        "source reordering",
        "44.6",
        "36.8",
        "7.51",
        "42.3",
        "IWSLT06",
        "baseline",
        "67.4",
        "50.0",
        "6.65",
        "22.4",
        "source reordering",
        "65.6",
        "50.4",
        "6.46",
        "23.3",
        "source reordering+non-monotone decoder",
        "66.5",
        "50.3",
        "6.52",
        "22.4",
        "WER [%]",
        "PER [%]",
        "NIST",
        "BLEU [%]",
        "Baseline",
        "47.3",
        "38.2",
        "7.78",
        "39.1",
        "POS",
        "46.9",
        "37.5",
        "7.38",
        "39.7",
        "Chunk",
        "46.3",
        "37.2",
        "7.70",
        "40.9",
        "avg.",
        "density pro sent",
        "used rules",
        "translation time [min/sec]",
        "POS",
        "15.7",
        "6 868",
        "7:08",
        "Chunk",
        "8.2",
        "3 685",
        "3:47"
      ]
    }
  ]
}
