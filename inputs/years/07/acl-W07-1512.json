{
  "info": {
    "authors": [
      "Matthias Buch-Kromann"
    ],
    "book": "Linguistic Annotation Workshop",
    "id": "acl-W07-1512",
    "title": "Computing Translation Units and Quantifying Parallelism in Parallel Dependency Treebanks",
    "url": "https://aclweb.org/anthology/W07-1512",
    "year": 2007
  },
  "references": [
    "acl-J03-1002",
    "acl-N03-1017",
    "acl-N04-1035",
    "acl-P01-1067",
    "acl-P04-1041",
    "acl-P05-1034",
    "acl-P05-1067",
    "acl-W04-2208",
    "acl-W06-1606",
    "acl-W06-2705",
    "acl-W06-2920"
  ],
  "sections": [
    {
      "text": [
        "Computing translation units and quantifying parallelism in parallel dependency treebanks",
        "ISV Computational Linguistics Group Copenhagen Business School",
        "mbk.isv@cbs.dk",
        "The linguistic quality of a parallel treebank depends crucially on the parallelism between the source and target language annotations.",
        "We propose a linguistic notion of translation units and a quantitative measure of parallelism for parallel dependency treebanks, and demonstrate how the proposed translation units and parallelism measure can be used to compute transfer rules, spot annotation errors, and compare different annotation schemes with respect to each other.",
        "The proposal is evaluated on the 100,000 word Copenhagen Danish-English Dependency Treebank."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "Parallel treebanks are increasingly seen as a valuable resource for many different tasks, including machine translation, word alignment, translation studies and contrastive linguistics (Cmejrek et al., 2004; Cyrus, 2006; Hansen-Schirra et al., 2006).",
        "However, the usefulness of a parallel treebank for these purposes is directly correlated with the degree of syntactic parallelism in the treebank.",
        "Some non-parallelism is inevitable because two languages always differ with respect to their syntactic structure.",
        "But non-parallelism can also be the result of differences in the linguistic analyses of the source text and target text, eg, with respect to whether noun phrases are headed by nouns or determiners, whether conjunctions are headed by the first conjunct or the coordinator, whether prepositions are analyzed as heads or adjuncts in prepositional phrases, etc.",
        "In this paper, we focus on parallel dependency treebanks that consist of source texts and translations annotated with dependency analyses and word-alignments.",
        "These requirements are directly satisfied by the analytical layer of the Prague Czech-English Dependency Treebank (Cmejrek et al., 2004) and by the dependency layer of the Copenhagen Danish-English Dependency Treebank (Buch-Kromann et al., 2007).",
        "The requirements are also indirectly satisifed by parallel treebanks with a constituent layer and a word alignment, eg (Han et al., 2002; Cyrus, 2006; Hansen-Schirra et al., 2006; Samuelsson and Volk, 2006), since it is possible to transform constituent structures into dependency structures – a procedure used in the CoNLL shared tasks in 2006 and 2007 (Buchholz and Marsi, 2006).",
        "Finally, it is worth pointing out that the requirements are also met by any corpus equipped with two different dependency annotations since a text is always trivially word-aligned with itself.",
        "The methods proposed in the paper therefore apply to a wide range of parallel treebanks, as well as to comparing two monolingual treebank annotations with each other.",
        "The paper is structured as follows.",
        "In section 2, we define our notions of word alignments and dependencies.",
        "In section 3, we define our notion of translation units and state an algorithm for computing the translation units in a parallel dependency treebank.",
        "Finally, in sections 4, 5 and 6, we demonstrate how translation units can be used to compute transfer rules, quantify parallelism, spot annotation errors, and compare monolingual and bilingual annotation schemes with respect to each other."
      ]
    },
    {
      "heading": "2. Word alignments and dependencies",
      "text": [
        "In our linguistic analyses, we will assume that a word alignment W ' encodes atranslational correspondence between the word clusters W and W' in the source text and target text, ie, the word alignment expresses the human intuition that the subset W of words in the source text corresponds roughly in meaning or function to the subset W' of words in the target text.",
        "The translations may contain additions or deletions, ie, W and W' may be empty.",
        "We also assume that a dependency edge g _JL^ d encodes a complement or adjunct relation between a word g (the governor) and a complement or adjunct phrase headed by the word d (the dependent), where the edge label r specifies the complement or adjunct dependency role.",
        "As an illustration of how complement and adjunct relations can be encoded by means of dependency roles, the most important dependency roles used in the dependency framework Discontinuous Grammar (Buch-Kromann, 2006) are shown in Figure 1.",
        "Finally, we will assume that the dependencies form a tree (or a forest).",
        "The tree may be non-projective, ie, it may contain crossing branches (technically, a dependency g r > d is projective if",
        "subj mod vobj dobj pobj nobj",
        "X skal kun koncentrere sig om Y X must only concentrate self about Y",
        "X has to concentrate only on Y",
        "subj dobj vobj mod pobj nobj",
        "Figure 2: Parallel dependency treebank analysis with word alignment and two monolingual dependency analyses.",
        "and only if g is a transitive governor of all the words between g and d).",
        "Figure 2 shows an example of this kind of analysis, based on the annotation conventions used in Discontinuous Grammar and the associated Copenhagen Danish-English Dependency Treebank (Buch-Kromann et al., 2007).",
        "In the example, word alignments are indicated by lines connecting Danish word clusters with English word clusters, and dependencies are indicated by means of arrows that point from the governor to the dependent, with the dependency role written at the arrow tip.",
        "For example, the Danish word cluster \"koncentrere sig\" (\"concentrate self\") has been aligned with the English word \"concentrate\", and the English phrase headed by \"on\" is analyzed as a prepositional object of the verb \"concentrate.\"",
        "In the Danish dependency analysis, the dependency between the adverbial \"kun\" (\"only\") and its prepositional governor \"om\" (\"about\") is non-projective because \"om\" does not dominate the words \"koncentrere\" (\"concentrate\") and \"selv\" (\"self\").",
        "Complement roles",
        "Adjunct roles",
        "aobj",
        "adjectival object",
        "appa",
        "parenthetical apposition",
        "avobj",
        "adverbial object",
        "appr",
        "restrictive apposition",
        "conj",
        "conjunct of coordinator",
        "coord",
        "coordination",
        "dobj",
        "direct object",
        "list",
        "unanalyzed sequence",
        "expl",
        "expletive subject",
        "mod",
        "modifier",
        "iobj",
        "indirect object",
        "modo",
        "dobj-oriented modifier",
        "lobj",
        "locative-directional obj.",
        "modp",
        "parenthetical modifier",
        "nobj",
        "nominal object",
        "modr",
        "restrictive modifier",
        "numa",
        "additive numeral",
        "mods",
        "subject-oriented mod.",
        "numm",
        "multiplicative numeral",
        "name",
        "additional proper name",
        "part",
        "verbal particle",
        "namef",
        "additional first name",
        "pobj",
        "prepositional object",
        "namel",
        "additional last name",
        "possd",
        "possessed in genitives",
        "pnct",
        "punctuation modifier",
        "pred",
        "subject/object predicate",
        "rel",
        "relative clause",
        "qobj",
        "quotation object",
        "title",
        "title of person",
        "subj",
        "subject",
        "xpl",
        "explification (colon)",
        "vobj",
        "verbal object",
        "Dependency analyses differ from phrase-structure analyses in that phrases are a derived notion: in a dependency tree, each word has a derived phrase that consists of all the words that can be reached from the word by following the arrows.",
        "For example, the English word \"concentrate\" heads the phrase \"concentrate only on Y,\" and the Danish word \"om\" heads the discontinuous phrase \"kun ... om Y.\"",
        "If a parallel dependency analysis is well-formed, in a sense to be made clear in the following section, each alignment edge corresponds to what we will call a translation unit.",
        "Intuitively, given an aligment edge W – W', we can create the corresponding translation unit by taking the source and target subtrees headed by the words in W and W', deleting all parallel adjuncts of W - W', and replacing all remaining parallel dependents of W – W' with variables x1,...,xn and x[x'n.",
        "The resulting translation unit will be denoted by T(xixn) – T'(x'jx'n), where T and T' denote the source and target dependency trees in the translation unit.",
        "For convenience, we will sometimes use vector notation and write T (x) – T'(x') instead of T (x1,..., xn) – T '(xi,..., x'n).",
        "Dependencies are usually defined as relations between words, but by an abuse of terminology, we will say that a word d is a dependent of an alignment edge W – W' provided d is a dependent of some word in WUW' and d is not itself contained in W U W'.",
        "Figure 3 shows the six translation units that can be derived from the parallel dependency analysis in Figure 2, by means of the procedure outlined above.",
        "Each translation unit can be interpreted as a bidirectional translation rules: eg, the second translation unit in Figure 3 can be interpreted as a translation rule stating that a Danish dependency tree with terminals \"x1 skal x2\" can be translated into an English dependency tree with terminals \"xi has to x2\" where the English phrases x[, x'2 are translations of the Danish phrases xi , x2, and vice versa.",
        "In the following section, we will go deeper into",
        "subj vobj dobj pobj nobj",
        "X xl skal x2 koncentrere sig xl kun om xl Y X xl must x2 concentrate self xl only about xl Y",
        "subj dobj vobj pobj nobj",
        "the definition and interpretation of these rules.",
        "In particular, unlike the essentially context-free translation rules used in frameworks such as (Quirk et al., 2005; Ding, 2006; Chiang, 2007), we will not assume that the words in the translation rules are ordered, and that the translation rules can only be used in a way that leads to projective dependency trees.",
        "3 Translation units within a simple dependency-based translation model",
        "In many parallel treebanks, word alignments and syntactic annotations are created independently of each other, and there is therefore no guarantee that the word or phrase alignments coincide with any meaningful notion of translation units.",
        "To rectify this problem, we need to define a notion of translation units that links the word alignments and the source and target dependency analysis in a meaningful way, and we need to specify a procedure for constructing a meaningful set of word alignments from the actual treebank annotation.",
        "Statistical machine translation models often embody an explicit notion of translation units.",
        "However, many of these models are not applicable to parallel treebanks because they assume translation units where either the source text, the target text or both are represented as word sequences without any syntactic structure (Galley et al., 2004; Marcu et al., 2006; Koehn et al., 2003).",
        "Other SMT models assume translation units where the source and target language annotation is based on either context-free grammar (Yamada and Knight, 200i; Chiang, 2007) or context-free dependency grammar (Quirk et al., 2005; Ding, 2006).",
        "However, since non-",
        "subj mod vobj dobj pobj nobj",
        "X skal kun koncentrere sig om Y X must only concentrate self about Y projectivity is not directly compatible with context-free grammar, and parallel dependency treebanks tend to encode non-projective dependencies directly, the context-free SMT models are not directly applicable to parallel dependency treebanks in general.",
        "But the context-free SMT models are an important inspiration for the simple dependency-based translation model and notion of translation units that we will present below.",
        "In our translation model, we will for simplicity assume that both the source dependency analysis and the target dependency analysis are unordered trees, ie, dependency transfer and word ordering are modelled as two separate processes.",
        "In this paper, we only look at the dependency transfer and ignore the word ordering, as well as the probabilistic modelling of the rules for transfer and word ordering.",
        "There are three kinds of translation rules in the model:",
        "A. Complement rules have the form T (x) – T'(x') where T (x) is a source dependency tree with variables x = (x1,..., xn), T '(x') is a target dependency tree with variables x' = (xi,..., x'n), the words in T are aligned to the words in T', and the variables xk, x'kdenote parallel source and target subtrees.",
        "The rule states that a source tree T(x) can be transferred into a target tree T'(x') by transferring the source subtrees in x into the target subtrees in x'.",
        "B.",
        "Adjunct rules have the form (x a T(y)) – (x'^L T'(y')) where T (y) is a source dependency tree, T'(y') is a target dependency tree, and x, x' are variables that denote parallel adjunct subtrees with adjunct roles a, a', respectively.",
        "The rule states that given a translation unit T(y) – T(y'), an a-adjunct of any word in T can be translated into an a'-adjunct of any word in T'.",
        "C. Addition/deletion rules have the form T(y) – (x', a T'(y')) and (x^_ T(y)) – T'(f) where x,x' are variables that denote adjunct subtrees, and a, a'are adjunct relations.",
        "The addition rule states that an adjunct subtree x' can be introduced into the tar-gettree T' in atranslation unit T(y) – T(y') without any corresponding adjunct in the source tree T. Similarly, the deletion rule states that the adjunct subtree",
        "X has to concentrate onl on Y",
        "x in the source tree T does not have to correspond to any adjunct in the target tree T'.",
        "The translation model places severe restrictions on the parallel dependency annotations.",
        "For example, the annotation in Figure 4 is incompatible with our proposed translation model with respect to the adjunct \"only', since \"only\" attaches to the verb \"skal/must\" in the Danish analysis, but attaches to the preposition \"on\" in the English analysis – ie, it does not satisfy a requirement that follows implicitly from the adjunct rule: that corresponding source and target adjunct governors must belong to the same translation unit.",
        "In our example, there are two ways of rectifying the problem: we can (a) correct the dependency analysis as shown in Figure 2, or (b) correct the word alignment as shown in Figure 5.",
        "It can be shown that our translation model translates into the following four requirements on parallel analyses – ie, the requirements are necessary and sufficient for ensuring that the linguistic annotations are compatible with our translation model.",
        "In the following, two words are said to be coaligned if they belong to the same alignment edge.",
        "A dependency edge d r g is called internal if d and g are coaligned, and external otherwise.",
        "A word w is called singular if it fails to be coaligned with at least one word in the other language.",
        "Requirement I.",
        "The internal dependencies within a translation unit must form two connected trees.",
        "Ie,",
        "subj mod vobj dobj pobj nobj",
        "X skal kun koncentrere sig om Y X must only concentrate self about Y",
        "X has to concentrate only on Y",
        "subj dobj vobj mod pobj nobj",
        "Figure 5: Making the analysis from Figure 4 compatible with our translation model by changing the alignment edges.",
        "in an alignment W – W', the internal dependencies within W must form a connected source tree, and similarly for W'.",
        "Requirement II.",
        "The external dependencies between translation units must form an acyclic graph.",
        "Ie, in an alignment W – W', no word w £ W can be coaligned with an external transitive dependent of any word in W', and vice versa.",
        "Requirement III.",
        "Parallel external governors must be aligned to each other.",
        "Ie, if two nodes n, n' are coaligned with external governor edges n r g and n' (r' g', then g and g' must be coaligned.",
        "Requirement IV.",
        "The graph contains no singular external complements.",
        "If the source word c is a complement of governor g and c is not coaligned to any target word, then c and g must be coaligned to each other; and similarly for target complements.",
        "A graph that satisfies all four requirements is said to be well-formed with respect to our translation model.",
        "It can be shown that we can always transform an ill-formed graph G into a well-formed graph G' by merging alignment edges; G' is then called a reduction of G, and a reduction with a minimal number of mergings is called a minimal reduction of G. In a well-formed graph, we will refer to an alignment edge and its associated source and target dependency tree as a translation unit.",
        "It can be shown that minimal reductions can be computed by means of the algorithm shown in Figure 6.",
        "The body of the for-loop in Figure 6 ensures procedure minimal-reduction(graph G)",
        "merge each alignment edge in G with itself",
        "(ie, ensure int.",
        "connectedness & ext.",
        "acyclicity) for each W – W' in bottom-up order do merge W – W' with all of its external",
        "singular complements merge all external governors of W – W'return the modified graph G",
        "Requirements III (coaligned external governors) and IV (no singular complements), and the merging operation is designed so that it ensures Requirements I (internal connectedness) and II (acyclicity).",
        "The ill-formed analysis in Figure 4 has the minimal reduction shown in Figure 2, whereas the analyses in Figure 2 and 5 are well-formed, ie, they are their own minimal reductions.",
        "In the remainder of the paper, we will describe how minimal reductions and translation units can be used for extracting transfer rules, detecting annotation errors, and comparing different annotation schemes with each other."
      ]
    },
    {
      "heading": "4. Extracting transfer rules and quantifying parallelism",
      "text": [
        "The complement, adjunct, and addition/deletion rules in our simple dependency transfer model can be read off directly from the minimal reductions.",
        "Figure 7 shows the three complement rules induced from Figure 4 via the minimal reduction in Figure 5.",
        "Figure 8 (repeated from Figure 3) shows the six complement rules induced from the alternative analysis in Figure 2.",
        "We have tested the extraction procedure on a large scale by applying it to the i00,000 word Copenhagen Danish-English Dependency Treebank (Buch-Kromann et al., 2007).",
        "Figure 9 shows the percentage of translation units with size at least n",
        "W – W' are viewed as short-hands for the set of all bidirectional edges that link two distinct nodes in W U W'.",
        "subj vobj dobj pobj nobj",
        "X xl skal x2 koncentrere sig xl kun om xl Y X xl must x2 concentrate self xl only about xl Y",
        "subj dobj vobj pobj nobj subj vobj dobj pobj nobj",
        "X xl skal koncentrere sig om x2 Y X xl must concentrate self about x2 Y",
        "Figure : The three complement rules induced from igure 4 via the minimal reduction in Figure 5.",
        "subj dobj vobj",
        "Figure 8: The six complement rules induced from the minimal reduction in Figure 2 (repeated from Figure 3).",
        "percent tunits with",
        "logarithmic scale (dotted line) 100% translation unit size n",
        "Figure 9: The percentage of translation units in the Copenhagen Danish-English Dependency Treebank with size at least n, plotted on normal and logarithmic scales.",
        "in the parallel treebank, where the size of a translation unit is measured as the number of nodes in the associated complement transfer rule.",
        "The extracted transfer rules are useful for many purposes, including machine translation, lexicography, contrastive linguistics, and translation studies, but describing these applications is outside the scope of this paper."
      ]
    },
    {
      "heading": "5. Spotting annotation errors",
      "text": [
        "To the human annotator who must check the word-aligned dependency analyses in a parallel dependency treebank, the analyses in Figure 2 and Figure 4 look almost identical.",
        "However, from the induced translation units and the associated complement rules shown above, it would have been immediately obvious to the annotator that the analysis in Figure 2 is significantly better than the analysis in Figure 4.",
        "This suggests that we can increase the quality of the human annotation in parallel treebank projects by designing annotation tools that continuously compute the induced translation units and present them visibly to the human annotator.",
        "From a linguistic point of view, it can be expected that errors in the dependency annotation will often show up as non-parallelism that results in a large induced translation unit.",
        "So in a parallel dependency treebank, we can identify the most egregious examples of non-parallelism errors automatically by computing the induced translation units, and sorting them with respect to their size; the largest translation units will then have a high probability of being the result of annotation errors.",
        "To confirm our linguistic expectation that large translation units are often caused by annotation errors, we have selected a sample of 5 translation units from the Copenhagen Danish-English Dependency Treebank, distributed more or less uniformly with respect to translation unit size in order to ensure that all translation unit sizes are sampled evenly.",
        "We have then hand-checked each translation unit carefully in order to determine whether the translation unit contains any annotation errors or not, giving us a data set of the form (C, N) where N is the size of the translation unit and C indicates whether the translation unit is correct (C = 1) or not (C = 0).",
        "Figure 10 shows our maximum likelihood estimate of the conditional probability P(C = 1 |N = n) that a translation unit with size n is correct.",
        "From the",
        "have fitted p(n) to the parametric family p(n) = an by means of conditional maximum likelihood estimation with conditional likelihood L = n=i p(n{)ci(1 _ p(n{))l_ci.",
        "The resulting esti-",
        "est.",
        "percent correct tunits with size = n",
        "Figure 10: The estimated percentage of translation units with size n that are correct, plotted on normal and logarithmic scales.",
        "graph, we see that the correctness rate decreases quickly with n. For example, only 55% of all translation units with size 10 are correct, and only 13% of all translation units with size 20 are correct.",
        "Thus, the statistics confirm that large translation units are often caused by annotation errors in the treebank, so focusing the effort on large translation units can make the postediting more cost-efficient.",
        "This also suggests that when developing algorithms for automatic annotation of parallel dependency treebanks, the algorithms can improve their accuracy by penalizing large translation units."
      ]
    },
    {
      "heading": "6. Comparing annotation schemes",
      "text": [
        "Translation units can also be used to compare different annotation schemes.",
        "This is relevant in parallel treebank projects where there are several possible annotation schemes for one of the languages – eg, because there is more than one treebank or rule-based parser for that language.",
        "In this situation, we have the freedom of choosing the annotation schemes for the source and target languages so that they maximize the parallelism between the source and target language annotations.",
        "To make an informed choice, we can create a small pilot parallel treebank for each annotation scheme, and compare",
        "mates are a = 0.99 and (3 = 1.77 with confidence value 0.87, ie, if a data set D with the same translation unit sizes is generated randomly from the distribution p(n) = anP, then the conditional likelihood of D will be larger than the likelihood of our observed data set in 87% of the cases.",
        "This means that a two-sided test does not reject that the data are generated from the estimated distribution p(n).",
        "the treebank annotations qualitatively by looking at their induced translation units, and quantitatively by looking at their average translation unit size.",
        "The best choice of annotation schemes is then the combination that leads to the smallest and most sensible translation units.",
        "Since texts are always trivially word-aligned with themselves, the same procedure applies to monolingual corpora where we want to compare two different dependency annotations with each other.",
        "In this setup, structural differences between the two monolingual annotation schemes will show up as large translation units.",
        "While these structural differences between annotation schemes could have been revealed by careful manual inspection, the automatic computation of translation units speeds up the process of identifying the differences.",
        "The method also suggests that the conversion from one annotation scheme to another can be viewed as a machine translation problem – that is, if we can create a machine translation algorithm that learns to translate from one language to another on the basis of a parallel dependency treebank, then this algorithm can also be used to convert from one dependency annotation scheme to another, given a training corpus that has been annotated with both annotation schemes."
      ]
    },
    {
      "heading": "7. Conclusion",
      "text": [
        "In this paper, we have addressed the problem that the linguistic annotations in parallel treebanks often fail to correspond to meaningful translation units, because of internal incompatibilities between the dependency analyses and the word alignment.",
        "We have defined a meaningful notion of translation units and provided an algorithm for computing these translation units from any parallel dependency treebank.",
        "Finally, we have sketched how our notion of translation units can be used to aid the creation of parallel dependency treebanks by using the translation units as a visual aid for the human annotator, by using translation unit sizes to identify likely annotation errors, and by allowing a quantitative and qualitative comparison of different annotation schemes, both for parallel and monolingual treebanks.",
        "logarithmic scale",
        "(dotted line)",
        "-100%",
        "-10%",
        "-i%",
        "-0.1%",
        "-0.01%",
        "-0.001%"
      ]
    },
    {
      "heading": "8. Acknowledgments",
      "text": [
        "The work was supported by two grants from the Danish Research Council for the Humanities.",
        "Thanks to the anonymous reviewers for their helpful comments."
      ]
    }
  ]
}
