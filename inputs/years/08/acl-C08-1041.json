{
  "info": {
    "authors": [
      "Zhongjun He",
      "Qun Liu",
      "Shouxun Lin"
    ],
    "book": "International Conference on Computational Linguistics",
    "id": "acl-C08-1041",
    "title": "Improving Statistical Machine Translation using Lexicalized Rule Selection",
    "url": "https://aclweb.org/anthology/C08-1041",
    "year": 2008
  },
  "references": [
    "acl-D07-1007",
    "acl-J96-1002",
    "acl-N03-1017",
    "acl-P00-1056",
    "acl-P02-1038",
    "acl-P02-1040",
    "acl-P03-1021",
    "acl-P05-1033",
    "acl-P06-1066",
    "acl-P06-1077",
    "acl-P06-1121",
    "acl-P07-1005",
    "acl-W04-3250",
    "acl-W05-1506",
    "acl-W06-3108",
    "acl-W06-3601"
  ],
  "sections": [
    {
      "text": [
        "This paper proposes a novel lexicalized approach for rule selection for syntax-based statistical machine translation (SMT).",
        "We build maximum entropy (MaxEnt) models which combine rich context information for selecting translation rules during decoding.",
        "We successfully integrate the MaxEnt-based rule selection models into the state-of-the-art syntax-based SMT model.",
        "Experiments show that our lexicalized approach for rule selection achieves statistically significant improvements over the state-of-the-art SMT system."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "The syntax-based statistical machine translation (SMT) models (Chiang, 2005; Liu et al., 2006; Galley et al., 2006; Huang et al., 2006) use rules with hierarchical structures as translation knowledge, which can capture long-distance reorderings.",
        "Generally, a translation rule consists of a left-hand-side (LHS) lmd a right-hand-side (RHS).",
        "The LHS and RHS can be words, phrases, or even syntactic trees, depending on SMT models.",
        "Translation rules can be learned automatically from parallel corpus.",
        "Usually, an LHS may correspond to multiple RHS's in multiple rules.",
        "Therefore, in statistical machine translation, the rule selection task is to select the correct RHS for an LHS during decoding.",
        "The conventional approach for rule selection is to use precomputed translation probabilities which are estimated from the training corpus, as well as a n-gram language model which is trained on the target language.",
        "1 In this paper, we use LHS and source-side interchangeably (so are RHS and target-side).",
        "The limitation of this method is that it ignores context information (especially on the source-side) during decoding.",
        "Take the hierarchical model (Chiang, 2005) as an example.",
        "Consider the following rules for Chinese-to-English translation :",
        "These rules have the same source-side, and all of them can pattern-match all the following source phrases:",
        "in economic field 's cooperation [cooperation] 2 in [the economic field] i with people 's support under with [the support] 2 of [the people] 1",
        "Given a source phrase, how does the decoder know which rule is suitable?",
        "In fact, rule (1) and rule (2) have different syntactic structures (the left two trees of Figure 1).",
        "Thus rule (1) can be used for translating noun phrase (a), and rule (2) can be applied to prepositional phrase (b).",
        "The weakness",
        "ft xE m xm",
        "Xfu of Xrrj",
        "ft xm m xm",
        "i.",
        "ft xm W XE",
        "with X[u of Xq]",
        "of Chiang's hierarchical model is that it cannot distinguish different structures on the source-side.",
        "The linguistically syntax-based models (Liu et al., 2006; Huang et al., 2006) can distinguish syntactic structures by parsing source sentence.",
        "However, as an LHS tree may correspond to different RHS strings in different rules (the right two rules of Figure 1), these models also face the rule selection problem during decoding.",
        "In this paper, we propose a lexicalized approach for rule selection for syntax-based statistical machine translation.",
        "We use the maximum entropy approach to combine various context features, e.g., context words of rules, boundary words of phrases, parts-of-speech (POS) information.",
        "Therefore, the decoder can use rich context information to perform context-dependent rule selection.",
        "We build a maximum entropy based rule selection (MaxEnt RS) model for each ambiguous hierarchical LHS, the LHS which contains nonterminals and corresponds to multiple RHS's in multiple rules.",
        "We integrate the MaxEnt RS models into the state-of-the-art hierarchical SMT system (Chiang, 2005).",
        "Experiments show that the lexicalized rule selection approach improves translation quality of the state-of-the-art SMT system, and the improvements are statistically significant."
      ]
    },
    {
      "heading": "2. Previous Work",
      "text": [
        "Statistical machine translation systems usually face the selection problem because of the one-to-many correspondence between the source and target language.",
        "Recent researches showed that rich context information can help SMT systems perform selection and improves translation quality.",
        "The discriminative phrasal reordering models (Xiong et al., 2006; Zens and Ney, 2006) provided a lexicalized method for phrase reordering.",
        "In these models, LHS and RHS can be considered as phrases and reordering types, respectively.",
        "Therefore the selection task is to select a reordering type for phrases.",
        "They use a MaxEnt model to combine context features and distinguished two kinds of reorderings between two adjacent phrases: monotone or swap.",
        "However, our method is more generic, we perform lexicalized rule selection for syntax-based SMT models.",
        "In these models, the rules with hierarchical structures can handle reorderings of non-adjacent phrases.",
        "Furthermore, the rule selection can be considered as a multi-class classification task, while the phrase reordering between two adjacent phrases is a two-class classification task.",
        "Recently, word sense disambiguation (WSD) techniques improved the performance of SMT systems by helping the decoder perform lexical selection.",
        "Carpuat and Wu (2007b) integrated a WSD system into a phrase-based SMT system, Pharaoh (Koehn, 2004a).",
        "Furthermore, they extended WSD to phrase sense disambiguation (PSD) (Carpuat and Wu, 2007a).",
        "Either the WSD or PSD system combines rich context information to solve the ambiguity problem for words or phrases.",
        "Their experiments showed stable improvements of translation quality.",
        "These are different from our work.",
        "On one hand, they focus on solving the lexical ambiguity problem, and use a WSD or PSD system to predict translations for phrases which only consist of words.",
        "However, we put emphasis on rule selection, and predict translations for hierarchical LHS's which consist of both words and nonterminals.",
        "On the other hand, they incorporated a WSD or PSD system into a phrase-based SMT system with a weak distortion model for phrase reordering.",
        "While we incorporate MaxEnt RS models into the state-of-the-art syntax-based SMT system, which captures phrase reordering by using a hierarchical model.",
        "Chan et al.",
        "(2007) incorporated a WSD system into the hierarchical SMT system, Hiero (Chiang, 2005), and reported statistically significant improvement.",
        "But they only focused on solving ambiguity for terminals of translation rules, and limited the length of terminals up to 2.",
        "Different from their work, we consider a translation rule as a whole, which contains both terminals and nonterminals.",
        "Moreover, they explored features for the WSD system only on the source-side.",
        "While we define context features for the MaxEnt RS models on both the source-side and target-side.",
        "The hierarchical model (Chiang, 2005; Chiang, 2007) is built on a weighted synchronous context-free grammar (SCFG) .",
        "A SCFG rule has the following form:",
        "where X is a nonterminal, a is an LHS string consists of terminals and nonterminals, 7 is the translation of a, ~ defines a one-one correspondence between nonterminals in a and 7.",
        "For example, (5) X – > ( ^jiljf economic development)",
        "Rule (5) contains only terminals, which is similar to phrase-to-phrase translation in phrase-based SMT models.",
        "Rule (6) contains both terminals and nonterminals, which causes a reordering of phrases.",
        "The hierarchical model uses the maximum likelihood method to estimate translation probabilities for a phrase pair (a, 7), independent of any other context information.",
        "To perform translation, Chiang uses a log-linear model (Och and Ney, 2002) to combine various features.",
        "The weight of a derivation D is computed by:",
        "where <fii(D) is a feature function and Aj is the feature weight of <fii(D).",
        "During decoding, the decoder searches the best derivation with the lowest cost by applying SCFG rules.",
        "However, the rule selections are independent of context information, except the left neighboring n – 1 target words for computing n-gram language model."
      ]
    },
    {
      "heading": "3. Lexicalized Rule Selection",
      "text": [
        "The rule selection task can be considered as a multi-class classification task.",
        "For a source-side, each corresponding target-side is a label.",
        "The maximum entropy approach (Berger et al., 1996) is known to be well suited to solve the classification problem.",
        "Therefore, we build a maximum entropy based rule selection (MaxEnt RS) model for each ambiguous hierarchical LHS.",
        "In this section, we will describe how to build the MaxEnt RS models and how to integrate them into the hierarchical SMT model.",
        "Following (Chiang, 2005), we use (a, 7) to represent a SCFG rule extracted from the training corpus, where a and 7 are source and target strings, respectively.",
        "The nonterminals in a and 7 are represented by Xk, where k is an index indicating one-one correspondence between nonterminals in source and target sides.",
        "Let us use f{Xk) to represent the source text covered by Xk, and e(X^) to represent the translation of f{Xk).",
        "Let C(a) be the context information of source text matched by a, and C (7) be the context information of target text matched by 7.",
        "Under the MaxEnt model, we have:",
        "where hi is a binary feature function, Aj is the feature weight of hi.",
        "The MaxEnt RS model combines rich context information of grammar rules, as well as information of the subphrases which will be reduced to nonterminal X during decoding.",
        "However, these information is ignored by Chiang's hierarchical model.",
        "We design three kinds of features for a rule (a, 7):",
        "• Lexical features, which are the words immediately to the left and right of a, and boundary words of subphrase f{Xk) and e(X^);",
        "• Parts-of-speech (POS) features, which are POS tags of the source words defined in lexical features.",
        "• Length features, which are the length of sub-phrases f{Xk) and e(Xfc).",
        "Table 1: Feature categories of the MaxEnt RS model.",
        "Table 2: Features of rule X – > ( ft Xrrj ËI Xrg], X^ in the Xrrj ).",
        "Figure 2: An training example for rule extraction.",
        "Table 1 shows these features in detail.",
        "These features can be easily gathered according to Chinag's rule extraction method (Chiang, 2005).",
        "We use an example for illustration.",
        "Figure 2 is a word-aligned training example with POS tags on the source side.",
        "We can obtain a SCFG rule:",
        "Where the source phrases covered by Xq] and Xrj] are flM\" and respectively.",
        "Table 2 shows features of this rule.",
        "Note that following (Chiang, 2005), we limit the number of nonterminals of a rule up to 2.",
        "Thus a rule may have 20 features at most.",
        "After extracting features from the training corpus, we use the toolkit implemented by Zhang (2004) to train a MaxEnt RS model for each ambiguous hierarchical LHS.",
        "We set iteration number to 100 and Gaussian prior to 1.",
        "We integrate the MaxEnt RS models into the SMT model during the translation of each source sentence.",
        "Thus the MaxEnt RS models can help the decoder perform context-dependent rule selection during decoding.",
        "In (Chiang, 2005), the log-linear model combines 8 features: the translation probabilities P{\"f\\a) and P{a\\rf), the lexical weights Pw{^\\ot) and Pw(a\\^y), the language model, the word penalty, the phrase penalty, and the glue rule penalty.",
        "For integration, we add two new features:",
        "• Prs(l\\a, f{Xk),e(Xk)).",
        "This feature is computed by the MaxEnt RS model, which gives a probability that the model selecting a target-side 7 given an ambiguous source-side a, considering context information.",
        "• Prsn = exp(l).",
        "This feature is similar to phrase penalty feature.",
        "In our experiments,",
        "Side",
        "Type",
        "Name",
        "Description",
        "Source-side",
        "Lexical Features",
        "Wa_i",
        "The source word immediately to the left of a",
        "Wa+i",
        "The source word immediately to the right of a",
        "WL/Ä)",
        "The first word of f{Xk)",
        "WR/Ä)",
        "The last word of f{Xk)",
        "POS Features",
        "Pa_i",
        "POS of Wa_i",
        "Pa+i",
        "POS of Wa+i",
        "POS of WLf(Xk)",
        "mf(xk)",
        "POS ofWR/(Xfc)",
        "Length Feature",
        "LEN/(Xfc)",
        "Length of source subphrase f{Xk)",
        "Target-side",
        "Lexical Features",
        "WLe(Xfc)",
        "The first word of e{Xk)",
        "The last word of e{Xk)",
        "Length Feature",
        "LENe(Xfc)",
        "Length of target subphrase e{Xk)",
        "Type",
        "Feature",
        "Lexical Features",
        "Wa_i=iffl?M Wa+i=o",
        "WLf(Xl)=^m WRf(Xl)=$m WL/(X2)=-ê-# WR/(Xl)=-ê-#",
        "WLe(x1)=economic WRe(x1)=field WLe(x2) coopération WRj(xx) =cooperation",
        "POS Features",
        "Pa_i=v Wa+i=wj",
        "PL/(Xl)=n ?Rf(Xl)=a.",
        "PL/(X2)=vn PR/(X2)=vn",
        "Length Feature",
        "LEN/(xl)=2 LEN/(Xa)=l LENe(xl)=2 LENe(X2)=l",
        "in®/v",
        "II«/n",
        "W/ude",
        "-ê-fÈ/vn",
        "• /wj",
        "strengthen the cooperation",
        "in the economic",
        "field ■",
        "we find that some source-sides are not ambiguous, and correspond to only one target-side.",
        "However, if a source-side ol is not ambiguous, the first feature Prs will be set to 1.0.",
        "In fact, these rules are not reliable since they usually occur only once in the training corpus.",
        "Therefore, we use this feature to reward the ambiguous source-side.",
        "During decoding, if an LHS has multiple translations, this feature is set to exp(l), otherwise it is set to exp(0).",
        "The advantage of our integration is that we need not change the main decoding algorithm of a SMT system.",
        "Furthermore, the weights of the new features can be trained together with other features of the translation model.",
        "Chiang (2007) uses the CKY algorithm with a cube pruning method for decoding.",
        "This method can significantly reduce the search space by efficiently computing the top-n items rather than all possible items at a node, using the A;-best Algorithms of Huang and Chiang (2005) to speed up the computation.",
        "In cube pruning, the translation model is treated as the monotonic backbone of the search space, while the language model score is a non-monotonic cost that distorts the search space (see (Huang and Chiang, 2005) for definition of monotonicity).",
        "Similarly, in the MaxEnt RS model, source-side features form a monotonic score while target-side features constitute a nonmonotonic cost that can be seen as part of the language model.",
        "For translating a source sentence Ff, the decoder adopts a bottom-up strategy.",
        "All derivations are stored in a chart structure.",
        "Each cell c[i,j] of the chart contains all partial derivations which correspond to the source phrase //.",
        "For translating a source-side span we first select all possible rules from the rule table.",
        "Meanwhile, we can obtain features of the MaxEnt RS models which are defined on the source-side since they are fixed before decoding.",
        "During decoding, for a source phrase //, suppose the rule is selected by the decoder, where i < k < t < j and k + 1 < t, then we can gather features which are defined on the target-side of the subphrase Xrrj from the ancestor chart cell c[k + l,t – 1] since the span [k + l,t – 1] has already been covered.",
        "Then the new feature scores Prs and Prsn can be computed.",
        "Therefore, the cost of the derivation can be obtained.",
        "Finally, the decoding is completed when the whole sentence is covered, and the best derivation of the source sentence Ff is the item with the lowest cost in cell c[I, J]."
      ]
    },
    {
      "heading": "4. Experiments",
      "text": [
        "We carry out experiments on two translation tasks with different sizes and domains of the training corpus.",
        "• IWSLT-05: We use about 40,000 sentence pairs from the BTEC corpus with 354k Chinese words and 378k English words as our training data.",
        "The English part is used to train a trigram language model.",
        "We use IWSLT-04 test set as the development set and IWSLT-05 test set as the test set.",
        "• NIST-03: We use the FBIS corpus as the training corpus, which contains 239k sentence pairs with 6.9M Chinese words and 8.9M English words.",
        "For this task, we train two trigram language models on the English part of the training corpus and the Xinhua portion of the Gigaword corpus, respectively.",
        "NIST-02 test set is used as the development set and NIST-03 test set is used as the test set.",
        "To train the translation model, we first run GIZA++ (Och and Ney, 2000) to obtain word alignment in both translation directions.",
        "Then the word alignment is refined by performing \"grow-diag-final\" method (Koehn et al., 2003).",
        "We use the same method suggested in (Chiang, 2005) to extract SCFG grammar rules.",
        "Meanwhile, we gather context features for training the MaxEnt RS models.",
        "The maximum initial phrase length is set to 10 and the maximum rule length of the source-side is set to 5.",
        "We use SRI Language Modeling Toolkit (Stol-cke, 2002) to train language models for both tasks.",
        "We use minimum error rate training (Och, 2003) to tune the feature weights for the log-linear model.",
        "The translation quality is evaluated by BLEU metric (Papineni et al., 2002), as calculated by mteval-vllb.pl with case-insensitive matching of n-grams, where n = 4.",
        "We reimplement the decoder of Hiero (Chiang, 2007) in C++, which is the state-of-the-art SMT",
        "Table 3: BLEU-4 scores (case-insensitive) on IWSLT-05 task and NIST MT-03 task.",
        "SLex = Source-side Lexical Features, PF = POS Features, SLen = Source-side Length Feature, TF = Target-side features.",
        "system.",
        "During decoding, we set b = 100 to prune grammar rules, [3 = 10, b = 30 to prune X cells, and [3 = 10, b = 15 to prune S cells.",
        "For cube pruning, we set the threshold e = 1.0.",
        "See (Chiang, 2007) for meanings of these pruning parameters.",
        "The baseline system uses precomputed phrase translation probabilities and two trigram language models to perform rule selection, independent of any other context information.",
        "The results are shown in the row Baseline of Table 3.",
        "For IWSLT-05 task, the baseline system achieves a BLEU-4 score of 56.20.",
        "For NIST MT-03 task, the BLEU-4 score is 28.05 .",
        "As described in Section 3.2, we add two new features to integrate the MaxEnt RS models into the hierarchical model.",
        "To run the decoder, we share the same pruning settings with the baseline system.",
        "Table 3 shows the results.",
        "Using all features defined in Section 3.1 to train the MaxEnt RS models, for IWSLT-05 task, the BLEU-4 score is 57.20, which achieves an absolute improvement of 1.0 over the baseline.",
        "For NIST-03 task, our system obtains a BLEU-4 score of 29.02, with an absolute improvement of 0.97 over the baseline.",
        "Using Zhang's significance tester (Zhang et al., 2004) to perform paired bootstrap sampling (Koehn, 2004b), both improvements on the two tasks are statistically significant atp < 0.05.",
        "In order to explore the utility of the context features, we train the MaxEnt RS models on different feature sets.",
        "We find that POS features are the most useful features since they can generalize over all training examples.",
        "Moreover, length feature also yields improvement.",
        "However, these features are never used in the baseline.",
        "Table 4: Number of possible source-sides of SCFG rules for NIST-03 task and number of source-sides of the best translation.",
        "H-LHS = Hierarchical LHS, AH-LHS = Ambiguous hierarchical LHS."
      ]
    },
    {
      "heading": "5. Analysis",
      "text": [
        "Table 4 shows the number of source-sides of the SCFG rules for NIST-03 task.",
        "After extracting grammar rules from the training corpus, there are 163,097 source-sides match the test corpus, 91.15% are hierarchical LHS's (H-LHS, the LHS which contains nonterminals).",
        "For the hierarchical LHS's, 64.18% are ambiguous (AH-LHS, the H-LHS which has multiple translations).",
        "This indicates that the decoder will face serious rule selection problem during decoding.",
        "We also note the number of the source-sides of the best translation for the test corpus.",
        "For the baseline system, the number of H-LHS only account for 59.36% of total LHS's.",
        "However, by incorporating MaxEnt RS models, that proportion increases to 81.44%, since the number of AH-LHS increases.",
        "The reason is that, we use the feature Prsn to reward ambiguous hierarchical LHS's.",
        "This has some advantages.",
        "On one hand, H-LHS can capture phrase reorderings.",
        "On the other hand, AH-LHS is more reliable than non-ambiguous LHS, since most non-ambiguous LHS's occur only once in the training corpus.",
        "In order to know how the MaxEnt RS models improve the performance of the SMT system, we study the best translation of Baseline and Base-line+MaxEnt RS.",
        "We find that the MaxEnt RS models improve translation quality in 2 ways.",
        "System",
        "IWSLT-05",
        "NIST-03",
        "Baseline",
        "56.20",
        "28.05",
        "+ MaxEnt RS",
        "SLex",
        "56.51",
        "28.26",
        "PF",
        "56.95",
        "28.78",
        "SLex+PF",
        "56.99",
        "28.89",
        "SLex+PF+SLen",
        "57.10",
        "28.96",
        "SLex+PF +SLen+TF",
        "57.20",
        "29.02",
        "NO.",
        "of",
        "NO.",
        "of",
        "NO.",
        "of",
        "LH S",
        "H-LHS",
        "AH-LHS",
        "NIST MT-03",
        "163,097",
        "148,671",
        "95,424",
        "Baseline",
        "12,069",
        "7,164",
        "5,745",
        "+MaxEnt RS (All features)",
        "12,655",
        "10,306",
        "9,259",
        "Since the SCFG rules which contain nonterminals can capture reordering of phrases, better rule selection will produce better phrase reordering.",
        "For example, the source sentence \"... :5c^ SI",
        "• Reference: ... the five permanent members of the UN Security Council...",
        "• Baseline: ... the [United Nations Security Councilji [fivepermanent members]2 ■■■",
        "• +MaxEnt RS: ... [the five permanent members] 2 of [the UN Security Council] \\ ...",
        "The source sentence is translated incorrectly by the baseline system, which selects the rule and produces a monotone translation.",
        "In contrast, by considering information of the subphrases X^ and X[u, the MaxEnt RS model chooses the rule and obtains a correct translation by swapping X^ and X[|] on the target-side.",
        "The MaxEnt RS models can also help the decoder perform better lexical translation than the baseline.",
        "This is because the SCFG rules contain terminals.",
        "When the decoder selects a rule for a source-side, it also determines the translations of the source terminals.",
        "For example, the translations of the source sentence \"Stfi & M ftffi iT jf T » \" are as follows:",
        "• Reference I'm afraid this flight is full.",
        "• Baseline: I'm afraid already booked for this flight.",
        "• +MaxEnt RS: I'm afraid this flight is full.",
        "Here, the baseline translates the Chinese phrase \"iT St\" into \"booked\" by using the rule:",
        "The meaning is not fully expressed since the Chinese word \"St\" is not translated.",
        "However, the MaxEnt RS model obtains a correct translation by using the rule:",
        "However, we also find that some results produced by the MaxEnt RS models seem to decrease the BLEU score.",
        "An interesting example is the translation of the source sentence W BLf ft\"• Reference 1: What is the name of this street?",
        "• Reference2: What is this street called?",
        "• Baseline: What is the name of this street?",
        "• +MaxEntRS: What's this street called?",
        "In fact, both translations are correct.",
        "But the translation of the baseline fully matches Reference 1.",
        "Although the translation produced by the MaxEnt RS model is almost the same as Reference2, as the BLEU metric is based on n-gram matching, the translation \"What's\" cannot match \"What is\" in Reference2.",
        "Therefore, the MaxEnt RS model achieves a lower BLEU score."
      ]
    },
    {
      "heading": "6. Conclusion",
      "text": [
        "In this paper, we propose a generic lexicalized approach for rule selection.",
        "We build maximum entropy based rule selection models for each ambiguous hierarchical source-side of translation rules.",
        "The MaxEnt RS models combine rich context information, which can help the decoder perform context-dependent rule selection during decoding.",
        "We integrate the MaxEnt RS models into the hierarchical SMT model by adding two new features.",
        "Experiments show that the lexicalized approach for rule selection achieves statistically significant improvements over the state-of-the-art syntax-based SMT system.",
        "Furthermore, our approach not only can be used for the formally syntax-based SMT systems, but also can be applied to the linguistically syntax-based SMT systems.",
        "For future work, we will explore more sophisticated features for the MaxEnt RS models and integrate the models into the linguistically syntax-based SMT systems."
      ]
    },
    {
      "heading": "Acknowledgements",
      "text": [
        "We would like to show our special thanks to Hwee Tou Ng, Liang Huang, Yajuan Lv and Yang Liu for their valuable suggestions.",
        "We also appreciate the anonymous reviewers for their detailed comments and recommendations.",
        "This work was supported by the National Natural Science Foundation of China (NO.",
        "60573188 and 60736014), and the High Technology Research and Development Program of China (NO.",
        "2006AA010108)."
      ]
    }
  ]
}
