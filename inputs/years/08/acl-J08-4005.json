{
  "info": {
    "authors": [
      "Trevor Cohn",
      "Chris Callison-Burch",
      "Mirella Lapata"
    ],
    "book": "Computational Linguistics",
    "id": "acl-J08-4005",
    "title": "Constructing Corpora for the Development and Evaluation of Paraphrase Systems",
    "url": "https://aclweb.org/anthology/J08-4005",
    "year": 2008
  },
  "references": [],
  "sections": [
    {
      "text": [
        "Trevor Cohn* University of Edinburgh",
        "Chris Callison-Burch**",
        "Johns Hopkins University",
        "Mirella Lapata\" University of Edinburgh",
        "Automatic paraphrasing is an important component in many natural language processing tasks.",
        "In this article we present a new parallel corpus with paraphrase annotations.",
        "We adopt a definition of paraphrase based on word alignments and show that it yields high inter-annotator agreement.",
        "As Kappa is suited to nominal data, we employ an alternative agreement statistic which is appropriate for structured alignment tasks.",
        "We discuss how the corpus can be usefully employed in evaluating paraphrase systems automatically (e.g., by measuring precision, recall, and F1) and also in developing linguistically rich paraphrase models based on syntactic structure."
      ]
    },
    {
      "heading": "1.. Introduction",
      "text": [
        "The ability to paraphrase text automatically carries much practical import for many NLP applications ranging from summarization (Barzilay 2003; Zhou et al.",
        "2006) to question answering (Lin and Pantel 2001; Duboue and Chu-Carroll 2006) and machine translation (Callison-Burch, Koehn, and Osborne 2006).",
        "It is therefore not surprising that recent years have witnessed increasing interest in the acquisition of paraphrases fromreal world corpora.",
        "These are most often monolingual corpora containing parallel translations of the same source text (Barzilay and McKeown 2001; Pang, Knight, and Marcu 2003).",
        "Truly bilingual corpora consisting of documents and their translations have also been used to acquire paraphrases (Bannard and Callison-Burch 2005; Callison-Burch 2007) as well as comparable corpora such as collections of articles produced by two different newswire agencies about the same events (Barzilay and Elhadad 2003).",
        "Although paraphrase induction algorithms differ in many respects – for example, the acquired paraphrases often vary in granularity as they can be lexical (fighting, battle) or structural (last week's fighting, the battle last week), and are represented as words or",
        "* School of Informatics, University of Edinburgh, EH8 9AB, Edinburgh, UK.",
        "E-mail: tcohn@inf.ed.ac.uk.",
        "** Center for Speech and Language Processing, Johns Hopkins University, Baltimore, MD, 21218.",
        "E-mail: ccb@cs.jhu.edu.",
        "t School of Informatics, University of Edinburgh, EH8 9AB, Edinburgh, UK.",
        "E-mail: mlap@inf.ed.ac.uk.",
        "Submission received: 10 September 2007; revised submission received: 8 February 2008; accepted for publication: 26 March 2008.",
        "syntax trees – they all rely on some form of alignment for extracting paraphrase pairs.",
        "In its simplest form, the alignment can range over individual words, as is often done in machine translation (Quirk, Brockett, and Dolan 2004).",
        "In other cases, the alignments range over entire trees (Pang, Knight, and Marcu 2003) or sentence clusters (Barzilay and Lee 2003).",
        "The obtained paraphrases are typically evaluated via human judgments.",
        "Paraphrase pairs are presented to judges who are asked to decide whether they are semantically equivalent, that is, whether they can be generally substituted for one another in the same context without great information loss (Barzilay and Lee 2003; Barzilay and McKeown 2001; Pang, Knight, and Marcu 2003; Bannard and Callison-Burch 2005).",
        "In some cases the automatically acquired paraphrases are compared against manually generated ones (Lin and Pantel 2001) or evaluated indirectly by demonstrating performance increase for a specific application, such as machine translation (Callison-Burch, Koehn, and Osborne 2006).",
        "Unfortunately, manually evaluating paraphrases in this way has at least three drawbacks.",
        "First, it is infeasible to performfrequent evaluations when assessing incremental systemchanges or tuning systemparameters.",
        "Second, it is difficult to replicate results presented in previous work because there is no standard corpus, and no standard evaluation methodology.",
        "Consequently comparisons across systems are few and far between.",
        "The third drawback concerns the evaluation studies themselves, which primarily focus on precision.",
        "Recall is almost never evaluated directly in the literature.",
        "And this is for a good reason: There is no guarantee that participants will identify the same set of paraphrases as each other or with a computational model.",
        "The problem relates to the nature of the paraphrasing task, which has so far eluded formal definition (see the discussion in Barzilay [2003]).",
        "Such a definition is not so crucial when assessing precision, because subjects are asked to rate the paraphrases without actually having to identify them.",
        "However, recall might be measured with respect to some set of \"gold-standard\" paraphrases which will have to be collected according to some concrete definition.",
        "In this article we present a resource that could potentially be used to address these problems.",
        "Specifically, we create a monolingual parallel corpus with human paraphrase annotations.",
        "Our working definition of paraphrase is based on word and phrase alignments between semantically equivalent sentences.",
        "Other definitions are possible, for instance we could have asked our annotators to identify all constituents that are more or less meaning preserving in our parallel corpus.",
        "We chose to work with alignments for two reasons.",
        "First, the notion of alignment appears to be central in paraphrasing – most existing paraphrase induction algorithms rely on alignments either implicitly or explicitly for identifying paraphrase units.",
        "Secondly, research in machine translation, where several gold-standard alignment corpora have been created, shows that word alignments can be identified reliably by annotators (Melamed 1998; Och and Ney 2000b; Mihalcea and Pedersen 2003; Martin, Mihalcea, and Pedersen 2005).",
        "We therefore create word alignments similar to those observed in machine translation, namely, featuring one-to-one, one-to-many, many-to-one, and many-to-many links between words.",
        "Alignment blocks larger than one-to-one are used to specify phrase correspondences.",
        "1 Our definition of the term phrase follows the SMT literature.",
        "It refers to any contiguous sequence of words, whether it is a syntactic constituent or not.",
        "See Section 2 for details.",
        "Constructing Corpora for Paraphrase Systems",
        "In the following section we explain how our corpus was created and summarize our annotation guidelines.",
        "Section 3 gives the details of an agreement study, demonstrating that our annotators can identify and align paraphrases reliably.",
        "We measure agreement using alignment overlap measures from the SMT literature, and also introduce a novel agreement statistic for non-enumerable labeling spaces.",
        "Section 4 illustrates how the corpus can be used in paraphrase research, for example, as a test set for evaluating the output of automatic systems or as a training set for the development of paraphrase systems.",
        "Discussion of our results concludes the article."
      ]
    },
    {
      "heading": "2.. Corpus Creation and Annotation",
      "text": [
        "Our corpus was compiled from three data sources that have been previously used for paraphrase induction (Barzilay and McKeown 2001; Pang, Knight, and Marcu 2003; Dolan, Quirk, and Brockett 2004): the Multiple-Translation Chinese (MTC) corpus, Jules Verne's Twenty Thousand Leagues Under the Sea novel (Leagues), and the Microsoft Research (MSR) paraphrase corpus.",
        "These are monolingual parallel corpora, aligned at the sentence level.",
        "Both source and target sentences are in English, and express the same content using different surface forms.",
        "The MTC corpus contains news stories fromthree sources of journalistic Mandarin Chinese text.",
        "These stories were translated into English by 11 translation agencies.",
        "Because the majority of the translators were non-native English speakers, occasionally translations contain syntactic or grammatical errors and are not entirely fluent.",
        "After inspection, we identified four translators with consistently fluent English, and used their sentences for our corpus.",
        "The Leagues corpus contains two English translations of the French novel Twenty Thousand Leagues Under the Sea.",
        "The corpus was created by Tagyoung Chung and manually aligned at the paragraph level.",
        "In order to obtain sentence level paraphrase pairs, we sampled from the subset of one-to-one sentence alignments.",
        "The MSR corpus was harvested automatically from online news sources.The obtained sentence pairs were further submitted to judges who rated them as being semantically equivalent or not (Dolan, Quirk, and Brockett 2004).",
        "We only used semantically equivalent pairs.",
        "The sentence pairs were filtered for length (< 50) and length ratio (< 1:9 between the shorter and longer sentence).",
        "This was necessary to prune out incorrectly aligned sentences.",
        "We randomly sampled 300 sentence pairs from each corpus (900 in total).",
        "Of these, 300 pairs (100 per corpus) were first annotated by two coders to assess inter-annotator agreement.",
        "The remaining 600 sentence pairs were split into two distinct sets, each consisting of 300 sentences (100 per corpus), and were annotated by a single coder.",
        "Each coder annotated the same amount of data.",
        "In addition, we obtained a trial set of 50 sentences fromthe MTC corpus which was used for familiarizing our annotators with the paraphrase alignment task (this set does not form part of the corpus).",
        "In sum, we obtained paraphrase annotations for 900 sentence pairs, 300 of which are doubly annotated.",
        "To speed up the annotation process, the data sources were first aligned automatically and then hand-corrected.",
        "We used Giza++ (Och and Ney 2003), a publicly available",
        "2 The corpus is made available by the LDC, Catalog Number LDC2002T01, ISBN 1-58563-217-1.",
        "3 The corpus can be downloaded from http://uuu.isi.edu/~knight/.",
        "4 The corpus is available at http://research.microsoft.com/research/dounloads/Details/607D14D9-20CD-47E3-85BC-A2F65CD28042/Details.aspx.",
        "implementation of the IBM word alignment models (Brown et al.",
        "1993).",
        "Giza++ was trained on the full 993-sentence MTC part1 corpus using all 11 translators and all pairings of English translations as training instances.",
        "This resulted in 55 = 11,(121-1) training pairs per sentence and a total of 54, 615 training pairs.",
        "In addition, we augmented the training data with a word-identity lexicon, as proposed by Quirk, Brockett, and Dolan (2004).",
        "This follows standard practice in SMT where entries froma bilingual dictionary are added to the training set (Och and Ney 2000a), except in our case the \"dictionary\" is monolingual and specifies that each word type can be paraphrased as itself.",
        "This is necessary in order to informGiza++ about word identity.",
        "A common problem with automatic word alignments is that they are asymmetric: one source word can only be aligned to one target word, whereas one target word can be aligned to multiple source words.",
        "In SMT, word alignments are typically predicted in both directions: source-to-target and target-to-source.",
        "These two alignments are then merged (symmetrized) to produce the final alignment (Koehn, Och, and Marcu 2003).",
        "Symmetrization improves the alignment quality compared to that of a single directional model, while also allowing a greater range of alignment types (i.e., some many-to-one, one-to-many, and many-to-many alignments can be produced).",
        "Analogously, we obtained word alignments in both directions which we subsequently merged by taking their intersection.",
        "This resulted in a high precision and low recall alignment.",
        "Our annotators (two linguistics graduates) were given pairs of sentences and asked to show which parts of these were in correspondence by aligning themon a word-byword basis.",
        "Our definition of alignment was fairly general (Och and Ney 2003): Given a source string X = x1,..., xN and a target string Y = y1,..., yM, an alignment A between two word strings is the subset of the Cartesian product of the word positions:",
        "We did not provide a formal definition of what constitutes a correspondence.",
        "As a rule of thumb, annotators were told to align words or phrases x <-+ y in two sentences (X, Y) whenever the words x could be substituted for y in Y, or vice versa.",
        "This relationship should hold within the context of the sentence pair in question: the relation x - y need not hold in general contexts.",
        "Trivially this definition allowed for identical word pairs.",
        "Following common practice (Och, Tillmann, and Ney 1999; Och and Ney 2003; Daumé III and Marcu 2004), we distinguished between sure (S) and possible (P) alignments, where S C P. The intuition here is that sure alignments are clear-cut decisions and typical of genuinely substitutable words or phrases, whereas possible alignments flag a correspondence that has slightly divergent syntax or semantics.",
        "Annotators were encouraged to produce sure alignments.",
        "They were also instructed to prefer smaller alignments whenever possible, but were allowed to create larger block alignments.",
        "Smaller alignments were generally used to indicate lexical correspondences, whereas block alignments were reserved for non-compositional phrase pairs (e.g., idiomatic expressions) or simply expressions with radically different syntax or vocabulary.",
        "In",
        "5 The IBM alignment models require a large amount of parallel data to yield reliable alignments.",
        "We therefore selected the MTC for training purposes as it was the largest of our parallel corpora.",
        "6 We used five iterations for each of Model 1, Model 2, and the HMM model.",
        "7 The annotation was conducted using a Web-based alignment tool available at http://demo.linearb.co.uk/paraphrases/.",
        "Constructing Corpora for Paraphrase Systems",
        "problem of greenhouse attracted Australia 's attention",
        "liaxuan said that the",
        "Figure 1",
        "Manual alignment between two sentence pairs from the MTC corpus, displayed as a grid.",
        "Black squares represent sure alignment, gray squares represent possible alignment.",
        "cases where information in one sentence was not present in the other, the annotators were asked to leave this information unaligned.",
        "Finally, annotators were given a list of heuristics to help themdecide how to make alignments in cases of ambiguity.",
        "These heuristics handled the alignment of named entities (e.g., George Bush) and definite descriptions (e.g., the president), tenses (e.g., had been and shall be), noun phrases with mismatching determiners (e.g., aman and the man), verb complexes (e.g., was developed and had been developed), phrasal verbs (e.g., take up and accept), genitives (e.g., Bush's infrequent speeches and the infrequent speeches by Bush), pronouns, repetitions, typographic errors, and approximate correspondences.",
        "For more details, we refer the interested reader to our annotation guidelines.",
        "Figure 1 shows the alignment for two sentence pairs from the MTC corpus.",
        "The first pair (Australia is concerned with the issue of carbon dioxide emissions.",
        "^ The problem of greenhouse gases has attracted Australia's attention.)",
        "contains examples of word-to-word (the -r+ The; issue ^ problem; of ^ of; Australia ^ Australia) and many-to-many alignments (carbon dioxide emissions - greenhouse gases).",
        "Importantly, we do not use a large many-to-many block for Australia is concerned with and has attracted Australia's attention because it is possible to decompose the two phrases into smaller alignments.",
        "The second sentence pair illustrates a possible alignment (could have very long term effects was of profound significance) indicated by the gray squares.",
        "Possible alignments are used here because the two phrases only loosely correspond to each other.",
        "Possible alignments are also used to mark significant changes in syntax where the words denote a similar concept: for example, in cases where two words have the same stem but are",
        "8 Both the corpus and the annotation guidelines can be found at: http://homepages.inf.ed.ac.uk/ tcohn/paraphrase.corpus.html.",
        "expressed with different parts of speech, (e.g., cooperative ^ cooperation) or when two verbs are used that are not synonyms (e.g., this is also this also marks)."
      ]
    },
    {
      "heading": "3.. Human Agreement",
      "text": [
        "As mentioned in the previous section, 300 sentence pairs (100 pairs from each sub-corpus) were doubly annotated, in order to measure inter-annotator agreement.",
        "Here, we treat one annotator as gold-standard (reference) and measure the extent to which the other annotator deviates fromthis reference.",
        "Word-Based Measures.",
        "The standard technique for evaluating word alignments is to represent themas a set of links (i.e., pairs of words) and compare themagainst goldstandard alignments.",
        "The quality of an alignment A (defined in Equation (1)) compared to reference alignment B can be then computed using standard recall, precision, and F1 measures (Och and Ney 2003):",
        "where the subscripts S and P denote sure and possible word alignments, respectively.",
        "Note that both precision and recall are asymmetric in that they compare sets of possible and sure alignments.",
        "This is designed to be maximally generous: sure predictions which are present in the reference as possibles are not penalized in precision, and the converse applies for recall.",
        "We adopt Fraser and Marcu (2007)'s definition of F1, an F-measure between precision and recall over the sure and possibles.",
        "They argue that it is a better alternative to the commonly used Alignment Error Rate (AER), which does not sufficiently penalize unbalanced precision and recall.",
        "As our corpus is monolingual, in order to avoid artificial score inflation, we limit the precision and recall calculations to consider only pairs of non-identical words (and phrases, as discussed subsequently).",
        "To give an example, consider the sentence pairs in Figure 2, whose alignments have been produced by the two annotators A (left) and B (right).",
        "Table 1 shows the individual word alignments for each annotator and their type (sure or possible).",
        "In order to measure F1, we must first estimate Precision and Recall (see Equation (2)).",
        "Treating annotator B as the gold standard, | AS | = 4, |BS | = 5, | AS n BP| = 4, and | AP n BS | = 4.",
        "This results in a precision of = 1, a recall of 5, and F1 of 21+0>8'8 = 0-89.",
        "Note that we ignore alignments over identical words (i.e., discussed - discussed, the - the, and - and, Phrase-Based Measures.",
        "The given definitions are all word-based; however, our annotators, and several paraphrasing models, create correspondences not only between words but also between phrases.",
        "To take this into account, we also evaluate these measures over larger blocks (similar to Ayan and Dorr [2006]).",
        "Specifically, we extract phrase pairs from the alignments produced by our annotators using a modified version of the standard SMT phrase extraction heuristic (Och, Tillmann, and Ney 1999).",
        "The heuristic",
        "9 Fraser and Marcu (2007) also argue for an unbalanced F-measure to bias towards recall.",
        "This is shown to correlate better with translation quality.",
        "For paraphrasing it is not clear if such a bias would be beneficial.",
        "Constructing Corpora for Paraphrase Systems",
        "Both parties discussed the specific general consensus Both parties discussed I the",
        "Figure 2",
        "Sample sentence pair showing the word alignments from two annotators.",
        "extracts all phrase pairs consistent with the word alignment.",
        "These include phrase pairs whose words are aligned to each other or nothing, but not to words outside the phrase boundaries.",
        "The phrase extraction heuristic creates masses of phrase pairs, many of which are of dubious quality.",
        "This is often due to the inclusion of unaligned words or simply to the extraction of overly-large phrase pairs which might be better decomposed into smaller units.",
        "For our purposes we wish to be maximally conservative in how we process the data, and therefore we do not extract phrase pairs with unaligned words on their boundaries.",
        "Figure 3 illustrates the types of phrase pairs our extraction heuristic permits.",
        "Here, the pair and reached <-+ and arrived at is consistent with the word alignment.",
        "In contrast, the pair and reached and arrived isn't; there is an alignment outside the hypothetical phrase boundary which is not accounted for (reached is also aligned to at).",
        "The phrase pair and reached an - and arrived at is consistent with the word alignment; however it has an unaligned word (i.e., an) on the phrase boundary, which we disallow.",
        "Our phrase extraction procedure distinguishes between two types of phrase pairs: atomic, that is, the smallest possible phrase pairs, and composite, which can be created by combining smaller phrase pairs.",
        "For example, the phrase pair and reached - and arrived at in Figure 3 is composite, as it can be decomposed into and - and and reached arrived at.",
        "Table 2 shows the atomic and composite phrase pairs extracted fromthe possible alignments produced by annotators A and B for the sentence pair in Figure 2.",
        "We compute recall, precision, and F1 over the phrase pairs extracted from the word alignments as follows:",
        "Precision = lAptomP Recall = A^pBptoml F1 = 2nPrecision-Reca}} (3)",
        "L4P L8p Precision + Recall v ;",
        "10 The term phrase is not used here in the linguistic sense; many extracted phrases will not be constituents.",
        "■",
        "■",
        "■",
        "■",
        "■",
        "■",
        "■",
        "_",
        "■",
        "I",
        "I",
        "I",
        "I",
        "1",
        "1",
        "I",
        "I",
        "_",
        "I",
        "Single word pairs specified by the word alignments from Figure 2, for two annotators, A and B.",
        "The column entries specify the alignment type for each annotator, either sure (S) or possible (P).",
        "Dashes indicate that the word pair was not predicted by the annotator.",
        "Italics denote lexically identical word pairs.",
        "Figure 3",
        "Validity of phrase pairs according to the phrase extraction heuristic.",
        "Only the leftmost phrase pair is valid.",
        "The others are inconsistent with the alignment or have an unaligned word on a boundary, respectively, indicated by a cross.",
        "where Ap and Bp are the predicted and reference phrase pairs, respectively, and the atom subscript denotes the subset of atomic phrase pairs, Aptom C AP.",
        "As shown in Equation (3) we measure precision and recall between atomic phrase pairs and the full space of atomic and composite phrase pairs.",
        "This ensures that we do not multiply reward composite phrase pair combinations, while also not unduly penalizing non-matching phrase pairs which are composed of atomic phrase pairs in",
        "11 This contrasts with Ayan and Dorr (2006), who use all phrase pairs up to a given size, and therefore might multiply count phrase pairs.",
        "Word alignments",
        "A",
        "B",
        "they <-",
        "-> both",
        "-",
        "P",
        "they -",
        "parties",
        "P",
        "P",
        "discussed -",
        "discussed",
        "S",
        "S",
        "the -",
        "the",
        "S",
        "S",
        "aspects -",
        "-> specific",
        "P",
        "-",
        "in -",
        "-> specific",
        "P",
        "P",
        "detail -",
        "-> specific",
        "P",
        "P",
        "aspects -",
        "-> issues",
        "P",
        "S",
        "in -",
        "-> issues",
        "P",
        "-",
        "detail -",
        "issues",
        "P",
        "-",
        "and -",
        "and",
        "S",
        "S",
        "reached -",
        "arrived",
        "S",
        "S",
        "reached -",
        "at",
        "-",
        "S",
        "an -",
        "a",
        "S",
        "S",
        "extensive -",
        "general",
        "S",
        "P",
        "agreement -",
        "consensus",
        "S",
        "S",
        "S",
        "S",
        "Constructing Corpora for Paraphrase Systems",
        "Phrase pairs are specified by the word alignments from Figure 2, using the possible alignments.",
        "The entire set of atomic phrase pairs for either annotator (labeled A or B) and a selection of the remaining 57 composite phrase pairs are shown.",
        "The italics denote lexically identical phrase pairs.",
        "\"This phrase pair is atomic in A but composite in B.",
        "the reference.",
        "Returning to the example in Table 2, with annotator B as the gold standardl lAptoml = lBPptoml = lAltom n BT>l = and W n Bltoml = 4.",
        "Consequently, precision= = 0.71, recall= § = 0.50, and F1= 2p°1+o \"(T = 0.59.",
        "Again we ignore identical phrase pairs.",
        "A potential caveat here concerns the quality of the atomic phrase pairs, which are automatically induced and may not correspond to linguistic intuition.",
        "To evaluate this, we had two annotators review a random sample of 166 atomic phrase pairs drawn from the MTC corpus (sure), classifying each phrase pair as correct, incorrect, or uncertain given the sentence pair as context.",
        "Fromthis set, 73% were deemed correct, 22% uncertain, and 5% incorrect.",
        "Annotators agreed in their decisions 75% of the time (using the Kappa statistic, their agreement is 0.61).",
        "This confirms that the phrase-extraction process produces reliable phrase pairs fromour word-aligned data (although we cannot claimthat it is exhaustive).",
        "12 Taking a more conservative position by limiting the proportion of unaligned words within the phrase pair improves these figures monotonically to 90% correct and 0% incorrect (fully aligned phrase pairs).",
        "13 This Kappa is computed over three nominal categories (correct, incorrect, and uncertain) and should not be confused with the agreement measure we develop in the following section for phrase pairs.",
        "Atomic phrase pairs",
        "A",
        "B",
        "they",
        "*-+ parties",
        "P",
        "-",
        "they",
        "*-+ both parties",
        "-",
        "P",
        "discussed",
        "<-+ discussed",
        "S",
        "S",
        "the",
        "<-+ the",
        "S",
        "S",
        "aspects in detail",
        "*-+ specific issues",
        "P",
        "-",
        "in detail",
        "*-+ specific",
        "-",
        "P",
        "aspects",
        "- issues",
        "-",
        "S",
        "and",
        "<-+ and",
        "S",
        "S",
        "reached",
        "- arrived",
        "S",
        "S",
        "reached",
        "- arrived at",
        "-",
        "S",
        "reached an",
        "- arrived at a",
        "S",
        "P*",
        "an",
        "-a",
        "S",
        "S",
        "extensive",
        "- general",
        "S",
        "P",
        "agreement",
        "- consensus",
        "S",
        "S",
        "S",
        "S",
        "Composite phrase pairs",
        "A",
        "B",
        "they discussed",
        " – both parties discussed",
        "-",
        "P",
        "they discussed",
        " – parties discussed",
        "P",
        "-",
        "they discussed the",
        " – both parties discussed the",
        "-",
        "P",
        "they discussed the",
        " – parties discussed the",
        "P",
        "-",
        "they ... reached an",
        " – both parties ... arrived at a",
        "P",
        "-",
        "the aspects in detail",
        " – the specific issues",
        "P",
        "P",
        "reached an extensive",
        " – arrived at a general",
        "S",
        "S",
        "extensive agreement .",
        " – general consensus .",
        "S",
        "S",
        "Chance-Corrected Agreement.",
        "Besides precision and recall, inter-annotator agreement is commonly measured using the Kappa statistic (Cohen 1960).",
        "Thus is a desirable measure because it is adjusted for agreement due purely to chance:",
        "where Pr(A) is the proportion of times two coders agree, corrected by Pr(E), the proportion of times we would expect them to agree by chance.",
        "Kappa is a suitable agreement measure for nominal data.",
        "An example would be a classification task, where two coders must assign n linguistic instances (e.g., sentences or words) into one of m categories.",
        "Given this situation, it would be possible for each coder to assign each instance to the same category.",
        "Kappa allows us to quantify whether the coders agree with each other about the category membership of each instance.",
        "It is relatively straightforward to estimate Pr(A) – it is the proportion of instances on which the two coders agree.",
        "Pr(E) requires a model of what would happen if the coders were to assign categories randomly.",
        "Under the assumption that coders r1 and r2 are independent, the chance of themagreeing on the jth category is the product of each of them assigning an instance to that category: Pr(Cj|r1)Pr(Cj|r2).",
        "Chance agreement is then the sumof this product across all categories: Pr(E)= g Pr(C,|r1)Pr(C;-|r2).",
        "The literature describes two different methods for estimating Pr(Cj|r,).",
        "Either a separate distribution is estimated for each coder (Cohen 1960) or the same distribution for all coders (Scott 1955; Fleiss 1971; Siegel and Castellan 1988).",
        "We refer the interested reader to Di Eugenio and Glass (2004) and Artstein and Poesio (2008) for a more detailed discussion.",
        "Unfortunately, Kappa is not universally suited to every categorization task.",
        "A prime example is structured labeling problems that allow a wide variety of output categories.",
        "Importantly, the number and type of categories is not fixed in advance and can vary frominstance to instance.",
        "In parsing, annotators are given a sentence for which they must specify a tree, of which there is an exponential number in the sentence length.",
        "Similarly, in our case the space of possible alignments for a sentence pair is also exponential in the input sentence lengths.",
        "Considering these annotations as nominal variables is inappropriate.",
        "Besides, alignments are only an intermediate representation that we have used to facilitate the annotation of paraphrases.",
        "Ideally, we would like to measure agreement over the set of phrase pairs which are specified by our annotators (via the word alignments), not the alignment matrices themselves.",
        "Kupper and Hafner (1989) present an alternative measure similar to Kappa that is especially designed for sets of variables:",
        "14 Kappa has been extended to more than two coders (Fleiss 1971; Bartko and Carpenter 1976).",
        "For simplicity's sake our discussion and subsequent examples involve two coders.",
        "Also note that we use the term coder instead of the more common rater.",
        "This is because in our task the annotators must identify (a.k.a.",
        "code) the paraphrases rather than rate them.",
        "Constructing Corpora for Paraphrase Systems",
        "Here, A, and B, are the coders' predictions on sentence pair i fromour corpus of I sentence pairs.",
        "Each prediction is a subset of the full space of k items.",
        "Expression (5) measures the agreement (or concordance) between coders A and B and follows the general formof Kappa fromEquation (4), which is defined analogously with Pr(A)and Pr(E) taking the roles of f and n0, but with different definitions.",
        "Kupper and Hafner (1989) developed their agreement measure with medical diagnostic tasks in mind.",
        "For example, two physicians classify subjects into k = 3 diagnostic categories and wish to find out whether they agree in their diagnoses.",
        "Here, each coder must decide which (possibly empty) subset from k categories best describes each subject.",
        "The size of k is thus invariant with the instance under consideration.",
        "This is not true in our case, where k will vary across sentence pairs as sentences of different lengths license different numbers of phrase pairs.",
        "More critically, the formulation in Equation (5) assumes that items in the set are independent: All subsets of the same cardinality as k are equally likely, and no combination is impossible.",
        "This independence assumption is inappropriate for the paraphrase annotation task.",
        "The phrase extraction heuristic allows each contiguous span in a sentence to be aligned to either zero or one span in the other sentence; that is, nominating a phrase pair precludes the choice of many other possible phrase pairs.",
        "Consequently relatively few of the subsets of the full set of possible phrase pairs are valid.",
        "Formally, an alignment can specify only O(N) phrase pairs froma total set of k = O(N) possible phrase pairs.",
        "This disparity in magnitudes leads to increasingly underestimated ft for larger N, namely, limiN^oo no = limjv^oo O(N)/O(N) = 0.",
        "The end result is an overestimate of C on longer sentences.",
        "For these reasons, we adapt the method of Kupper and Hafner (1989) to account for our highly interdependent itemsets.",
        "We use C fromEquation (5) as our agreement statistic defined over sets of atomic phrase pairs, that is, A = Aptom, B = Bvatom.",
        "We redefine f o as follows:",
        "Aatom atom",
        "where Aptom and Bptom range over the sets of atomic phrase pairs licensed by sentence pair i,and Pr(Aptom)and Pr(Bptom) are priors over these sets for each annotator.",
        "A consequence of dropping the independence assumptions is that calculating n0 is considerably more difficult.",
        "While it may be possible to calculate n0 analytically, this gets increasingly complicated for larger phrase pairs or with an expressive prior.",
        "For the sake of flexibility we estimate n0 using Monte Carlo sampling.",
        "Specifically, we approximate the full sum by drawing samples from a prior distribution over sets of phrase pairs for each of our annotators (Pr(Aptom)and Pr(Bptom) in Equation (6)).",
        "These samples are then compared using the intersection metric.",
        "This is repeated many times and the results are then averaged.",
        "More formally:",
        "where for each sentence pair, i,wedraw/ samples of pairs of sets of phrase pairs, (Aptom, Bpatom).",
        "We use / = 1,000, which is ample to give reliable estimates.",
        "So far we have not defined how we sample valid sets of phrase pairs.",
        "This is done via the word alignments.",
        "Recall that the annotators start out with alignments from an automatic word-aligner.",
        "Firstly, we develop a distribution to predict how often an annotator changes a cell from the initial alignment matrix.",
        "We model the number of changes made with a binomial distribution, that is, each local change is assumed independent and has a fixed probability, Pr(edit\\r, Ni,Mi) where r is the coder and Ni and Mi are the sentence lengths.",
        "This distribution is fit to each annotator's predictions using a linear function over the combined length of two sentences.",
        "Next we sample word alignments.",
        "Each sample starts with the automatic alignment, and each cell is changed with probability Pr(edit).",
        "These changes are binary, swapping alignments for non-alignments and vice versa.",
        "Finally, the phrase-extraction heuristic is run over the alignment matrix to produce a set of phrase pairs.",
        "This is done for each annotator, A and B, after which we have a sample, (Aptom, Bptom).",
        "Each sample is then fed into Equation (7).",
        "Admittedly, this is not the most accurate prior, as annotators are not just randomly changing the alignment, but instead are influenced by the content expressed by the sentence pair and other factors such as syntactic complexity.",
        "However, this prior produces estimates for ff0 which are several orders of magnitude larger than those using Kupper and Hafner's model of ft0in Equation (5).",
        "We now illustrate the process of measuring chance-corrected agreement, C,with respect to the example in Figure 2.",
        "LlCT^ \\AVatom\\ = \\BLm\\ = \\Altom n BLm\\ = and therefore ft = = 0.571.",
        "For this sentence our annotators edited eight and nine alignment cells, respectively, of the initial alignment matrix.",
        "This translates into Pr(edit\\r = A) = T2xT3 = 5.13% and Pr(edit\\r = B) = 5.77%.",
        "Given these priors, we run the Monte Carlo sampling process from Equation (7), which results in ff0 = 0.147.",
        "Combining the agreement estimate, ft, and chance correction estimate, ft0, using Equation (6) results in C = ^f--0^47 = 0.497.",
        "Now, imagine a hypothetical case where ft = 7 = 0.571 (i.e., the agreement is the same as before), annotator B edits nine alignment cells, but annotator A chooses not to make any edits.",
        "This leads to an increased estimate of ff) = 0.259 and a decreased C = 0.442.",
        "If both annotators were not to make any edits, ff0 = 1and C = – 00.",
        "Interestingly, at the other extreme when Pr(edit\\r = A) = Pr(edit\\r = B) = 1, agreement is also perfect, ff0 = 1and C = – 00.",
        "This is because only one phrase pair can be extracted which consists of the two full sentences.",
        "Results.",
        "Tables 3 and 4 display agreement statistics on our three corpora using precision, recall, F1, and C. Specifically, we estimate C by aggregating ff and ff0 into corpus-level estimates.",
        "Table 3 shows agreement scores for individual words, whereas Table 4 shows agreement for phrase pairs.",
        "In both cases the agreement is computed over non-identical word and phrase pairs which are more likely to correspond to paraphrases.",
        "The agreement figures are broken down into possible (Poss) and sure alignments (Sure) for precision and recall.",
        "When agreement is measured over words, our annotators obtain high F1 on all three corpora (MTC, Leagues, and News).",
        "Recall on Possibles seems worse on the News corpus when compared to MTC or Leagues.",
        "This is to be expected because this corpus was automatically harvested from the Web, and some of its instances may not be representative examples of paraphrases.",
        "For example, it is common for one sentence to provide considerably more details than the other, despite the fact that both describe the same event.",
        "The annotators in turn have difficulty deciding whether such instances are valid paraphrases.",
        "The C scores for the three corpora are in the same ballpark.",
        "Constructing Corpora for Paraphrase Systems",
        "Inter-annotator agreement using precision, recall, F1, and C; the agreement is measured over words.",
        "MTC Leagues News",
        "Inter-annotator agreement using precision, recall, F1, and C; the agreement is measured over atomic phrase pairs.",
        "Interestingly, C is highest on the News corpus, whereas F1 is lowest.",
        "Whereas precision and recall are normalized by the number of predictions from annotators A and B, respectively, C is normalized by the minimum number of predictions between the two.",
        "Therefore, when the predictions are highly divergent, C will paint a rosier picture than F1 (which is the combination of precision and recall).",
        "This indeed seems to be the case for the News corpus, where precision and recall have a higher spread in comparison to the other two corpora (see the Poss column in Table 3).",
        "Agreement scores tend to be lower when taking phrases into account (see Table 4).",
        "This is expected because annotators are faced with a more complex task; they must generally make more decisions: for example, determining the phrase boundaries and how to align their constituent words.",
        "An exception to this trend is the News corpus where the F1 is higher for phrase pairs than for individual word pairs.",
        "This is due to the fact that there are many similar sentence pairs in this data.",
        "These have many identical words and a few different words.",
        "The differences are often in a clump (e.g., person names, verb phrases), rather than distributed throughout the sentence.",
        "The annotators tend to block align these and there is a large scope for disagreement.",
        "Whereas estimating agreement over words heavily penalizes block differences, when phrases are taken into account in the F1 measure, these are treated more leniently.",
        "Note that C is not so lenient, as it measures agreement over the sets of atomic phrase pairs rather than between atomic and composite phrase pairs in the F1 measure.",
        "This means that under C, choosing different granularities of phrases will be penalized, but would not have been under the F1 measure.",
        "In Figure 4 we show how C varies with sentence length for our three corpora.",
        "Specifically, we plot observed agreement ff, chance agreement f 0,and C against sentence pairs",
        "MTC Leagues News Figure 4",
        "Agreement statistics plotted against sentence length for the three sub-corpora.",
        "Each group of three columns correspond to ff, ff0,and C, respectively.",
        "The statistics were measured over non-identical phrase pairs using all phrase pairs, atomic and composite.",
        "Agreement between automatic Giza++ predicted word alignments and our manually corrected alignments, measured over atomic phrase pairs.",
        "binned by (the shorter) sentence length.",
        "In all cases we observe that chance agreement is substantially lower than observed agreement for all sentence lengths.",
        "We also see that C tends to be higher for shorter sentences.",
        "Differences in C across sentence lengths are mostly of small magnitude across all three corpora.",
        "This indicates that disagreements may be due to other factors, besides sentence length.",
        "Unfortunately, there are no comparable annotation studies that would allow us to gauge the quality of the obtained agreements.",
        "The use of precision, recall, and F1 is widespread in SMT, but these measures evaluate automatic alignments against a gold standard, rather than the agreement between two or more annotators (but see Melamed [1998] for an exception).",
        "Nevertheless, we would expect the humans to agree more with each other than with Giza++, given that the latter produces many erroneous word alignments and is not specifically tuned to the paraphrasing task.",
        "Table 5 shows agreement between one annotator and Giza++ for atomic phrase pairs.",
        "We obtained similar results for the other annotator and with the word-based measures.",
        "As can be seen, human-Giza++ agreement is much lower than human-human agreement on all three corpora (compare Tables 5 and 4).",
        "Taken together the results in Tables 3-5 show a substantial level of agreement, thus indicating that our definition of paraphrases via word alignments can yield reliable annotations.",
        "In the following section we discuss how our corpus can be usefully employed in the study of paraphrasing.",
        "15 Note that we cannot meaningfully measure C for this data because the Giza++ predictions are already being used to estimate f 0 in our formulation.",
        "Consequently, P(A) = P(B)and C is zero.",
        "□",
        "5-9",
        "□",
        "10-14",
        "□",
        "15-19",
        "□",
        "20-24",
        "□",
        "25-29",
        "□",
        "30-34",
        "□",
        "35-39",
        "□",
        "40-44",
        "□",
        "45-49",
        "Constructing Corpora for Paraphrase Systems"
      ]
    },
    {
      "heading": "4.. Experiments",
      "text": [
        "Our annotated corpus can be used in a number of ways to help paraphrase research: for example, to inform the linguistic analysis of paraphrases, as a training set for the development of discriminative paraphrase systems, and as a test set for the automatic evaluation of computational models.",
        "Here, we briefly demonstrate some of these uses.",
        "Paraphrase Modeling.",
        "Much previous research has focused on lexical paraphrases (but see Lin and Pantel [2001] and Pang, Knight, and Marcu [2003] for exceptions).",
        "We argue that our corpus should support a richer range of structural (syntactic) paraphrases.",
        "To demonstrate this we have extracted paraphrase rules from our annotations using the grammar induction algorithm from Cohn and Lapata (2007).",
        "Briefly, the algorithm extracts tree pairs fromword-aligned text by choosing aligned constituents in a pair of equivalent sentences.",
        "These pairs are then generalized by factoring out aligned subtrees, thereby resulting in synchronous grammar rules (Aho and Ullman 1969) with variable nodes.",
        "We parsed the MTC corpus with Bikel's (2002) parser and extracted synchronous rules from the gold-standard alignments.",
        "A sample of these rules are shown in Figure 5.",
        "Here we see three lexical paraphrases, followed by five structural paraphrases.",
        "In example 4, also is replaced with moreover and is moved to the start of the sentence from the pre-verbal position.",
        "Examples 5-8 show various reordering operations, where the boxed numbers indicate correspondences between non-terminals in the two sides of the rules.",
        "The synchronous rules in Figure 5 provide insight into the process of paraphrasing at the syntactic level, and also a practical means for developing algorithms for paraphrase generation – a task which has received little attention to date.",
        "For instance, we could envisage a paraphrase model that transforms parse trees of an input sentence into parse trees that represent a sentential paraphrase of that sentence.",
        "Our corpus can be used to learn this mapping using discriminative methods (Cowan, Kucerova, and Collins 2006; Cohn and Lapata 2007).",
        "Evaluation Set.",
        "As mentioned in Section 1, it is currently difficult to compare competing approaches due to the effort involved in eliciting manual judgments of paraphrase output.",
        "Our corpus could fill the role of a gold-standard test set, allowing for automatic evaluation techniques.",
        "Developing measures for automatic paraphrase evaluation is outside the scope of this article.",
        "Nevertheless, we illustrate how the corpus can be used for this purpose.",
        "For example we could easily measure the precision and recall of an automatic system",
        "Synchronous grammar rules extracted from the MTC corpus.",
        "against our annotations.",
        "Computing precision and recall for an individual system is not perhaps the most meaningful test, considering the large potential for paraphrasing in a given sentence pair.",
        "A better evaluation strategy would include a comparison across many systems on the same corpus.",
        "We could then rank these systems without, however, paying so much attention to the absolute precision and recall values.",
        "We expect these comparisons to yield relatively low numbers for many reasons.",
        "First and foremost the task is hard, as shown by our inter-annotator agreement figures in Tables 3 and 4.",
        "Secondly, there may be valid paraphrases that the systems identify but are not listed in our gold standard.",
        "Thirdly, systems may have different biases, for example, towards producing more lexical or syntactic paraphrases, but our comparison would not take this into account.",
        "Despite all these considerations, we believe that comparison against our corpus would treat these systems on an equal footing against the same materials while factoring out nonessential degrees of freedominherent in human elicitation studies (e.g., attention span, task familiarity, background).",
        "We evaluated the performance of two systems against our corpus.",
        "Our first system is simply Giza++ trained on the 55,615 sentence pairs described in Section 4.",
        "The second systemuses a co-training-based paraphrase extraction algorithm(Barzilay and McKeown 2001).",
        "It was also trained on the MTC part 1 corpus, on the same data set used for Giza++, with its default parameters.",
        "For each system, we filtered the predicted paraphrases to just those which match part of a sentence pair in the test set.",
        "These paraphrases were then compared to the sure phrase pairs extracted from our manually aligned corpus.",
        "Giza++'s precision is 55% and recall 49% (see Table 5).",
        "The co-training systemobtained a precision of 30% and recall of 16%.",
        "To confirmthe accuracy of the precision estimate, we performed a human evaluation on a sample of 48 of the predicted paraphrases which were treated as errors.",
        "Of these, 63% were confirmed as being incorrect and only 20% were acceptable (the remaining were uncertain).",
        "The inter-annotator agreement in Table 4 can be used as an upper bound for precision and recall (precision for Sure phrase pairs is 67% and recall 66%).",
        "These results seemto suggest that a hypothetical paraphrase extractor based on automatic word alignments would obtain performance superior to the co-training approach.",
        "However, we must bear in mind that the co-training system is highly parametrized and was not specifically tuned to our data set."
      ]
    },
    {
      "heading": "5.. Conclusions",
      "text": [
        "In this article we have presented a human-annotated paraphrase corpus and argued that it can be usefully employed for the evaluation and modeling of paraphrases.",
        "We have defined paraphrases as word alignments in a corpus containing pairs of equivalent sentences and shown that these can be reliably identified by annotators.",
        "In measuring agreement, we used the standard measures of precision, recall, and F1, but also proposed a novel formulation of chance-corrected agreement for word (and phrase) alignments.",
        "Beyond alignment, our formulation could be applied to other structured tasks including parsing and sequence labeling.",
        "The uses of the corpus are many and varied.",
        "It can serve as a test set for evaluating the precision and recall of paraphrase induction systems trained on parallel monolingual corpora.",
        "The corpus could be further used to develop new evaluation metrics for paraphrase acquisition or novel paraphrasing models.",
        "An exciting avenue for future research concerns paraphrase prediction, that is, determining when and how to paraphrase single sentence input.",
        "Because our corpus contains paraphrase annotations at the sentence level, it could provide a natural test-bed for prediction algorithms.",
        "Constructing Corpora for Paraphrase Systems"
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "The authors acknowledge the support of the EPSRC (Cohn, grant GR/T04557/01; Lapata, grant GR/T04540/01), the National Science Foundation (Callison-Burch, grant IIS-071344), and the EuroMatrix project (Callison-Burch) funded by the European Commission (6th Framework Programme).",
        "We are grateful to our annotators Vasilis Karaiskos and TomSegler.",
        "Thanks to Regina Barzilay for providing us the output of her systemon our data and to the anonymous referees whose feedback helped to substantially improve the present article."
      ]
    }
  ]
}
