{
  "info": {
    "authors": [
      "Katja Filippova",
      "Michael Strube"
    ],
    "book": "Proceedings of the Fifth International Natural Language Generation Conference",
    "id": "acl-W08-1105",
    "title": "Dependency Tree Based Sentence Compression",
    "url": "https://aclweb.org/anthology/W08-1105",
    "year": 2008
  },
  "references": [
    "acl-C04-1097",
    "acl-E06-1038",
    "acl-N03-1026",
    "acl-N07-1023",
    "acl-P03-1054",
    "acl-P05-1036",
    "acl-P06-1041",
    "acl-P06-1048",
    "acl-P06-4020",
    "acl-P07-1041"
  ],
  "sections": [
    {
      "text": [
        "Katja Filippova and Michael Strube",
        "EML Research gGmbH SchloB-Wolfsbrunnenweg 33 69118 Heidelberg, Germany",
        "http://www.eml-research.de/nlp",
        "We present a novel unsupervised method for sentence compression which relies on a dependency tree representation and shortens sentences by removing subtrees.",
        "An automatic evaluation shows that our method obtains result comparable or superior to the state of the art.",
        "We demonstrate that the choice of the parser affects the performance of the system.",
        "We also apply the method to German and report the results of an evaluation with humans."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "Within the field of text-to-text generation, the sentence compression task can be defined as follows: given a sentence S, consisting of words w\\w2---wn, what is a subset of the words of S, such that it is grammatical and preserves essential information from S?",
        "There are many applications which would benefit from a robust compression system, such as subtitle generation, compression for mobile devices with a limited screen size, or news digests.",
        "Given that to date most text and speech summarization systems are extractive, sentence compression techniques are a common way to deal with redundancy in their output.",
        "eown, 2007).",
        "Testing the grammaticality of the output with a language model is justified when working with a language with rigid word order like English, and all but one approach mentioned have been applied to English data.",
        "However, compressing sentences in languages with less rigid word order needs a deeper analysis to test grammaticality.",
        "And even for languages with rigid word order the trigram model ignores the structure of the sentence and therefore may significantly distort the meaning of the source sentence.",
        "Approaches going beyond the word level either require a comprehensive lexicon (Jing, 2001), or manually devised rules (Gagnon & Da Sylva, 2005; Clarke & Lapata, 2008) to determine prunable constituents.",
        "A lexicon is not always available, whereas the hand-crafted rules may not cover all cases and are too general to be universally applicable (e.g. PPs can be pruned).",
        "In this paper we present a novel unsupervised approach to sentence compression which is motivated by the belief that the grammaticality of the output can be better ensured by compressing trees.",
        "In particular, given a dependency tree, we want to prune subtrees which are neither obligatory syntactic arguments, nor contribute important information to the content of the sentence.",
        "A tree pruning approach does not generate new dependencies and is unlikely to produce a compression with a totally different meaning.",
        "Our approach is unsupervised and adaptable to other languages, the main requirement being that there are a dependency parser and a corpus available for the languages.",
        "We test our approach on English and German data sets and obtain results comparable or superior to the state of the art."
      ]
    },
    {
      "heading": "2. Related Work",
      "text": [
        "Many existing compression systems use a noisy-channel approach and rely on a language model to test the grammaticality of the output (Knight &",
        "McKeown, 2007).",
        "Other ways to ensure grammaticality and to decide whether a constituent is obligatory or may be pruned are to utilize a sub-categorization lexicon (Jing, 2001), or to define a set of generally prunable constituents.",
        "Gagnon & Da Sylva (2005) prune dependency trees by removing prepositional complements of the verb, subordinate clauses and noun appositions.",
        "Apparently, this does not guarantee grammaticality in all cases.",
        "It may also eliminate important information from the tree.",
        "Most approaches are supervised and require training data to learn which words or constituents can be dropped from a sentence (Riezler et al., 2003; McDonald, 2006).",
        "However, it is difficult to obtain training data.",
        "Still, there are few unsupervised methods.",
        "For example, Hori & Furui (2004) introduce a scoring function which relies on such information sources as word significance score and language model.",
        "A compression of a given length which maximizes the scoring function is then found with dynamic programming.",
        "Clarke & Lapata (2008) present another unsupervised approach.",
        "They formulate the task as an optimization problem and solve it with integer linear programming.",
        "Two scores contribute to their objective function - a trigram language model score and a word significance score.",
        "Additionally, the grammaticality of the output is ensured by a handful of linguistic constraints, stating e.g. which arguments should be preserved.",
        "In this paper we suggest an alternative to the popular language model basis for compression systems - a method which compresses dependency trees and not strings of words.",
        "We will argue that our formulation has the following advantages: firstly, the approach is unsupervised, the only requirement being that there is a sufficiently large corpus and a dependency parser available.",
        "Secondly, it requires neither a subcategorization lexicon nor hand-crafted rules to decide which arguments are obligatory.",
        "Thirdly, it finds a globally optimal compression by taking syntax and word importance into account."
      ]
    },
    {
      "heading": "3. Dependency Based Compression",
      "text": [
        "Our method compresses sentences in that it removes dependency edges from the dependency tree of a sentence.",
        "The aim is to preserve dependencies which are either required for the output to be grammatical or have an important word as the dependent.",
        "The algorithm proceeds in three steps: tree transformation (Section 3.1), tree compression (Section 3.2) and tree linearization (Section 3.3).",
        "Before a dependency tree is compressed, i.e. before some ofthe dependencies are removed, the tree is modified.",
        "We will demonstrate the effect of the transformations with the sentence below:",
        "(1) He said that he lived in Paris and Berlin",
        "The first transformation (root) inserts an explicit rootnode (Fig.",
        "1(a)).",
        "The result of the second transformation (verb) is that every inflected verb in the tree gets an edge originating from the rootnode (Fig.",
        "1(b)).",
        "All edges outgoing from the rootnode bear the s label.",
        "Apart from that we remove auxiliary edges and memorize such grammatical properties as voice, tense or negation for verbs.",
        "The purpose of the remaining transformations is to make relations between open-class words more explicit.",
        "We want to decide on pruning an edge judging from two considerations: (i) how important for the head this argument is; (ii) how informative the dependent word is.",
        "As an example, consider a source sentence given in (2).",
        "Here, we want to decide whether one prepositional phrase (or both) can be pruned without making the resulting sentence ungrammatical.",
        "(2) After some time, he moved to London.",
        "It would not be very helpful to check whether an argument attached with the label pp is obligatory for the verb move.",
        "Looking at a particular preposition (after vs. to) would be more enlightening.",
        "This motivates the PREP transformation which removes prepositional nodes and places them as labels on the edge from their head to the respective noun (Fig.",
        "1(c)).",
        "We also decompose a chain of conjoined elements (conj) and attach each of them to the head of the first element in the chain with the label the first",
        "say he live he",
        "Paris and Berlin",
        "(a) The source tree after ROOT.",
        "and Berlin",
        "(b) After VERB",
        "root say he Paris",
        "(c) After PREP",
        "he Paris Berlin",
        "(d) After CONJ",
        "Figure 1: The dependency structure of He said that he lived in Paris and Berlin after the transformations element attaches to its head with (Fig.",
        "1(d)).",
        "This way we can retain any of the conjoined elements in the compression and do not have to preserve the whole sequence of them if we are interested in only one.",
        "This last transformation is not applied to verbs.",
        "We formulate the compression task as an optimization problem which we solve using integer linear programming.",
        "Given a transformed dependency tree (a graph if new edges have been added), we decide which dependency edges to remove.",
        "For each directed dependency edge from head h to word w we thus introduce a binary variable xXh w where l stands for the edge's label:"
      ]
    },
    {
      "heading": "1. if the dependency is preserved 0 otherwise",
      "text": [
        "The goal is to find a subtree which gets the highest score of the objective function (2) to which both the probability of dependencies (P and the importance of dependent words (/(w)) contribute:",
        "Intuitively, the conditional probabilities prevent us from removing obligatory dependencies from the tree.",
        "For example, P(subj\\work) is higher than P(with\\work), and therefore the subject will be preserved whereas the prepositional label and thus the whole PP can be pruned.",
        "This way we do not have to create an additional constraint for every obligatory argument (e.g. subject or direct object).",
        "Neither do we require a subcategorization lexicon to look up which arguments are obligatory for a certain verb.",
        "verb arguments are preserved because the dependency edges, with which they are attached to the head, get high scores.",
        "Table 1 presents the probabilities of a number of labels given that the head is study.",
        "Table 2 presents the probabilities for their German counterparts.",
        "Note that if we would not apply the PREP transformation we would not be able to distinguish between different prepositions and could only calculate P(pp\\studieren) which would not be very informative.",
        "The probabilities for English are lower than those for German because we calculate the conditional probabilities given word lemma.",
        "In English, the part of speech information cannot be induced from the lemma and thus the set of possible labels of a node is on average larger than in German.",
        "There are many ways in which word importance, I(w) can be defined.",
        "Here, we use the formula introduced by Clarke & Lapata (2008) which is a modification of the significance score of Hori et al.",
        "(2003):",
        "wi is the topic word (either noun or verb), fi is the frequency of wi in the document, Fi is the frequency of wi in the corpus, and Fa is the sum of frequencies of all topic words in the corpus.",
        "I is the number of clause nodes above w and N is the maximum level of embedding of the sentence w belongs to.",
        "The objective function is subject to constraints of two kinds.",
        "The constraints of the first kind are stuc-tural and ensure that the preserved dependencies result in a tree.",
        "(4) ensures that each word has one head at most.",
        "(5) ensures connectivity in the tree.",
        "(6) restricts the size of the resulting tree to a words.",
        "h,l j j u,l",
        "a is a function of the length of the source sentence in open-class words.",
        "The function is not linear since the degree of compression increases with the length of the sentence.",
        "The compression rate of human-generated sentences is about 70% (Clarke & Lapata, 2008).",
        "To approximate this value, we set the proportion of deleted words to be 20% for short sentences (5-9 non-stop words), this value increases up to 50% for long sentences (30+ words).",
        "The constraints ofthe second type ensure the syntactic validity of the output tree and explicitly state which edges should be preserved.",
        "These constraints can be general as well as conditional.",
        "The former ensure that an edge is preserved if its source node is retained in the output.",
        "Conditional syntactic constraints state that an edge has to be preserved if(and only if) a certain other edge is preserved.",
        "We have only one syntactic constraint which states that a subordinate conjunction (sc) should be preserved ifand only if the clause it belongs to functions as a subordinate clause (sub) in the output.",
        "If it is taken as the main clause, the conjunction should be dropped.",
        "In terms of edges, this can be formulated as follows",
        "Due to the constraint (4), the compressed subtree is always rooted in the node added as a result of the first transformation.",
        "A compression of a sentence to an embedded clause is not possible unless one preserves the structure above the embedded clause.",
        "Often, however, main clauses are less important than an embedded clause.",
        "For example, given the sentence He said they have to be held in Beirut it is the embedded clause which is informative and to which the source sentence should be compressed.",
        "The purpose of the verb modification is to amend exactly this problem.",
        "Having an edge from the rootnode to every inflected verb allows us to compress the source sentence to any clause.",
        "A very simple but reasonable linearization technique is to present the words of a compressed sentence in the order they are found in the source sentence.",
        "This method has been applied before and this is how we linearize the trees obtained for the English data.",
        "Unfortunately, this method cannot be directly applied to German because of the constraints on word order in this language.",
        "One of the rules of German grammar states that in the main clause the inflected part of the verb occupies the second position, the first position being occupied by exactly one constituent.",
        "Therefore, if the sentence initial position in a source sentence is occupied by a constituent which got pruned off as a result of compression, the verb becomes the first element of the sentence which results in an undesirable output.",
        "There are linearization methods developed for German which find an optimal word order for a sentence (Ringger et al., 2004; Filippova & Strube, 2007).",
        "We use our recent method to linearize compressed trees.",
        "subj",
        "dobj",
        "in",
        "at",
        "after",
        "with",
        "to",
        "0.16",
        "0.13",
        "0.05",
        "0.04",
        "0.01",
        "0.01",
        "0.01"
      ]
    },
    {
      "heading": "4. Corpora and Annotation",
      "text": [
        "We apply our method to sentences from two corpora in English and German.",
        "These are presented below.",
        "English Compression Corpus: The English data we use is a document-based compression corpus from the British National Corpus and American News Text Corpus which consists of 82 news stories.",
        "We parsed the corpus with RASP (Briscoe et al., 2006) and with the Stanford PCFG parser (Klein & Manning, 2003).",
        "The output of the former is a set of dependency relations whereas the latter provides an option for converting the output into dependency format (de Marneffe et al., 2006) which we use.",
        "TUBa-D/Z: The German corpus we use is a collection of 1,000 newspaper articles (Telljohann et al., 2003).",
        "Sentence boundaries, morphology, dependency structure and anaphoric relations are manually annotated in this corpus.",
        "RASP has been used by Clarke & Lapata (2008) whose state of the art results we compare with ours.",
        "We use not only RASP but also the Stanford parser for several reasons.",
        "Apart from being accurate, the latter has an elaborated set of dependency relations (48 vs. 15 of RASP) which is not overly large (compared with the 106 grammatical relations ofthe Link Parser).",
        "This is important for our system which relies on syntactic information when making pruning decisions.",
        "A comparison between the Stanford parser and two dependency parsers, MiniPar and Link Parser, showed a decent performance ofthe former (de Marneffe et al., 2006).",
        "It is also of interest to see to what extent the choice of the parser influences the results.",
        "Apart from the corpora listed above, we use the Tipster corpus to calculate conditional probabilities of syntactic labels given head lemmas as well as word significance scores.",
        "The significance score is calculated from the total number of 128 million nouns and verbs.",
        "Conditional probabilities are calculated from a much smaller portion of Tipster (about 6 million tokens).",
        "The latter number is comparable to the size of the data set we use to compute the probabilities for German.",
        "There, we use a corpus of about 4,000 articles from the German Wikipedia to calculate conditional probabilities and significance scores.",
        "The corpus is parsed with the highly accurate CDG parser (Foth & Menzel, 2006) and has the same dependency format as TuBa-D/Z (versley, 2005).",
        "Although all corpora are annotated with dependency relations, there are considerable differences between the annotation of the English and German data sets.",
        "The phrase to dependency structure conversion done by the Stanford parser makes the semantic head of the constituent its syntactic head.",
        "For example, in the sentence He is right it is the adjective right which is the root of the tree.",
        "Unlike that, sentences from the German corpora always have a verb as the root.",
        "To unify the formats, we write a set of rules to make the verb the root of the tree in all cases."
      ]
    },
    {
      "heading": "5. Evaluation",
      "text": [
        "We evaluate the results automatically as well as with human subjects.",
        "To assess the performance of the method on the English data, we calculate the F-measure on grammatical relations.",
        "Following Rie-zler et al.",
        "(2003), we calculate average precision and recall as the amount ofgrammatical relations shared between the output of our system and the gold standard variant divided over the total number of relations in the output and in the human-generated compression respectively.",
        "According to Clarke & Lapata (2006), this measure reliably correlates with human judgements.",
        "The results of our evaluation as well as the state of the art results reported by Clarke & Lapata (2008) (LM+Sig+Constr), whose system uses language model scoring (LM), word significance score (Sig), and linguistic constraints (Constr), are presented in Table 3.",
        "The F-measure reported by Clarke & Lapata (2008) is calculated with RASP which their system builds upon.",
        "For our system we present the results obtained on the data parsed with RASP as well as with the Stanford parser (SP).",
        "In both cases the F-measure is found with RASP in order to allow for a fair comparison between the three systems.",
        "We recalculate the compression rate for the gold standard ignoring punctuation.",
        "On the whole corpus the compression rate turns out to be slightly higher than that reported by Clarke & Lapata (2008) (70.3%).",
        "As there are no human-generated compressions for German data, we evaluate the performance ofthe method in terms of grammaticality and importance by means of an experiment with native speakers.",
        "in the experiment, humans are presented with a source sentence and its compression which they are asked to evaluate on two five-point scales.",
        "Higher grades are given to better sentences.",
        "importance represents the amount of relevant information from the source sentence retained in the compression.",
        "Since our method does not generate punctuation, the judges are asked to ignore errors due to missing commas.",
        "Five participants took part in the experiment and each rated the total of 25 sentences originating from a randomly chosen newspaper article.",
        "Their ratings as well as the ratings reported by Clarke & Lapata (2008) on English corpus are presented in Table 4.",
        "The results on the English data are comparable with or superior to the state of the art.",
        "These were obtained with a single linguistic constraint (7) and without any elaborated resources which makes our system adaptable to other languages.",
        "This suggests that tree compression is a better basis for sentence compression systems than language model-oriented word deletion.",
        "In order to explain why the choice of parser significantly influences the performance of the method, we calculate the precision P defined as the number of dependencies shared by a human-generated compression (depc) and the source sentence (deps) divided over the total number of dependencies found in the compression:",
        "The intuition is that if a parser does not reach high precision on gold standard sentences, i.e. if it does not assign similar dependency structures to a source sentence and its compression, then it is hopeless to expect it to produce good compression with our dependency-based method.",
        "However, the precision does not have to be as high as 100% because of, e.g., changes within a chain of conjoined elements or appositions.",
        "The precision of the two parsers calculated over the compression corpus is presented in",
        "Table 5.",
        "The precision of the Stanford parser is about 5% higher than that of RASP.",
        "In our opinion, this partly explains whythe use ofthe Stanfordparserincreases the F-measure by 9 points.",
        "Another possible reason for this improvement is that the Stanford parser identifies three times more dependency relations than",
        "\\ depc n deps \\",
        "grammar",
        "importance",
        "LM+Sig+Constr",
        "3.76",
        "3.53",
        "Dep-based (de)",
        "3.62",
        "3.21",
        "F-measure",
        "compr.rate",
        "LM+Sig+Constr",
        "40.5",
        "72.0%",
        "Dep-based (RASP)",
        "40.7",
        "49.6%",
        "Dep-based (SP)",
        "49.3",
        "69.3%",
        "Gold",
        "-",
        "72.1%",
        "RASP and thus allows for finer distinctions between the arguments of different types.",
        "Another point concerns the compression rates.",
        "The compressions generated with RASP are considerably shorter than those generated with the Stanford parser.",
        "This is mainly due to the fact that the structure output by RASP is not necessarily a tree or a connected graph.",
        "In such cases only the first subtree of the sentence is taken as input and compressed.",
        "The results on the German set are not conclusive since the number of human judges is relatively small.",
        "Still, these preliminary results are comparable to those reported for English and thus give us some evidence that the method can be adapted to languages other than English.",
        "Interestingly, the importance score depends on the grammaticality ofthe sentence.",
        "A grammatical sentence can convey unimportant information but it was never the case that an ungrammatical sentence got a high rating on the importance scale.",
        "Some of the human judges told us that they had difficulties assigning the importance score to ungrammatical sentences."
      ]
    },
    {
      "heading": "7. Conclusions",
      "text": [
        "We presented a new compression method which compresses dependency trees and does not rely on a language model to test grammaticality.",
        "The method is unsupervised and can be easily adapted to languages other than English.",
        "It does not require a subcategorization lexicon or elaborated hand-crafted rules to decide which arguments can be pruned and finds a globally optimal compression taking syntax and word importance into account.",
        "We demonstrated that the performance of the system depends on the parser and suggested a way to estimate how well a parser is suited for the compression task.",
        "The results indicate that the dependency-based approach is an alternative to the language model-based one which is worth pursuing.",
        "Acknowledgements: This work has been funded by the Klaus Tschira Foundation, Heidelberg, Germany.",
        "The first author has been supported by a KTF grant (09.009.2004).",
        "We would like to thank Yannick Versley who helped us convert TuBa-D/Z in the CDG format and Elke Teich and the three anonymous reviewers for their useful comments."
      ]
    }
  ]
}
