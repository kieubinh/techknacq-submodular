{
  "info": {
    "authors": [
      "Zhongguo Li",
      "Maosong Sun"
    ],
    "book": "Computational Linguistics",
    "id": "acl-J09-4006",
    "title": "Punctuation as Implicit Annotations for Chinese Word Segmentation",
    "url": "https://aclweb.org/anthology/J09-4006",
    "year": 2009
  },
  "references": [
    "acl-C04-1081",
    "acl-H89-2048",
    "acl-I05-3025",
    "acl-J04-1004",
    "acl-J05-4005",
    "acl-J96-1002",
    "acl-N03-1028",
    "acl-P06-1085",
    "acl-P06-2056",
    "acl-P98-2206",
    "acl-W06-0127"
  ],
  "sections": [
    {
      "text": [
        "Zhongguo Li*",
        "Tsinghua University",
        "Maosong Sun** Tsinghua University",
        "We present a Chinese word segmentation model learned from punctuation marks which are perfect word delimiters.",
        "The learning is aided by a manually segmented corpus.",
        "Our method is considerably more effective than previous methods in unknown word recognition.",
        "This is a step toward addressing one ofthe toughest problems in Chinese word segmentation."
      ]
    },
    {
      "heading": "1.. Introduction",
      "text": [
        "Paragraphs are composed of sentences.",
        "Hence when a paragraph begins, a sentence must begin, and as a paragraph closes, some sentence must finish.",
        "This observation is the basis of the sentence boundary detection method proposed by Riley (1989).",
        "Similarly, sentences consist of words.",
        "As a sentence begins or ends there must be word boundaries.",
        "Inspired by this notion, we invent a method to learn a Chinese word segmentation model with punctuation marks in a large raw corpus.",
        "The learning is guided by a segmented corpus (Section 3.2).",
        "Section 4 demonstrates that our method improves notably the recognition of out-of-vocabulary (OOV) words with respect to approaches which use only annotated data (Xue 2003; Low, Ng, and Guo 2005).",
        "This work has practical implications in that the OOV problem has long been a big challenge for the research community."
      ]
    },
    {
      "heading": "2.. Segmentation as Tagging",
      "text": [
        "We call the first character of a Chinese word its left boundary L, and the last character its right boundary R. If we regard L and R as random events, then we can derive four events (or tags) from them:",
        "* Department of Computer Science and Technology, Tsinghua University, Beijing 100084, China.",
        "E-mail: eemath@gmail.com.",
        "** Department of Computer Science and Technology, Tsinghua University, Beijing 100084, China.",
        "E-mail: sms@mail.thu.edu.cn.",
        "Submission received: 16 July 2008; revised submission received: 26 March 2009; accepted for publication: 4 May 2009.",
        "Here R means not R, and thus tag b represents the left but not the right boundary of a word.",
        "The other tags can be interpreted similarly.",
        "This coding scheme was used by Borthwick (1999) and Xue (2003), where b, m, s, and e stand for begin, middle, only member, and end of a word, respectively.",
        "We reformulate them in terms of L and R to facilitate the presentation of our method.",
        "where contexti is ci with up to four surrounding characters.",
        "The legal tag sequence (e.g., tag b followed by s is illegal) with highest P gives the segmentation result of S. Then from Equation (1) it is obvious that knowing the probability distribution of b, m, s, and e given context is adequate for carrying out Chinese word segmentation.",
        "The purpose of this article is to show that punctuation can play a major role in estimating this distribution.",
        "We use the maximum entropy approach to model the conditional probability Pr(y| x), which has the following parametric form according to Berger, Della Pietra, and Della Pietra (1996):",
        "For Chinese word segmentation, the binary valued functions f are defined through the 10 features shown in Table 2.",
        "Xue (2003) explains how these features map to the feature functions in Equations (2) and (3)."
      ]
    },
    {
      "heading": "3.. Method",
      "text": [
        "Our key idea is to approximate probabilities of b, m, s, and e with those of L and R. To do this, we assume L and R are conditionally independent given context.",
        "Then we have",
        "Pr(b \\context) = Pr(L -R\\context) (definition of b)",
        "Probabilities for m, s, and e can be derived in the same way and so their derivations are not provided here.",
        "As mentioned earlier, these probabilities are sufficient for Chinese word segmentation.",
        "Now to model Pr(L \\context) and Pr(R\\context) with the maximum entropy technique, we must have positive and negative examples of L and R. It is here that punctuation comes into play.",
        "Punctuation offers directly positive examples of L and R. For instance, we can extract four training examples from the sentence in Table 1, as listed in Table 2.",
        "Suppose for the moment we know the real probability distribution of tags b, m, s, and e given context.",
        "Then a character in context is itself a word and should be tagged s if",
        "Pr(s \\context) > max Pr(yjcontext) (5)",
        "Each positive example given by punctuation is subjected to the test in (5).",
        "If an example labeled L passes this test, then it is also a positive example of R because s = L • R, and failing this test gives a negative R. In a similar way we obtain negative examples of L. This process is summarized in Figure 1.",
        "A segmented corpus is needed to estimate the probabilities in test (5) with maximum entropy modeling.",
        "Here we use the data provided by Microsoft Research in the SIGHAN 2005 Bakeoff.",
        "The trained model (the MSR model) was used in earlier work (Low, Ng, and Guo 2005) and is one of the state-of-the-art models for Chinese word segmentation.",
        "With the MSR model, only the last example in Table 2 passes test (5).",
        "Hence we get the three negative examples shown in Table 3.",
        "Examples like 1, 3, 6, and 8 are used to estimate Pr(L jcontext) and those like 2, 4, 5, and 7 are used to estimate Pr(R jcontext).",
        "Appendix A provides more details on this issue.",
        "Illustration of word boundaries near punctuation in a simple sentence.",
        "- means the label is unknown with only the help of punctuation.",
        "sentence",
        "Positive training examples extracted from the sentence in Table 1.",
        "features of context features of context punctuation | positive L positive R negative R negative L Figure 1",
        "How to get negative examples of L and R. Test (5) is applied to all positive examples given by punctuation.",
        "Those failing this test are negative training examples.",
        "It is test (5) that invokes the need of a manually segmented corpus.",
        "Training examples derived from those in Table 2.",
        "We have 1 – 5, 2 – 6, 3 – 7, and 4 – 8.",
        "In all, we collected 10 billion LL and R-R examples, each from a comprehensive Web corpus.",
        "To cope with so much training data, we use the partitioning method of Yamada and Matsumoto (2003).",
        "An alternative is the Vowpal Wabbit (fast on-line learning) algorithm.",
        "Such an algorithm allows incremental training as more raw texts become available."
      ]
    },
    {
      "heading": "4.. Evaluation",
      "text": [
        "We evaluate our method with the data and scoring script provided by the SIGHAN 2005 Bakeoff.",
        "The data sets of Academia Sinica and City University of Hong Kong, which are in Traditional Chinese, are not used here because the raw corpus is mainly in Simplified Chinese.",
        "Table 4 gives the evaluation results on the data from Microsoft Research (MSR) and Peking University (PKU).",
        "It seems our method is over 10% below state of the art in precision on the MSR data.",
        "However, we find that multiword expressions are consistently segmented into smaller words.",
        "Take the one multiword '^Bz^W^K^IlI^tW^PjT' [Institute of Chinese",
        "1 Freely available for research purposes.",
        "See www.sogou.com/labs.",
        "2 http://hunch.net/~vu/.",
        "We thank one of the anonymous reviewers for telling us about this implementation.",
        "No.",
        "label",
        "C-2",
        "c-1 c0",
        "C1",
        "C2",
        "C-1C1",
        "C-2C-1",
        "C- 1 C0",
        "C0C1",
        "C1C2",
        "5",
        "R",
        "m",
        "it",
        "m",
        "mit",
        "itm",
        "6",
        "L",
        "ft",
        "m m",
        "m",
        "«",
        "m",
        "iM",
        "mm",
        "mm",
        "mm",
        "7",
        "R",
        "m",
        "m m",
        "«",
        "m",
        "mm",
        "mm",
        "mm",
        "mm",
        "8",
        "L",
        "«",
        "Ttn M\\",
        "Ira//H",
        "Culture, Chinese Academy of Arts] in the standard answer of the test data as an example.",
        "Our method segments it into six correct words '^B Sf^K c^B ~SCit W^t/fr' [China, art, academy, China, culture, institute], all of which are considered wrong by the scoring script.",
        "This is arguable because the only difference is the granularity of the segmentation.",
        "We check every error detected by the scoring script on the MSR data, and find that for our method, 15,071 errors are actually correct segmentations of 5,463 multiwords, whereas for the MSR model, the corresponding counts are 858 and 355, respectively.",
        "The gold standard contains 106,873 words.",
        "These statistics combined with Table 4 allow us to calculate the metrics as in Table 5, if errors caused by correctly segmented multiwords are not counted.",
        "We see that, when the influence of granularity is considered, our method is slightly better than the MSR model.",
        "However, as Table 4 shows, both models degrade on the PKU data due to the difference in segmentation standards.",
        "This kind of degradation was also documented by Peng, Feng, and McCallum (2004).",
        "The SIGHAN data sets contain relatively few OOV words (2.6% for the MSR data).",
        "What if the rate is much higher than that?",
        "We expect our model to be less vulnerable to OOV problems because it is trained with billions of examples from a large corpus.",
        "To verify this, we generate four data sets from each of these lists of names:",
        "(a) 702 cities and counties of China seen in the MSR data (b) 1,634 cities and counties of China not seen in the MSR data (c) 7,470 Chinese personal names seen in the MSR data (d) 20,000 Chinese personal names not seen in the MSR data",
        "Table 4",
        "Evaluation results on SIGHAN Bakeoff 2005 data sets.",
        "our method",
        "the MSR model",
        "data set",
        "P",
        "R F",
        "PR",
        "F",
        "MSR PKU",
        "84.8 84.2",
        "91.3 87.9 86.1 85.1",
        "96.0 95.6 85.2 82.3",
        "95.8 83.7",
        "Table 5",
        "Amended evaluation results for MSR data.",
        "PR",
        "F",
        "our method",
        "the MSR model",
        "98.0 96.7 96.7 96.0",
        "97.3 96.3",
        "Results on tasks of named entity list recovery.",
        "our method the MSR model",
        "The generation method is: Randomly permute each list and then put the result into lines, with each line having about 30 names, and repeat this process until we get 1 million tokens for each data set.",
        "We use the MSR model and our method to segment these data sets.",
        "The results are in Table 6.",
        "It is clear that our method performs better on these data sets.",
        "This provides evidence that it could handle situations where many OOV words turn up.",
        "Table 6 also indicates that, especially for the MSR model, recognition of Chinese personal names is easier than location names.",
        "This is reasonable because the former has more regularity than the latter.",
        "Besides, although there are no OOV words in data sets (a) and (c), many words occur very sparsely in the MSR data.",
        "Hence the MSR model doesn't do well even on these two data sets.",
        "To further test our model's ability to recognize unknown words, we make 27,470 sentences with the pattern 'X H Y A , X ^g-JX Y „ ' (X is a resident of Y, and X loves Y), where X and Y are the personal and location names in Section 4.2.",
        "The results on this data set are in Table 7.",
        "Again our method outperforms the MSR model by a large margin, proving once more that it is stronger in unknown word recognition.",
        "For both methods, the metrics in Table 7 are better than those in Table 6, reflecting the fact that unknown word recognition here is easier than the named entity list recovery task.",
        "Evaluation shows that when there are many new words, the improvement of our method is obvious.",
        "In addition, a model is of limited use if it fits the SIGHAN data well, but can't maintain that accuracy elsewhere.",
        "Our model has a wider coverage through mining the Web.",
        "It tends to segment long multiword expressions into their component words.",
        "This is not a disadvantage as long as the result is consistent."
      ]
    },
    {
      "heading": "5.. Related Work",
      "text": [
        "Punctuation gives naturally occurring unambiguous word boundaries.",
        "Gao et al.",
        "(2005) described how to remove overlapping ambiguities in an annotated corpus to train a model for resolving these ambiguities.",
        "A raw corpus doesn't play a role in that method, and the model involves no punctuation marks.",
        "Chinese word segmentation based on position tagging was initiated by Xue (2003).",
        "This method and its subsequent developments have achieved state-of-the-art performance in word segmentation (Peng, Feng, and McCallum 2004; Low, Ng, and Guo 2005; Zhao, Huang, and Li 2006).",
        "Yet the system degrades when there are lots of previously unknown words, whereas our method performs particular well in this case thanks to the use of a huge Web corpus.",
        "In the past decade, much work has been done in unsupervised word segmentation (Sun, Shen, and Tsou 1998; Peng and Schuurmans 2001; Feng et al.",
        "2004; Goldwater, Griffiths, and Johnson 2006; Jin and Tanaka-Ishii 2006).",
        "These methods could also take advantage of the ever-growing amount of online text to model Chinese word segmentation, but usually are less accurate and more complicated than ours."
      ]
    },
    {
      "heading": "6.. Conclusion",
      "text": [
        "With a virtually unlimited supply of raw corpus data, punctuation marks give us ample training examples and thus can be quite useful as implicit annotations for Chinese word segmentation.",
        "We also note that shallow parsing (Sha and Pereira 2003) is a close analogy to word segmentation.",
        "Hence our method can potentially be applied to this task as well.",
        "We give readers a feel for the input data used to train our probability models.",
        "First, to estimate Pr(L \\context), the input to the learning algorithm for the maximum entropy models looks like this:",
        "Whereas to estimate Pr(R \\ context), the input data are something like the following",
        "To save space, not all features in Table 2 are included here.",
        "From this illustration, interested readers can get a general idea of our input to the learning algorithm in Section 3.3.",
        "Acknowledgments",
        "This work is supported by the National Science Foundation of China under Grant No.",
        "60621062 and 60873174, and the National 863 Project under Grant No.",
        "2007AA01Z148.",
        "We thank our reviewers sincerely for many helpful comments and suggestions which greatly improved this article.",
        "Thanks also go to sogou.com for sharing their Web corpora and entity names.",
        "The maximum entropy modeling toolkit used here is contributed by Zhang Le of the University of Edinburgh."
      ]
    }
  ]
}
