{
  "info": {
    "authors": [
      "Xavier Lluís",
      "Stefan Bott",
      "Lluís Màrquez"
    ],
    "book": "Proceedings of the Thirteenth Conference on Computational Natural Language Learning (CoNLL 2009): Shared Task",
    "id": "acl-W09-1212",
    "title": "A Second-Order Joint Eisner Model for Syntactic and Semantic Dependency Parsing",
    "url": "https://aclweb.org/anthology/W09-1212",
    "year": 2009
  },
  "references": [
    "acl-C96-1058",
    "acl-D07-1096",
    "acl-D07-1101",
    "acl-E06-1011",
    "acl-L08-1222",
    "acl-P05-1012",
    "acl-W02-1001",
    "acl-W04-3212",
    "acl-W06-2925",
    "acl-W08-2121",
    "acl-W08-2122",
    "acl-W08-2123",
    "acl-W09-1201"
  ],
  "sections": [
    {
      "text": [
        "A Second-Order Joint Eisner Model for Syntactic and Semantic Dependency",
        "Parsing",
        "Xavier Llus Stefan Bott Llus Marquez",
        "TALP Research Center - Software Department (LSI) Technical University of Catalonia (UPC)",
        "We present a system developed for the CoNLL-2009 Shared Task (Hajic et al., 2009).",
        "We extend the Carreras (2007) parser to jointly annotate syntactic and semantic dependencies.",
        "This state-of-the-art parser factorizes the built tree in second-order factors.",
        "We include semantic dependencies in the factors and extend their score function to combine syntactic and semantic scores.",
        "The parser is coupled with an on-line averaged perceptron (Collins, 2002) as the learning method.",
        "Our averaged results for all seven languages are 71.49 macro Fi, 79.11 LAS and 63.06 semantic Fi."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "Systems that jointly annotate syntactic and semantic dependencies were introduced in the past CoNLL-2008 Shared Task (Surdeanu et al., 2008).",
        "These systems showed promising results and proved the feasibility of a joint syntactic and semantic parsing (Henderson et al., 2008; Lhus and Marquez, 2008).",
        "The Eisner (1996) algorithm and its variants are commonly used in data-driven dependency parsing.",
        "Improvements of this algorithm presented by McDonald et al.",
        "(2006) and Carreras (2007) achieved state-of-the-art performance for English in the CoNLL-2007 Shared Task (Nivre et al., 2007).",
        "Johansson and Nugues (2008) presented a system based on the Carreras' extension of the Eisner algorithm that ranked first in the past CoNLL-2008 Shared Task.",
        "We decided to extend the Carreras (2007) parser to jointly annotate syntactic and semantic dependencies.",
        "The present year Shared Task has the incentive of being multilingual with each language presenting their own particularities.",
        "An interesting particularity is the direct correspondence between syntactic and semantic dependencies provided in Catalan, Spanish and Chinese.",
        "We believe that these correspondences can be captured by a joint system.",
        "We specially look at the syntactic-semantic alignment of the Catalan and Spanish datasets.",
        "Our system is an extension of the Lluis and Marquez (2008) CoNLL-2008 Shared Task system.",
        "We introduce these two following novelties:",
        "• An extension of the second-order Carreras (2007) algorithm to annotate semantic dependencies.",
        "• A combined syntactic-semantic scoring for Catalan and Spanish to exploit the syntactic-semantic mappings.",
        "The following section outlines the system architecture.",
        "The next sections present in more detail the system novelties."
      ]
    },
    {
      "heading": "2. Architecture",
      "text": [
        "The architecture consists on four main components: 1) Preprocessing and feature extraction.",
        "2) Syntactic preparsing.",
        "3) Joint syntactic-semantic parsing.",
        "4) Predicate classification.",
        "The preprocessing and feature extraction is intended to ease and improve the performance of the parser precomputing a binary representation of each sentence features.",
        "These features are borrowed from existing and widely-known systems (Xue and Palmer, 2004; McDonald et al., 2005; Carreras etal., 2006; Surdeanu et al., 2007).",
        "The following step is a syntactic pre-parse.",
        "It is only required to pre-compute additional features (e.g., syntactic path, syntactic frame) from the syntax.",
        "These new features will be used for the semantic role component of the following joint parser.",
        "The joint parser is the core of the system.",
        "This single algorithm computes the complete parse that optimizes a score according to a function that depends on both syntax and semantics.",
        "Some of the required features that could be unavailable or expensive to compute at that time are provided by the previous syntactic pre-parse.",
        "The predicate sense classification is performed as the last step.",
        "Therefore no features representing the predicate sense are employed during the training.",
        "The predicates are labeled with the most frequent sense extracted from the training corpus.",
        "No further postprocessing is applied."
      ]
    },
    {
      "heading": "3. Second-order Eisner model",
      "text": [
        "The Carreras' extension of the Eisner inference algorithm is an expensive O(n) parser.",
        "The number of assignable labels for each dependency is a hidden multiplying constant in this asymptotic cost.",
        "We begin describing a first-order dependency parser.",
        "It receives a sentence x and outputs a dependency tree y.",
        "A dependency, or first-order factor, is defined as /1 = (h, m, l).",
        "Where h is the head token, m the modifier and l the syntactic label.",
        "The score for this factor /i is computed as:",
        "Where w(l) is the weight vector for the syntactic label l and 0 a feature extraction function.",
        "The parser outputs the best tree y* from the set T(x) of all projective dependency trees.",
        "The second-order extension decomposes the dependency tree in factors that include some children of the head and modifier.",
        "A second-order factor is:",
        "where ch is the daughter of h closest to m within the tokens [h,..., m]; cmo is the outermost daughter of m outside [h,..., m]; and cmi is the furthest daughter of m inside [h, .",
        ".",
        ".",
        ", m].",
        "The score for these new factors is computed by",
        "The parser builds the best-scoring projective tree factorized in second-order factors.",
        "The score of the tree is also defined as the sum of the score of its factors.",
        "We proceeded in an analogous way in which the Llufs and Marquez (2008) extended the first-order parser.",
        "That previous work extended a first-order model by including semantic labels in first-order dependencies.",
        "Now we define a second-order joint factor as:",
        "Note that we only added a set of semantic labels lsempi,..., hempq to the second-order factor.",
        "Each one of these semantic labels represent, if any, one semantic relation between the argument m and the predicate p».",
        "There are q predicates in the sentence, labeled p1,... ,pq.",
        "The corresponding joint score to a given joint factor is computed by adding a semantic score to the previously defined score2 second-order score function:",
        "E scoresem(h, m,pj, lSemVi, x, w) q",
        "Pi where,",
        "We normalize the semantic score by the number of predicates q.",
        "The semantic score is computed as a score between m and each sentence predicate pi.",
        "No second-order relations are considered in these score functions.",
        "The search of the best ch, cmo and cmi is independent of the semantic components of the factor.",
        "The computational cost of the algorithm is increased by one semantic score function call for every m, h, and pi combination.",
        "The asymptotic cost of this operation is O(q • n) and it is sequentially performed among other O(n) operations in the main loop of the algorithm.",
        "Algorithm 1 Extension of the Carreras (2007) algorithm_",
        "Our implementation slightly differs from the original Carreras algorithm description.",
        "The main difference is that no specific features are extracted for the second-order factors.",
        "This allows us to reuse the feature extraction mechanism of a first-order parser.",
        "Algorithm 1 shows the Carreras' extension of the",
        "Eisner algorithm including our proposed joint semantic scoring.",
        "The tokens s and t represent the start and end tokens of the current substring, also called span.",
        "The direction d G { – , ^} defines whether t or s is the head of the last dependency built inside the span.",
        "The score functions scorech,scorecmj and scorecmo are the linear functions that build up the previously defined second-order global score, e.g., scorech= 0(h, m, ch, x) • w^.",
        "The two tables C and O maintain the dynamic programming structures.",
        "Note that the first steps of the inner loop are applied for all l, the syntactic label, but the semantic score function does not depend on l. Therefore the best semantic label can be chosen independently.",
        "For simplicity, we omitted the weight vectors required in each score function and the backpointers tables to save the local decisions.",
        "We also omitted the definition of the domain of some variables.",
        "Moreover, the filter of the set of assignable labels is not shown.",
        "A basic filter regards the POS of the head and modifier to filter out the set of possible arguments for each predicate.",
        "Another filter extract the set of allowed arguments for each predicate from the frames files.",
        "These last filters were applied to the English, German and Chinese.",
        "The Catalan and Spanish datasets (Taule et al., 2008) present two interesting properties.",
        "The first property, as previously said, is a direct correspondence between syntactic and semantic labels.",
        "The second interesting property is that all semantic dependencies exactly overlap with the syntactic tree.",
        "Thus the semantic dependency between a predicate and an argument always has a matching syntactic dependency between a head and a modifier.",
        "The Chinese data also contains direct syntactic-semantic mappings.",
        "But due to the Shared Task time constraints we did not implemented a specific parsing method for this language.",
        "The complete overlap between syntax and semantics can simplify the definition of a second-order joint factor.",
        "In this case, a second-order factor will only have, if any, one semantic dependency.",
        "We only allow at most one semantic relation lsem between the head token h and the modifier m. Note that h must be a sentence predicate and m its argument if",
        "lsem is not null.",
        "We extend the second-order factors with a single and possibly null semantic label,",
        "i.e., /2syn-sem = (h, m, l, ch, cmo, cm, lsem).",
        "This slightly simplifies the scoring function:",
        "a • scoresem(h, m, x, w) where a is an adjustable parameter of the model and,",
        "The next property that we are intended to exploit is the syntactic-semantic mappings.",
        "These mappings define the allowed combinations of syntactic and semantic labels.",
        "The label combinations can only be exploited when there is semantic dependency between the head h and the modifier m of a factor.",
        "An argument identification classifier determines the presence of a semantic relation, given h is a predicate.",
        "In these cases we only generate factors that are compliant with the mappings.",
        "If a syntactic label has many corresponding semantic labels we will score all of them and select the combination with the highest score.",
        "The computational cost is not significantly increased as there is a bounded number of syntactic and semantic combinations to score.",
        "In addition, the only one-argument-per-factor constraint reduces the complexity of the algorithm with respect to the previous joint extension.",
        "We found some inconsistencies in the frames files provided by the organizers containing the correspondences between syntax and semantics.",
        "For this reason we extracted them directly from the corpus.",
        "The extracted mappings discard the 7.9% of the correct combinations in the Catalan development corpus that represent a 1.7% of its correct syntactic dependencies.",
        "The discarded semantic labels are the 5.14% for Spanish representing the 1.3% of the syntactic dependencies."
      ]
    },
    {
      "heading": "4. Results and discussion",
      "text": [
        "Table 1 shows the official results for all seven languages, including out-of-domain data labeled as ood.",
        "The high computational cost of the second-order models prevented us from carefully tuning the system parameters.",
        "After the shared task evaluation deadline, some bug were corrected, improving the system performance.",
        "The last results are shown in parenthesis.",
        "The combined filters for Catalan and Spanish hurt the parsing due to the discarded correct labels but we believe that this effect is compensated by an improved precision in the cases where the correct labels are not discarded.",
        "For example, in Spanish these filters improved the syntactic LAS from 85.34 to 86.77 on the development corpus using the gold syntactic tree as the pre-parse tree.",
        "Figure 1 shows the learning curve for the English and Czech language.",
        "The results are computed in the development corpus.",
        "The semantic score is computed using gold syntax and gold predicate sense classification.",
        "We restricted the learning curve to the first epoch.",
        "Although the this first epoch is very close to the best score, some languages showed improvements until the fourth epoch.",
        "In the figure we can see better syntactic results for the joint system with respect to the syntactic-only parser.",
        "We should not consider this improvement completely realistic as the semantic component of the joint system uses gold features (i.e., a gold pre-parse).",
        "Nonetheless, it points that a highly accurate semantic component could improve the syntax.",
        "Table 2 shows the training time for a second-order syntactic and joint configurations of the parser.",
        "Note that the time per instance is an average and some sentences could require a significantly higher time.",
        "Recall that our parser is O(n) dependant on the sentence length.",
        "We discarded large sentences during training for efficiency reasons.",
        "We discarded sentences with more than 70 words for all languages except for Catalan and Spanish where the threshold was set to 100 words in the syntactic parser.",
        "This larger number of sentences is aimed to improve the syntactic performance of these languages.",
        "The shorter sentences used in the joint parsing and the pruning of the previously described filters reduced the training time for Catalan and Spanish.",
        "The amount of main memory consumed by the system is 0.5-1GB.",
        "The machine used to perform the computations is an AMD64 Athlon 5000+.",
        "macro Fi syn LAS semantic Fi ood macro Fi ood syn LAS ood sem Fi"
      ]
    },
    {
      "heading": "5. Conclusion",
      "text": [
        "We have shown that a joint syntactic-semantic parsing can be based on the state-of-the-art Carreras (2007) parser at an expense of a reasonable cost.",
        "Our second-order parser still does not reproduce the state-of-the art results presented by similar systems (Nivre et al., 2007).",
        "Although we achieved mild results we believe that a competitive system based in our model can be built.",
        "Further tuning is required and a complete set of new second-order features should be implemented to improve our parser.",
        "The multilingual condition of the task allows us to evaluate our approach in seven different languages.",
        "A detailed language-dependent evaluation can give us some insights about the strengths and weaknesses of our approach across different languages.",
        "Unfortunately we believe that this objective was possibly not accomplished due to the time constraints.",
        "The Catalan and Spanish datasets presented interesting properties that could be exploited.",
        "The mapping between syntax and semantics should be specially useful for a joint system.",
        "In addition the semantic dependencies for these languages are aligned with the projective syntactic dependencies, i.e., the predicate-argument pairs exactly match syntactic dependencies.",
        "This is a useful property to simultaneously build joint dependencies."
      ]
    },
    {
      "heading": "6. Future and ongoing work",
      "text": [
        "Our syntactic and semantic parsers, as many others, is not exempt of bugs.",
        "Furthermore, very few tuning and experimentation was done during the development of our parser due to the Shared Task time constraints.",
        "We believe that we still did not have enough data to fully evaluate our approach.",
        "Further experimentation is required to asses the improvement of a joint architecture vs. a pipeline architecture.",
        "Also a careful analysis of the system across the different languages is to be performed."
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "We thank the corpus providers (Taule et al., 2008; Palmer and Xue, 2009; Hajic et al., 2006; Surdeanu et al., 2008; Burchardt et al., 2006; Kawahara et al., 2002) for their effort in the annotation and conversion of the seven languages datasets."
      ]
    }
  ]
}
