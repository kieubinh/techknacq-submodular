{
  "info": {
    "authors": [
      "Wenbin Jiang",
      "Yajuan Lü",
      "Yang Liu",
      "Qun Liu"
    ],
    "book": "COLING – POSTERS",
    "id": "acl-C10-2059",
    "title": "Effective Constituent Projection across Languages",
    "url": "https://aclweb.org/anthology/C10-2059",
    "year": 2010
  },
  "references": [
    "acl-A00-2018",
    "acl-D08-1059",
    "acl-D09-1086",
    "acl-D09-1106",
    "acl-E03-1008",
    "acl-H05-1066",
    "acl-I05-1007",
    "acl-N01-1023",
    "acl-P00-1056",
    "acl-P02-1017",
    "acl-P02-1040",
    "acl-P02-1050",
    "acl-P03-1021",
    "acl-P04-1061",
    "acl-P05-1022",
    "acl-P06-1043",
    "acl-P06-1055",
    "acl-P06-1077",
    "acl-P06-1109",
    "acl-P07-1049",
    "acl-P08-1067",
    "acl-P09-1042",
    "acl-W02-1001",
    "acl-W05-1506",
    "acl-W06-3601",
    "acl-W08-2102"
  ],
  "sections": [
    {
      "text": [
        "Wenbin Jiang and Yajuan LU and Yang Liu and Qun Liu",
        "Key Laboratory of Intelligent Information Processing Institute of Computing Technology Chinese Academy of Sciences {jiangwenbin, lvyajuan, yliu, liuqun}@ict.ac.cn",
        "We describe an effective constituent projection strategy, where constituent projection is performed on the basis of dependency projection.",
        "Especially, a novel measurement is proposed to evaluate the candidate projected constituents for a target language sentence, and a PCFG-style parsing procedure is then used to search for the most probable projected constituent tree.",
        "Experiments show that, the parser trained on the projected treebank can significantly boost a state-of-the-art supervised parser.",
        "When integrated into a tree-based machine translation system, the projected parser leads to translation performance comparable with using a supervised parser trained on thousands ofanno-tated trees."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "In recent years, supervised constituent parsing has been well studied and achieves the state-of-the-art for many resource-rich languages (Collins, 1999; Charniak, 2000; Petrov et al., 2006).",
        "Because of the cost and difficulty in treebank construction, researchers have also investigated the utilization of unannotated text, including the unsupervised parsing which totally uses unannotated data (Klein and Manning, 2002; Klein and Manning, 2004; Bod, 2006; Seginer, 2007), and the semi-supervised parsing which uses both annotated and unannotated data (Sarkar, 2001; Steedman et al., 2003; McClosky et al., 2006).",
        "Because of the higher complexity and lower performance of unsupervised methods, as well as the need of reliable priori knowledge in semi-supervised methods, it seems promising to project the syntax structures from a resource-rich language to a resource-scarce one across a bilingual corpus.",
        "Lots of researches have so far been devoted to dependency projection (Hwa et al., 2002; Hwa et al., 2005; Ganchev et al., 2009; Smith and Eisner, 2009).",
        "While for constituent projection there is few progress.",
        "This is due to the fact that the constituent syntax describes the language structure in a more detailed way, and the degree of isomorphism between constituent structures appears much lower.",
        "In this paper we propose for constituent projection a stepwise but totally automatic strategy, which performs constituent projection on the basis of dependency projection, and then use a constraint EM optimization algorithm to optimized the initially projected trees.",
        "Given a word-aligned bilingual corpus with source sentences parsed, we first project the dependency structures of these constituent trees to the target sentences using a dynamic programming algorithm, then we generate a set of candidate constituents for each target sentence and design a novel evaluation function to calculate the probability of each candidate constituent, finally, we develop a PCFG-style parsing procedure to search for the most probable projected constituent tree in the evaluated candidate constituent set.",
        "In addition, we design a constraint EM optimization procedure to decrease the noise in the initially projected constituent treebank.",
        "Experimental results validate the effectiveness of our approach.",
        "On the Chinese-English FBIS corpus, we project the English parses produced by the Charniak parser across to the Chinese sentences.",
        "A berkeley parser trained on this projected treebank can effectively boost the supervised parsers trained on bunches of CTB trees.",
        "Especially, the supervised parser trained on the smaller CTB 1.0 benefits a significant F-measure increment of more than 1 point from the projected parser.",
        "When using the projected parser in a tree-based translation model (Liu et al., 2006), we achieve translation performance comparable with using a state-of-the-art supervised parser trained on thousands of CTB trees.",
        "This surprising result gives us an inspiration that better translation would be achieved by combining both projected parsing and supervised parsing into a hybrid parsing schema."
      ]
    },
    {
      "heading": "2. Stepwise Constituent Projection",
      "text": [
        "We first introduce the dynamic programming procedure for dependency projection, then describe the PCFG-style algorithm for constituent projection which is conducted on projected dependent structures, and finally show the constraint EM procedure for constituent optimization.",
        "For dependency projection we adopt a dynamic programming algorithm, which searches the most probable projected target dependency structure according to the source dependency structure and the word alignment.",
        "In order to mitigate the effect of word alignment errors, multiple GIZA++ (Och and Ney, 2000) results are combined into a compact representation called alignment matrix.",
        "Given a source sentence with m words, represented as Ei:m, and a target sentence with n words, represented as F\\:n, their word alignment matrix A is an m x n matrix, where each element Ai)j- denotes the probability of the source word E aligned to the target word Fj.",
        "Using P(DF\\DE, A) to denote the probability of the projected target dependency structure DFconditioned on the source dependency structure DE and the alignment matrix A, the projection algorithm aims to find Algorithm 1 Dependency projection."
      ]
    },
    {
      "heading": "1. : Input: F, and P e for all word pairs in F",
      "text": [
        "4: for k – – 1 do > all partitions 8: V[i, j] – top K derivations of buf 9: Output: the best derivation ofV[1, |F|] 13: return d",
        "P (DF \\DE, A) can be factorized into each dependency edge x rx y in DF Pecan then be obtained by simple accumulation across all possible situations ofcorrespondence where 5(x',y'\\DE) is a 0-1 function that equals 1 only if the dependent relation x r y holds in",
        "DE.",
        "The search procedure needed by the argmax operation in equation 1 can be effectively solved by the Chu-Liu-Edmonds algorithm used in (McDonald et al., 2005).",
        "In this work, however, we adopt a more general and simple dynamic programming algorithm as shown in Algorithm 1, in order to facilitate the possible expansions.",
        "In practice, the cube-pruning strategy (Huang and Chiang, 2005) is used to speed up the enumeration of derivations (loops started by line 4 and 5).",
        "The PCFG-style parsing procedure searches for the most probable projected constituent tree in a shrunken search space determined by the projected dependency structure and the target constituent tree.",
        "The shrunken search space can be built as following.",
        "First, we generates the candidate constituents of the source tree and the candidate spans of the target sentence, so as to enumerate the candidate constituents ofthe targetsen-tence.",
        "Then we compute the consistent degree for each pair of candidate constituent and span, and further estimate the probability of each candidate constituent for the target sentence.",
        "For the candidate constituents of the source tree, using only the original constituents imposes a strong hypothesis of isomorphism on the constituent projection between two languages, since it requires that each couple of constituent and span must be strictly matched.",
        "While for the candidate spans of the target sentences, using all subsequences makes the search procedure suffer from more perplexity.",
        "Therefore, we expand the candidate constituent set and restrict the candidate span set:",
        "• Candidate Constituent: Suppose a production in the source constituent tree, denoted as p – c\\C2--Ch..c\\p\\, and ch is the head child of the parent p. Each constituent, p or c, is a triple (lb, rb, nt), where nt denotes its nonterminal, while lb and rb represent its left-and right bounds of the subsequence that the constituent covers.",
        "The candidate constituent set of this production consists the head of the production itself, and a set of incomplete constituents,",
        "where the symbol * indicates an incomplete non-terminal.",
        "The candidate constituent set of the entire source tree is the unification of the sets extracted from all productions of the tree.",
        "• Candidate Span: A candidate span of the target sentence is a tuple (lb, rb), where lb and rb indicate the same as in a constituent.",
        "We define the candidate span set as the spans of all regular dependent segments in the corresponding projected dependency structure.",
        "A regular dependency segment is a dependent segment that every modifier of the root is a complete dependency structure.",
        "Suppose a dependency structure rooted at word p, denoted as ciL..ci2C\\i ^ p rv cricr2--crß, it",
        "has L (L > 0) modifiers on its left and R (R > 0) modifiers on its right, each of them is a smaller complete dependency structure.",
        "Then the word p itself is a regular dependency segment without any modifier, and is a set of regular dependency structures with at least one modifier.",
        "The regular dependency segments of the entire projected dependency structure can simply be accumulated across all dependency nodes.",
        "After determining the candidate constituent set of the source tree, denoted as $E, and the candidate span set of the target sentence, denoted as *F, we then calculate the consistent degree for each pair of candidate constituent and candidate span.",
        "Given a candidate constituent 0 G $E and a candidate span ip G ^F, their consistent degree C(p, 0\\ A) is the probability that they are aligned to each other according to A.",
        "We display the derivations from bottom to up.",
        "First, we define the alignment probability from a word i in the span p to the constituent 0 as",
        "Then we define the alignment probability from the span p to the constituent 0 as",
        "Note that we use i to denote both a word and its index for simplicity without causing confusion.",
        "Finally, we define C(0, p\\ A) as",
        "Where P(0 – p\\AT) denotes the alignment probability from the constituent 0 to the span p, it can be calculated in the same manner.",
        "8: V[i, j] – top K derivations of buf 9: Output: the best derivation of V[1, |F|] 13: return d",
        "The purpose of constituent projection is to find the most probable projected constituent tree for the target sentence conditioned on the source constituent tree and the word alignment",
        "Here, we use $f to denote the set of candidate constituents of the target sentence where p( ) and nt( ) represent the span and the non-terminal of a constituent respectively, and NT(•) represents the set of non-terminals extracted from a constituent set.",
        "Note that Tf is a subset of $f if we treat a tree as a set of constituents.",
        "The probability of the projected tree Tf can be factorized into the probabilities of the projected constituents that composes the tree while the probability of the projected source constituent can be defined as a statistics of span-to-constituent-and constituent-to-constituent consistent degrees where C(0f, 0e A) in the numerator denotes the consistent degree for each pair of constituents, which can be calculated based on that ofspan and constituent described in Formula 2",
        "Algorithm 2 shows the pseudocode for constituent projection.",
        "A PCFG-style parsing procedure searches for the best projected constituent tree in the constrained space determined by *f. Note that the projected trees are binarized, and can be easily recovered according to the asterisks at the tails of non-terminals.",
        "Algorithm 2 Constituent projection.",
        "Since the constituent projection is conducted on each sentence pair separately, the projected treebank is apt to suffer from more noise caused by free translation and word alignment error.",
        "It can be expected that an EM iteration over the whole projected treebank will lead to trees with higher consistence.",
        "We adopt the inside-outside algorithm to improve the quality of the initially projected treebank.",
        "Different from previous works, all expectation and maximization operations for a single tree are performed in a constrained space determined by the candidate span set of the projected target dependency structure.",
        "That is to say, all the summation operations, both for calculating a/ß values and for re-estimating the rule probabilities, only consider the spans in the candidate span set.",
        "This means that the projected dependency structures are supposed believable, and the noise is mainly introduced in the following constituent projection procedure.",
        "Here we give an overall description of the treebank optimization procedure.",
        "First, an initial PCFG grammar GF is estimated from the original projected treebank.",
        "Then several iterations of a/ß calculation and rule probability re-estimation are performed.",
        "For example in the i-the iteration, a/ß values are calculated based on the current grammar GF-1, afterwards the optimized grammar GF is obtained based on these a/ß values.",
        "The iterative procedure terminates when the likelihood of whole treebank increases slowly.",
        "Finally, with the optimized grammar, a constrained PCFG parsing procedure is conducted on each of the initial projected trees, so as to obtain an optimized treebank."
      ]
    },
    {
      "heading": "3. Applications of Constituent Projection",
      "text": [
        "The most direct contribution of constituent projection is pushing an initial step for the statistical constituent parsing of resource-scarce languages.",
        "It also has some meaningful applications even for the resource-rich languages.",
        "For instances, the projected treebank, due to its large scale and high coverage, can used to boost an traditional supervised-trained parser.",
        "And, the parser trained on the projected treebank can adopted to conduct tree-to-string machine translation, since it give parsing results with larger isomorphism with the target language than a supervised-trained parser dose.",
        "We first establish a unified framework for the enhanced parser where a projected parser is adopted to guide the parsing procedure of the baseline parser.",
        "For a given target sentence S, the enhanced parser selected the best parse T among the set of candidates Q(S) according to two evaluation functions, given by the baseline parser B and the projected guide parser G, respectively.",
        "These two evaluation functions can be integrated deeply into the decoding procedure (Carreras et al., 2008; Zhang and Clark, 2008; Huang, 2008), or can be integrated at a shallow level in a rerank-ing manner (Collins, 2000; Charniak and Johnson, 2005).",
        "For simplicity and generability, we adopt the reranking strategy.",
        "In k-best reranking, Q(S) is simply a set of candidate parses, denoted as {T1; T2,Tk}, and we use the single parse of the guide parser, TG, to re-evaluate these candidates.",
        "Formula 4 can be redefined as",
        "Here, f (T, TG) and w represent a high dimensional feature representation and a corresponding weight vector, respectively.",
        "The first feature /1(T,TG) = logP(T \\B) is the log probability of the baseline parser, while the remaining features are integer-valued guide features, and each of them represents the guider parser's predication result for a particular configuration in candidate parse T, so as to utilize the projected parser's knowledge to guide the parsing procedure of the traditional parser.",
        "In our work a guide feature is composed of two parts, the non-terminal of a certain constituent 0 in the candidate parse T, and the non-terminal at the corresponding span p(0) in the projected parse TG.",
        "Note that in the projected parse this span does not necessarily correspond to a constituent.",
        "In such situations, we simply use the non-terminal of the constituent that just be able to cover this span, and attach a asterisk at the tail of this non-terminal.",
        "Here is an example of the guide features",
        "It represents that a VP in the candidate parse corresponds to a segment of a PP in the projected parse.",
        "The quantity of its weight w1GG indicates how probably a span can be predicated as VP if the span corresponds to a partial PP in the projected parse.",
        "We adopt the perceptron algorithm to train the reranker.",
        "To reduce overfitting and produce a more stable weight vector, we also use a refinement strategy called averaged parameters (Collins, 2002).",
        "Researchers have achieved promising improvements in tree-based machine translation (Liu et al., 2006; Huang et al., 2006).",
        "Such models use a parsed tree as input and converts it into a target tree or string.",
        "Given a source language sentence, first we use a traditional source language parser to parse the sentence to obtain the syntax tree T, and then use the translation decoder to search for the best derivation d, where a derivation d is a sequence of transformations that converts the source tree into the target language string",
        "'Using non-terminals as features brings no improvement in the reranking experiments, so as to examine the impact of the projected parser.",
        "Here D is the candidate set of d, and it is determined by the source tree T and the transformation rules.",
        "Since the tree-based models are based on the synchronous transformational grammars, they suffer much from the isomerism between the source syntax and the target sentence structure.",
        "Considering that the parsed tree produced by a projected parser may have larger isomorphism with the target language, it would be a promising idea to adopt the projected parser to parse the input sentence for the subsequent translation decoding procedure."
      ]
    },
    {
      "heading": "4. Experiments",
      "text": [
        "In this section, we first invalidate the effect of constituent projection by evaluating a parser trained on the projected treebank.",
        "Then we investigate two applications of the projected parser: boosting an traditional supervised-trained parser, and integration in a tree-based machine translation system.",
        "Following the previous works, we depict the parsing performance by F-score on sentences with no more than 40 words, and evaluate the translation quality by the case-sensitive BLEU-4 metric (Papineni et al., 2002) with 4 references.",
        "We perform constituent projection from English to Chinese on the FBIS corpus, which contains 239K sentence pairs with about 6.9M/8.9M words in Chinese/English.",
        "The English sentences are parsed by the Charniak Parser and the dependency structures are extracted from these parses according to the head-finding rules of (Yamada and Matsumoto, 2003).",
        "The word alignment matrixes are obtained by combining the 10-best results of GIZA++ according to (Liu et al., 2009).",
        "We first project the dependency structures from English to Chinese according to section 2.1, and then project the constituent structures according to section 2.2.",
        "We define an assessment criteria to evaluate the confidence of the final projected constituent tree where n is the word count of a Chinese sentence in our experiments.",
        "A series of projected Chi-",
        "Table 1: Performances of the projected parsers on the CTB test set.",
        "#Resrv denotes the amount of reserved trees within threshold c. Cons-F1 is the traditional F-measure, while Span-F1 is the F-measure without consideration of non-terminals.",
        "nese treebanks with different scales are obtained by specifying different c as the filtering threshold.",
        "The state-of-the-art Berkeley Parser is adopted to train on these treebanks because of its high performance and independence of head word information.",
        "Table 1 shows the performances of these projected parsers on the standard CTB test set, which is composed of sentences in chapters 271-300.",
        "We find that along with the decrease of the filtering threshold c, more projected trees are reserved and the performance of the projected parser constantly increases.",
        "We also find that the traditional F-value, Cons-F1, is obviously lower than the one without considering non-terminals, Span-F1.",
        "This indicates that the constituent projection procedure introduces more noise because of the higher complexity of constituent correspondence.",
        "In all the rest experiments, however, we simply use the projected treebank filtered by threshold c = 0.1 and do not try any smaller thresholds, since it already takes more than one weak to train the Berkeley Parser on the 87 thousands trees resulted by this threshold.",
        "The constrained EM optimization procedure described in section 2.3 is used to alleviate the noise in the projected treebank, which may be caused by free translation, word alignment errors, and projection on each single sentence pair.",
        "Figure 1 shows the log-likelihood on the projected treebank after each EM iteration.",
        "It is obvious that the log-likelihood increases very slowly after 10 iterations.",
        "We terminate the EM procedure after 40 iterations.",
        "Finally we train the Berkeley Parser on the optimized projected treebank, and test its perfor-",
        "Thres c",
        "#Resrv",
        "Cons-Fi",
        "Span-Fi",
        "0.5",
        "12.6K",
        "23.9",
        "32.7",
        "0.4",
        "17.8K",
        "23.9",
        "33.4",
        "0.3",
        "27.2K",
        "25.4",
        "35.7",
        "0.2",
        "45.IK",
        "26.6",
        "38.0",
        "0.1",
        "87.0K",
        "27.8",
        "40.4",
        "Table 2: Performance of the parser trained on the optimized projected treebank, compared with that of the original projected parser.",
        "Table 3: Performance improvement brought by the projected parser to the baseline parsers trained on CTB 1.0 and CTB 5.0, respectively.",
        "Bst-Ini/Bst-Opt: boosted by the parser trained on the initial/optimized projected treebank.",
        "mance on the standard CTB test set.",
        "Table 2 shows the performance of the parser trained on the optimized projected treebank.",
        "Unexpectedly, we find that the constituent F1 value of the parser trained on the optimized treebank drops sharply from the baseline, although the span F1 value remains nearly the same.",
        "We assume that the EM procedure gives the original projected treebank more consistency between each single tree while the revised treebank deviates from the CTB annotation standard, but it needs to be validated by the following experiments.",
        "The projected parser is used to help the reranking of the k-best parses produced by another state-of-the-art parser, which is called the baseline parser for convenience.",
        "In our experiments we choose the revised Chinese parser (Xiong et al., 2005)",
        "Figure 2: Boosting performance of the projected parser on a series of baseline parsers that are trained on treebanks of different scales.",
        "based on Collins model 2 (Collins, 1999) as the baseline parser.",
        "The baseline parser is respectively trained on CTB 1.0 and CTB 5.0.",
        "For both corpora we follow the traditional corpus splitting: chapters 271-300 for testing, chapters 301-325 for development, and else for training.",
        "Experimental results are shown in Table 3.",
        "We find that both projected parsers bring significant improvement to the baseline parsers.",
        "Especially the later, although performs worse on CTB standard test set, gives a larger improvement than the former.",
        "This to some degree confirms the previous assumption.",
        "However, more investigation must be conducted in the future.",
        "We also observe that for the baseline parser trained on the much larger CTB 5.0, the boosting performance of the projected parser is relatively lower.",
        "To further investigate the regularity that the boosting performance changes according to the scale of training treebank of the baseline parser, we train a series of baseline parsers with different amounts of trees, then use the projected parser trained on the optimized treebank to enhance these baseline parsers.",
        "Figure 2 shows the experimental results.",
        "From the curves we can see that the smaller the training corpus of the baseline parser, the more significant improvement can be obtained.",
        "This is a good news for the resource-scarce languages that have no large treebanks.",
        "Train Set",
        "Cons-Fi Span-Fi",
        "Original 87K Optimized 87K",
        "27.8 40.4 22.8 40.2",
        "Train Set",
        "Baseline Bst-Ini Bst-Opt",
        "CTB 1.0 CTB 5.0",
        "75.6 76.4 76.9 85.2 85.5 85.7",
        "We investigate the effect of the projected parser in the tree-based translation model on Chinese-to-English translation.",
        "A series of contrast translation systems are built, each of which uses a supervised Chinese parser (Xiong et al., 2005) trained on a particular amount of CTB trees.",
        "We use the FBIS Chinese-English bitext as the training corpus, the 2002 NIST MT Evaluation test set as our development set, and the 2005 NIST MT Evaluation test set as our test set.",
        "We first extract the tree-to-string translation rules from the training corpus by the algorithm of (Liu et al., 2006), and train a 4-gram language model on the Xinhua portion of GIGAWORD corpus with Kneser-Ney smoothing using the SRI Language Modeling Toolkit (Stolcke and Andreas, 2002).",
        "Then we use the standard minimum error-rate training (Och, 2003) to tune the feature weights to maximize the system s BLEU score.",
        "Figure 3 shows the experimental results.",
        "We find that the translation system using the projected parser achieves the performance comparable with the one using the supervised parser trained on CTB 1.0.",
        "Considering that the F-score of the projected parser is only 22.8%, which is far below of the 75.6% F-score of the supervised parser trained on CTB 1.0, we can give more confidence to the assumption that the projected parser is apt to describe the syntax structure of the counterpart language.",
        "This surprising result also gives us an inspiration that better translation would be achieved by combining projected parsing and supervised parsing into hybrid parsing schema."
      ]
    },
    {
      "heading": "5. Conclusion",
      "text": [
        "This paper describes an effective strategy for constituent projection, where dependency projection and constituent projection are consequently conducted to obtain the initial projected treebank, and an constraint EM procedure is then performed to optimized the projected trees.",
        "The projected parser, trained on the projected treebank, significantly boosts an existed state-of-the-art supervised-trained parser, especially trained on a smaller treebank.",
        "When using the projected parser in tree-based translation, we achieve the",
        "Figure 3: Performances of the translation systems, which use the projected parser and a series of supervised parsers trained CTB trees.",
        "translation performance comparable with using a supervised parser trained on thousands of human-annotated trees.",
        "As far as we know, this is the first time that the experimental results are systematically reported about the constituent projection and its applications.",
        "However, many future works need to do.",
        "For example, more energy needs to be devoted to the treebank optimization, and hybrid parsing schema that integrates the strengths of both supervised-trained parser and projected parser would be valuable to be investigated for better translation."
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "The authors were supported by 863 State Key",
        "Science Foundation of China Contract 60873167, Microsoft Research Asia Natural Language Processing Theme Program grant (2009-2010), and National Natural Science Foundation of China Contract 90920004.",
        "We are grateful to the anonymous reviewers for their thorough reviewing and valuable suggestions."
      ]
    }
  ]
}
