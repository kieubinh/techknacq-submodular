{
  "info": {
    "authors": [
      "Jinho D. Choi",
      "Martha Palmer"
    ],
    "book": "Proceedings of the 49th Annual Meeting of the Association for Computational Linguistics: Human Language Technologies",
    "id": "acl-P11-2121",
    "title": "Getting the Most out of Transition-based Dependency Parsing",
    "url": "https://aclweb.org/anthology/P11-2121",
    "year": 2011
  },
  "references": [
    "acl-C10-1011",
    "acl-D07-1101",
    "acl-D08-1059",
    "acl-H05-1066",
    "acl-J08-4003",
    "acl-P05-1013",
    "acl-P08-1066",
    "acl-P08-1108",
    "acl-P09-1040",
    "acl-P10-1001",
    "acl-W09-1205",
    "acl-W09-1210"
  ],
  "sections": [
    {
      "text": [
        "This paper suggests two ways of improving transition-based, non-projective dependency parsing.",
        "First, we add a transition to an existing non-projective parsing algorithm, so it can perform either projective or non-projective parsing as needed.",
        "Second, we present a bootstrapping technique that narrows down discrepancies between gold-standard and automatic parses used as features.",
        "The new addition to the algorithm shows a clear advantage in parsing speed.",
        "The bootstrapping technique gives a significant improvement to parsing accuracy, showing near state-of-the-art performance with respect to other parsing approaches evaluated on the same data set."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "Dependency parsing has recently gained considerable interest because it is simple and fast, yet provides useful information for many NLP tasks (Shen et al., 2008; Councill et al., 2010).",
        "There are two main dependency parsing approaches (Nivre and McDonald, 2008).",
        "One is a transition-based approach that greedily searches for local optima (highest scoring transitions) and uses parse history as features to predict the next transition (Nivre, 2003).",
        "The other is a graph-based approach that searches for a global optimum (highest scoring tree) from a complete graph in which vertices represent word tokens and edges (directed and weighted) represent dependency relations (McDonald et al., 2005).",
        "Lately, the usefulness of the transition-based approach has drawn more attention because it generally performs noticeably faster than the graph-based approach (Cer et al., 2010).",
        "The transition-based approach has a worst-case parsing complexity of O(n) for projective, and O(n) for non-projective parsing (Nivre, 2008).",
        "The complexity is lower for projective parsing because it can deterministically drop certain tokens from the search space whereas that is not advisable for non-projective parsing.",
        "Despite this fact, it is possible to perform non-projective parsing in linear time in practice (Nivre, 2009).",
        "This is because the amount of non-projective dependencies is much smaller than the amount of projective dependencies, so a parser can perform projective parsing for most cases and perform non-projective parsing only when it is needed.",
        "One other advantage of the transition-based approach is that it can use parse history as features to make the next prediction.",
        "This parse information helps to improve parsing accuracy without hurting parsing complexity (Nivre, 2006).",
        "Most current transition-based approaches use gold-standard parses as features during training; however, this is not necessarily what parsers encounter during decoding.",
        "Thus, it is desirable to minimize the gap between gold-standard and automatic parses for the best results.",
        "This paper improves the engineering of different aspects of transition-based, non-projective dependency parsing.",
        "To reduce the search space, we add a transition to an existing non-projective parsing algorithm.",
        "To narrow down the discrepancies between gold-standard and automatic parses, we present a bootstrapping technique.",
        "The new addition to the algorithm shows a clear advantage in parsing speed.",
        "The bootstrapping technique gives a significant improvement to parsing accuracy.",
        "Table 1: Transitions in our algorithm.",
        "For each row, the first line shows a transition and the second line shows preconditions of the transition."
      ]
    },
    {
      "heading": "2. Reducing search space",
      "text": [
        "Our algorithm is based on Choi-Nicolov's approach to Nivre's list-based algorithm (Nivre, 2008).",
        "The main difference between these two approaches is in their implementation of the Shift transition.",
        "Choi-Nicolov's approach divides the Shift transition into two, deterministic and non-deterministic Shift's, and trains the non-deterministic Shift with a classifier so it can be predicted during decoding.",
        "Choi and Nicolov (2009) showed that this implementation reduces the parsing complexity from O(n) to linear time in practice (a worst-case complexity is O(n)).",
        "We suggest another transition-based parsing approach that reduces the search space even more.",
        "The idea is to merge transitions in Choi-Nicolov's non-projective algorithm with transitions in Nivre's projective algorithm (Nivre, 2003).",
        "Nivre's projective algorithm has a worst-case complexity of O(n), which is faster than any non-projective parsing algorithm.",
        "Since the number of non-projective dependencies is much smaller than the number of projective dependencies (Nivre and Nilsson, 2005), it is not efficient to perform non-projective parsing for all cases.",
        "Ideally, it is better to perform projective parsing for most cases and perform non-projective parsing only when it is needed.",
        "In this algorithm, we add another transition to Choi-Nicolov's approach, Left-Pop, similar to the Left-Arc transition in Nivre's projective algorithm.",
        "By adding this transition, an oracle can now choose either projective or non-projective parsing depending on parsing states.",
        "!We also tried adding the Right-Arc transition from Nivre's projective algorithm, which did not improve parsing performance for our experiments.",
        "Note that Nivre (2009) has a similar idea of performing projective and non-projective parsing selectively.",
        "That algorithm uses a Swap transition to reorder tokens related to non-projective dependencies, and runs in linear time in practice (a worst-case complexity is still O(n)).",
        "Our algorithm is distinguished in that it does not require such reordering.",
        "Table 1 shows transitions used in our algorithm.",
        "All parsing states are represented as tuples (Ai, A2, ß, E), where A1, A2, and ß are lists of word tokens.",
        "E is a set of labeled edges representing previously identified dependencies.",
        "l is a dependency label and i, j, k represent indices of their corresponding word tokens.",
        "The initial state is ([0], [ ], [1,... ,n], 0).",
        "The 0 identifier corresponds to an initial token, w0, introduced as the root of the sentence.",
        "The final state is (A1, A2, [ ], E), i.e., the algorithm terminates when all tokens in ß are consumed.",
        "The algorithm uses five kinds of transitions.",
        "All transitions are performed by comparing the last token in A1, Wi, and the first token in ß, Wj.",
        "Both Left-Popl and Left-Arcl are performed when Wj is the head of Wi with a dependency relation l. The difference is that Left-Pop removes wi from A1 after the transition, assuming that the token is no longer needed in later parsing states, whereas Left-Arc keeps the token so it can be the head of some token Wj<k<n in ß.",
        "This wi – wk relation causes a non-projective dependency.",
        "Right-Arcl is performed when wi is the head of wj with a dependency relation l. Shift is performed when A1 is empty (dt) or there is no token in A1 that is either the head or a dependent of wj (nt).",
        "No-Arc is there to move tokens around so each token in ß can be compared to all (or some) tokens prior to it.",
        "left-Popl",
        "( [Ai|ï], A2, [j\\ß], E ) ( Ai , A2, [j|ß], E U {i <^ j} ) 3i = 0, j. i -4* j A G ß. i – k",
        "left-Arcl",
        "( [Ai|i], A2 , [j\\ß], E ) ( Ai , [i|A2], [j|ß], E U {i <^ j} ) 3i = 0,j.i -4* j",
        "right-Arcl",
        "( [Ai|i], A2 , [j|ß], E ) ( Ai , [i|A2], [j|ß], E U {i – j} ) 3^ j. i *h* j",
        "Shift",
        "( Ai , A2, [j|ß], E ) ( [Ai • A21j], [ ], ß , E ) dt: Ai = [ ], nt: $k G Ai.",
        "k – j V k < – j",
        "No-Arc",
        "( [Ai|i], A2 , [j|ß], E ) ( Ai , [i|A2], [?|ß], E ) default transition",
        "........ V~ .",
        "Root0 ltl was2 my4 interest^",
        "to6 see7 youg",
        "Transition",
        "Shift (nt)",
        "Left-Arc",
        "Right-Arc",
        "Shift (dt)",
        "Left-Pop",
        "Table 2: Parsing states for the example sentence.",
        "After Left-Pop is performed (#8), [w4 = my] is removed from the search space and no longer considered in the later parsing states (e.g., between #10 and #11).",
        "During training, the algorithm checks for the preconditions of all transitions and generates training instances with corresponding labels.",
        "During decoding, the oracle decides which transition to perform based on the parsing states.",
        "With the addition of Left-Pop, the oracle can choose either projective or non-projective parsing by selecting Left-Pop or Left-Arc, respectively.",
        "Our experiments show that this additional transition improves both parsing accuracy and speed.",
        "The advantage derives from improving the efficiency of the choice mechanism; it is now simply a transition choice and requires no additional processing."
      ]
    },
    {
      "heading": "3. Bootstrapping automatic parses",
      "text": [
        "Transition-based parsing has the advantage of using parse history as features to make the next prediction.",
        "in our algorithm, when wi and wj are compared, subtree and head information of these tokens is partially provided by previous parsing states.",
        "Graph-based parsing can also take advantage of using parse information.",
        "This is done by performing 'higherorder parsing', which is shown to improve parsing accuracy but also increase parsing complexity (Carreras, 2007; Koo and Collins, 2010).",
        "Transition-based parsing is attractive because it can use parse information without increasing complexity (Nivre, 2006).",
        "The qualification is that parse information provided by gold-standard trees during training is not necessarily the same kind of information provided by automatically parsed trees during decoding.",
        "This can confuse a statistical model trained only on the gold-standard trees.",
        "To reduce the gap between gold-standard and automatic parses, we use bootstrapping on automatic parses.",
        "First, we train a statistical model using goldstandard trees.",
        "Then, we parse the training data using the statistical model.",
        "During parsing, we extract features for each parsing state, consisting of automatic parse information, and generate a training instance by joining the features with the goldstandard label.",
        "The gold-standard label is achieved by comparing the dependency relation between wj and wj in the gold-standard tree.",
        "When the parsing is done, we train a different model using the training instances induced by the previous model.",
        "We repeat the procedure until a stopping criteria is met.",
        "|- ROOT-",
        "rSBJ-,",
        "y h",
        "The stopping criteria is determined by performing cross-validation.",
        "For each stage, we perform cross-validation to check if the average parsing accuracy on the current cross-validation set is higher than the one from the previous stage.",
        "We stop the procedure when the parsing accuracy on cross-validation sets starts decreasing.",
        "Our experiments show that this simple bootstrapping technique gives a significant improvement to parsing accuracy."
      ]
    },
    {
      "heading": "4. Related work",
      "text": [
        "Daumé et al.",
        "(2009) presented an algorithm, called 5 earn, for integrating search and learning to solve complex structured prediction problems.",
        "Our bootstrapping technique can be viewed as a simplified version of Searn.",
        "During training, Searn iteratively creates a set of new cost-sensitive examples using a known policy.",
        "in our case, the new examples are instances containing automatic parses induced by the previous model.",
        "Our technique is simplified because the new examples are not cost-sensitive.",
        "Furthermore, S earn interpolates the current policy with the previous policy whereas we do not perform such interpolation.",
        "During decoding, Searn generates a sequence of decisions and makes a final prediction.",
        "in our case, the decisions are predicted dependency relations and the final prediction is a dependency tree.",
        "Searn has been successfully adapted to several nlp tasks such as named entity recognition, syntactic chunking, and pos tagging.",
        "To the best of our knowledge, this is the first time that this idea has been applied to transition-based parsing and shown promising results.",
        "Zhang and Clark (2008) suggested a transition-based projective parsing algorithm that keeps B different sequences of parsing states and chooses the one with the best score.",
        "They use beam search and show a worst-case parsing complexity of O(n) given a fixed beam size.",
        "Similarly to ours, their learning mechanism using the structured perceptron algorithm involves training on automatically derived parsing states that closely resemble potential states encountered during decoding."
      ]
    },
    {
      "heading": "5. Experiments",
      "text": [
        "All models are trained and tested on English and Czech data using automatic lemmas, pos tags, and feats, as distributed by the CoNLL'09 shared task (Hajic et al., 2009).",
        "We use Liblinear L2-L1 Svm for learning (L2 regularization, L1 loss; Hsieh et al.",
        "(2008)).",
        "For our experiments, we use the following learning parameters: c = 0.1 (cost), e = 0.1 (termination criterion), B = 0 (bias).",
        "First, we evaluate the impact of the Left-Pop transition we add to Choi-Nicolov's approach.",
        "To make a fair comparison, we implemented both approaches and built models using the exact same feature set.",
        "The 'CN' and 'Our' rows in Table 3 show accuracies achieved by Choi-Nicolov's and our approaches, respectively.",
        "Our approach shows higher accuracies for all categories.",
        "Next, we evaluate the impact of our bootstrapping technique.",
        "The 'Our+' row shows accuracies achieved by our algorithm using the bootstrapping technique.",
        "The improvement from 'Our' to 'Our+' is statistically significant for all categories (McNemar, p < .0001).",
        "The improvment is even more significant in a language like Czech for which parsers generally perform more poorly.",
        "Table 3: Accuracy comparisons between different parsing approaches (Las/Uas: labeled/unlabeled attachment score).",
        "* indicates a statistically significant improvement.",
        "(#) indicates an overall rank of the system in CoNLL'09.",
        "English",
        "Czech",
        "Las",
        "Uas",
        "Las",
        "Uas",
        "CN",
        "88.54",
        "90.57",
        "78.12",
        "83.29",
        "Our",
        "88.62",
        "90.66",
        "78.30",
        "83.47",
        "Our+",
        "89.15*",
        "91.18*",
        "80.24*",
        "85.24*",
        "Merlo",
        "88.79 (3)",
        "-",
        "80.38 (1)",
        "-",
        "Bohnet",
        "89.88 (1)",
        "-",
        "80.11 (2)",
        "-",
        "Finally, we compare our work against other state-of-the-art systems.",
        "For the CoNLL'09 shared task, Ges-mundo et al.",
        "(2009) introduced the best transition-based system using synchronous syntactic-semantic parsing ('Merlo'), and Bohnet (2009) introduced the best graph-based system using a maximum spanning tree algorithm ('Bohnet').",
        "Our approach shows quite comparable results with these systems.",
        "Figure 1 shows average parsing speeds for each sentence group in both English and Czech evaluation sets (Table 4).",
        "'Nivre' is Nivre's swap algorithm (Nivre, 2009), of which we use the implementation from MaltParser (maltparser.",
        "org).",
        "The other approaches are implemented in our open source project, called ClearParser (code, google.com/p/clearparser).",
        "Note that features used in MaltParser have not been optimized for these evaluation sets.",
        "All experiments are tested on an Intel Xeon 2.57GHz machine.",
        "For generalization, we run five trials for each parser, cut off the top and bottom speeds, and average the middle three.",
        "The loading times for machine learning models are excluded because they are independent from the parsing algorithms.",
        "The average parsing speeds are 2.86, 2.69, and 2.29 (in milliseconds) for Nivre, CN, and Our+, respectively.",
        "Our approach shows linear growth all along, even for the sentence groups where some approaches start showing curves.",
        "Q.",
        "Table 4: # of sentences in each group, extracted from both English/Czech evaluation sets.",
        "'< n' implies a group containing sentences whose lengths are less than n.",
        "We also measured average parsing speeds for 'Our', which showed a very similar growth to 'Our+'.",
        "The average parsing speed of 'Our' was 2.20 ms; it performed slightly faster than 'Our+' because it skipped more nodes by performing more non-deterministic SHIFT's, which may or may not have been correct decisions for the corresponding parsing states.",
        "It is worth mentioning that the curve shown by 'Nivre' might be caused by implementation details regarding feature extraction, which we included as part of parsing.",
        "To abstract away from these implementation details and focus purely on the algorithms, we would need to compare the actual number of transitions performed by each parser, which will be explored in future work."
      ]
    },
    {
      "heading": "6. Conclusion and future work",
      "text": [
        "We present two ways of improving transition-based, non-projective dependency parsing.",
        "The additional transition gives improvements to both parsing speed and accuracy, showing a linear time parsing speed with respect to sentence length.",
        "The bootstrapping technique gives a significant improvement to parsing accuracy, showing near state-of-the-art performance with respect to other parsing approaches.",
        "In the future, we will test the robustness of these approaches in more languages."
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "We gratefully acknowledge the support of the National Science Foundation Grants CISE-IIS-RI-0910992, Richer Representations for Machine Translation, a subcontract from the Mayo Clinic and Harvard Children's Hospital based on a grant from the ONC, 90TR0002/01, Strategic Health Advanced Research Project Area 4: Natural Language Processing, and a grant from the Defense Advanced Research Projects Agency (DARPA/IPTO) under the GALE program, DARPA/CMO Contract No.",
        "HR0011-06-C-0022, subcontract from BBN, Inc. Any opinions, findings, and conclusions or recommendations expressed in this material are those of the authors and do not necessarily reflect the views of the National Science Foundation.",
        "< 10",
        "< 20",
        "< 30",
        "< 40",
        "< 50",
        "< 60",
        "< 70",
        "1,415",
        "2,289",
        "1,714",
        "815",
        "285",
        "72",
        "18"
      ]
    }
  ]
}
