{
  "info": {
    "authors": [
      "Petter Haugereid",
      "Francis Bond"
    ],
    "book": "Proceedings of the Workshop on Multiword Expressions: from Parsing and Generation to the Real World",
    "id": "acl-W11-0814",
    "title": "Extracting Transfer Rules for Multiword Expressions from Parallel Corpora",
    "url": "https://aclweb.org/anthology/W11-0814",
    "year": 2011
  },
  "references": [
    "acl-J03-1002",
    "acl-P03-1057",
    "acl-P05-1032",
    "acl-W04-2208",
    "acl-W04-3230"
  ],
  "sections": [
    {
      "text": [
        "Petter Haugereid and Francis Bond",
        "Division of Linguistics and Multilingual Studies, Nanyang Technological University, Singapore petterha@ntu.edu.sg,bond@ieee.org",
        "This paper presents a procedure for extracting transfer rules for multiword expressions from parallel corpora for use in a rule based Japanese-English MT system.",
        "We show that adding the multi-word rules improves translation quality and sketch ideas for learning more such rules."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "Because of the great ambiguity of natural language, it is hard to translate from one language to another.",
        "To deal with this ambiguity it is common to try to add more context to a word, either in the form of multi-word translation patterns (Ikehara et al., 1991) or by adding more context to the translations in statistical MT systems (Callison-Burch et al., 2005).",
        "In this paper, we present a way to learn large numbers of multi-word translation rules from either dictionaries or parallel text, and show their effectiveness in a semantic-transfer-based Japanese-to-English machine translation system.",
        "This research is similar to work such as Nichols et al.",
        "(2007).",
        "The novelty lies in (i) the fact that we are learning rules from parallel text and (ii) that we are learning much more complex rules.",
        "In Section 2, we outline the semantic transfer machinery and we introduce the DELPH-IN machine translation initiative that provided the resources used in its construction.",
        "We describe in more detail how we learn new rules in Section 3, and show their effect in Section 4.",
        "We briefly discuss the results and outline future work in Section 5 and, finally, we conclude this paper in Section 6."
      ]
    },
    {
      "heading": "2. Semantic transfer",
      "text": [
        "All experiments are carried out using Jaen, a semantic transfer based machine translation system (Bond et al., 2011).",
        "The system uses Minimal Recursion Semantics (MRS) as its semantic representation (Copestake et al., 2005).",
        "The transfer process takes place in three steps.",
        "First, a Japanese string is parsed with the Japanese hpsg grammar, jacy.",
        "The grammar produces an MRS with Japanese predicates.",
        "Second, the Japanese MRS is transferred into an English MRS. And finally, the English HPSG grammar ERG generates an English string from the English MRS.",
        "At each step of the translation process, stochastic models are used to rank the output.",
        "There is a cutoff at 5, so the maximal amount of generated sentences is 125 (5x5x5).",
        "The final results are reranked using a combined model (Oepen et al., 2007).",
        "While jacy and the erg have been developed over many years, less effort has been put into the transfer grammar, and this component is currently the bottleneck of the system.",
        "In general, transfer rules are the bottleneck for any system, and there is a long history of trying to expand the number of transfer rules types (Matsuo et al., 1997) and tokens (Yamada et al., 2002).",
        "In order to increase the coverage of the system (the number of words that we can translate) we build rules automatically.",
        "We look at strings that have a high probability of being a translation (identified from parallel corpora), and see if they fit a pattern defined in the transfer grammar.",
        "A very simple pattern would be that of a noun predicate being transferred as another noun predicate.",
        "The transfer rule type for this pattern is given in (1).",
        "The type makes sure that the lbl and the arg0 values are kept when the relation is transferred, while the pred value is left underspecified.",
        "noun-mtr",
        "LBL HD, ARG0 EH",
        "The rule for if (hon) – book, which is a subtype of noun-mtr, is given in (2).",
        "hon_book",
        "IN| RELS OUT RELS",
        "PRED _hon_n_rel ^ PRED _book_n_of_rel",
        "A linguistically more interesting transfer rule is that for PP – Adjective transfer (see (3)), which takes as input 3 relations (the first for the noun, the second for the postposition, and the third for the quantifier of the noun, all properly linked), and outputs one relation (for the adjective), for example of an angle – angular, to give an English-to-English example.",
        "The output adjective relation is given the same handle, index and external argument as the input postposition, so that the semantic linking with the rest of the MRS is preserved.",
        "In this way, modifiers of the PP will modify the Adjective, and so on.",
        "The use of this transfer rule is demonstrated in Section 3.1. pp-adj_mtr",
        "LBL [M], ARG0 EH",
        "LBL IhÖL ARG0 ES, ARG1 S, ARG2",
        "ARG0 EE, RSTR H HCONS/ [hARG H, LARG |M]",
        "OUT RELS",
        "LBL S ARG0 tea ARG1 S"
      ]
    },
    {
      "heading": "3. Procedure",
      "text": [
        "We are using GIZA++ (Och and Ney, 2003) and Anymalign (Lardilleux and Lepage, 2009) to generate phrase tables from a collection of four Japanese English parallel corpora and one bilingual dictionary.",
        "The corpora are the Tanaka Corpus (2,930,132 words: Tanaka (2001)), the Japanese Wordnet Corpus (3,355,984 words: Bond et al.",
        "(2010)), the Japanese Wikipedia corpus (7,949,605), and the Kyoto University Text Corpus with NICT translations (1,976,071 words: Uchimoto et al.",
        "(2004)).",
        "The dictionary is Edict, a Japanese English dictionary (3,822,642 words: Breen (2004)).",
        "The word totals include both English and Japanese words.",
        "We divided the corpora into development, test, and training data, and extracted the transfer rules from the training data.",
        "The training data of the four corpora together with the Edict dictionary form a parallel corpus of 20 million words (9.6 million English words and 10.4 million Japanese words).",
        "The Japanese text is tokenized and lemmatized with the MeCab morphological analyzer (Kudo et al., 2004), and the English text is tokenized and lemmatized with the Freeling analyzer (Padrö et al., 2010), with MWE, quantities, dates and sentence segmentation turned off.",
        "When applying GIZA++ and Anymalign to the lemmatized parallel corpus they produced phrase tables with 10,812,423 and 5,765,262 entries, respectively, running GIZA++ with the default MOSES settings and Anymalign for approximately 16 hours.",
        "We filtered out the entries with an absolute frequency of 1, and which had more than 4 words on the Japanese side or more than 3 words on the English side.",
        "This left us with 6,040,771 Moses entries and 3,435,176 Anymalign entries.",
        "We then checked against the Jacy lexicon on the Japanese side and the ERG lexicon on the English side to ensure that the source and the target could be parsed/generated by the MT system.",
        "Finally, we filtered out entries with a translation probability, P(EnglishlJapanese), of less than 0.1.",
        "This gave us 1,376,456 Moses entries and 234,123 Anymalign entries.",
        "These were all phrase table entries with a relatively high probability, containing lexical items known both to the parser and the generator.",
        "For each of these phrase table entries, we looked up the lexemes on either side in the Jacy/ERG lexicons, and represented them with the semantic predicate (and their syntactic category).",
        "Ambiguous lexemes were represented with a list of predicates.",
        "We represented each possible surface rule with a list of all possible semantic predicate rules.",
        "So a possible surface rule with two (two times) ambiguous lexical items would give four possible semantic rules, a possible surface rule with three (two times) ambiguous lexical items would give eight possible semantic rules, and so on.",
        "A total of 53,960,547 possible semantic rules were created.",
        "After filtering out semantic transfer rules containing English predicates of probability less than 0.2 compared to the most frequent predicate associated with the same surface form, this number was reduced to 26,875,672.",
        "Each of these rules consists of two ordered lists of semantic predicates (one for Japanese and one for English).",
        "From these possible semantic transfer rules, we extracted transfer rules that fitted nine different patterns.",
        "We extracted 81,690 rules from the Moses entries, and 52,344 rules from the Anymalign entries.",
        "The total number of rules extracted was 97,478.",
        "(36,556 rules overlapped.)",
        "Once the rule templates have been selected and the thresholds set, the entire process is automatic.",
        "The distribution of the extracted rules over the nine patterns is shown in Table 1.",
        "In the first three patterns, we would simply see if the predicates had the appropriate '_n_' and '_a_' infixes in them (for nouns and adjectives respectively).",
        "82,651 rules fitted these patterns and were accepted as transfer rules.",
        "The last six patterns were slightly more complex, and are described below.",
        "Japanese PPs headed by the postposition 7) no \"of\" often correspond to an adjective in English as illustrated in (4).",
        "small.size of",
        "In order to extract transfer rules that fit this pattern, we checked for possible semantic rules having two predicates on the Japanese side and one on the English side.",
        "The first Japanese predicate would have the infix '_n_' (be a noun), and the second would be '_no_p_rel' (the predicate of the postposition (7)).",
        "The sole English predicate would have the infix '_a_' (be an adjective).",
        "Japanese PPs headed by the postposition X de \"with/by/in/on/at\" are, given certain NP complements, translated into English PPs headed by the preposition 'by' (meaning 'by means of') where the prepositional object does not have a determiner, as illustrated in (5).",
        "By checking for possible semantic transfer rules fitting the pattern noun + de_p_rel on the Japanese side, and the pattern by_p_rel and noun on the English side, we created PP to PP transfer rules where, in addition to the predicates stemming from the lexical items, the English determiner was set to the empty determiner (udef_q_rel).",
        "The resulting transfer rule for (5) is illustrated in (6).",
        "pp_pp_mtr",
        "PRED _takushii_n_rel",
        "PRED _by_p_means_rel",
        "PRED udef_q_rel PRED _taxi_n_1_rel",
        "With this particular pattern we get transfer rules which prevent us from generating all possible translations of X ('with', 'by', 'on', 'in', or 'at'), and keeps the quantifier unexpressed.",
        "There are many other possible PP – PP patterns, such as fyudb \\Z start in/on/at/to \"in the beginning\".",
        "We started with one well known idiomatic English type, but should learn many more.",
        "Japanese MWEs fitting the pattern noun + object marker (£) + verb usually are translated into English MWEs fitting one out of three verb + NP patterns, illustrated in (7).",
        "In (7a), the NP has an unexpressed quantifier.",
        "The English pattern in these cases will be verb + noun.",
        "In (7b), the NP has an indefinite article.",
        "The English pattern will then be verb + _a_q_rel + noun.",
        "And in (7c), the NP has definite article.",
        "The English pattern will then be verb + _the_q_rel + noun.",
        "(7) a.",
        "-x-X £ L t.~f tenisu wo shi masu tennis acc do polite play tennis",
        "b.",
        "£f £ sLT% seikei wo tateru living acc stand up make a living seme wo ou blame acc bear take the blame",
        "By adding these rules to the transfer grammar, we avoid generating sentences such as I play the tennis and He took a blame.",
        "In addition, we are able to constrain the translations of the individual words, greatly reducing the transfer search space",
        "Japanese has a multiword expression pattern that is not found in English.",
        "In this pattern, noun + (ga) + adjective usually correspond to English adjectives, as shown in (8).",
        "The pattern is an example of a double subject construction.",
        "The Japanese adjective has its subject provided by a noun, but still takes an external subject.",
        "Our transfer rule takes this external",
        "PRED _de_p_rel",
        "PRED udef_q_rel",
        "Input",
        "Output",
        "Moses",
        "Anymalign",
        "Merged rules",
        "noun + noun",
        " – noun + noun",
        "34,691",
        "23,333",
        "38,529",
        "noun + noun",
        " – adj + noun",
        "21,129",
        "13,198",
        "23,720",
        "noun + noun",
        " – noun",
        "11,824",
        "12,864",
        "20,402",
        "PP",
        " – adj",
        "753",
        "372",
        "1,022",
        "PP",
        " – PP",
        "131",
        "24",
        "146",
        "verb + NP",
        " – verb + NP",
        "9,985",
        "1,926",
        "10,256",
        "noun + adj",
        " – adj",
        "544",
        "243",
        "566",
        "postp + noun + verb",
        " – verb",
        "1,821",
        "173",
        "1,921",
        "PP + verb",
        " – verb",
        "812",
        "211",
        "916",
        "Total",
        "81,690",
        "52,344",
        "97,478",
        "OUT RELS subject and links it to the subject of the English adjective.",
        "X ga se ga takai X ga NOM height NOM high X is tall",
        "With the new rules, the transfer grammar now correctly translates (9) as She is very intelligent.",
        "and not Her head is very good., which is the translation produced by the system without the new multiword rules.",
        "Notice the fact that the adverb modifying the adjective in Japanese is also modifying the adjective in English.",
        "kanojo wa taihen atama ga yoi .",
        "She TOPIC very head NOM good .",
        "She is very intelligent.",
        "Because of the flexibility of the rule based system, we can also parse, translate and generate many variants of this, including those where the adverb comes in the middle of the MWE, or where a different topic marker is used as in (10).",
        "We learn the translation equivalences from text n-grams, but then match them to complex patterns, thus taking advantage of the ease of processing of simple text, but still apply them flexibly, with the power of the deep grammar.",
        "kanojo mo atama ga taihen yoi .",
        "She FOCUS head NOM very good .",
        "She is also very intelligent.",
        "She is very intelligent also.",
        "Japanese has two MWE patterns consisting of a postposition, a noun, and a verb, corresponding to a verb in English.",
        "The first is associated with the postposition O no \"of\" (see (11)), and the second is associated with the postposition \\Z ni \"in/on/at/to\" (see (12)).",
        "rekishi no benkyou wo suru history of study ACC make study history kingyo ni esa wo yaru goldfish in/on/at/to feed acc give feed the goldfish",
        "In (11), the postposition O no \"of\", the noun M 3â benkyou \"study\", and the verb ~fJ suru \"make\" are translated as study, while in (12), the postposition \\Z ni \"in/on/at/to\", the noun x_ $ esa \"feed\", and the verb tJ yaru \"give\" are translated as feed.",
        "In both MWE patterns, the noun is marked with the object marker £ wo.",
        "The two patterns have different analysis: In (11), which has the no-pattern, the postposition attaches to the noun, and the object of the postposition jS^ rekishi \"history\" functions as a second subject of the verb.",
        "In (12), which has the ni-pattern, the postposition attaches to the verb, and the object of the postposition^ MM kingyo \"goldfish\" is a part of a PP.",
        "Given the different semantic representations assigned to the two MWE patterns, we have created two transfer rule types.",
        "We will have a brief look at the transfer rule type for the no translation pattern, illustrated in (13).",
        "LBL M, ARG0 event, ARG1 EE ARG2 EH",
        "ARG0 EE RSTR M",
        "LBL Ihïl, ARG0 EE ARG1 EE, ARG2 E31",
        "HCONS/ [hARG [hE LARG Ih21",
        "The input of the p+n+arg12_arg12_mtr transfer rule type consists of (i) a postposition relation, (ii) a noun relation, (iii) a quantifier (of the the noun), and (iv) a verb relation (listed as they appear on the rels list).",
        "The output relation is a verb relation.",
        "Notice that the arg 1 of the input verb relation is reentered as arg1 of the output relation (1x11), and the arg2 of the input postposition relation is reentered as arg2 of the output relation (1x21).",
        "The output relation is also given the same lbl and arg0 value as the input verb relation.",
        "In this way, the Japanese MWE is collapsed into one English relation while semantic links to the rest of the semantic representation are maintained.",
        "Out of the 26,875,672 possible semantic predicate rules, we extracted 97,478 rules that fitted one of the nine patterns.",
        "These rules were then included in the transfer grammar of the MT system."
      ]
    },
    {
      "heading": "4. Results",
      "text": [
        "The impact of the MWE transfer rules on the MT system is illustrated in Table 2.",
        "We compare two versions of the system, one with automatically extracted MWE rules and one without.",
        "They both have handwritten MWE and single word rules as well as automatically extracted single word rules extracted from Edict by Nichols et al.",
        "(2007).",
        "The additional rules in + MWE are those produced in Section 3.",
        "The system was tested on held out sections of the Tanaka Corpus (sections 003 to 005).",
        "As can be seen from the results, the overall system is still very much a research prototype, the coverage being only just over 20%.",
        "When we look only at the 105 sentences whose translations were changed by the new rules the NEVA increased from 17.1% to 21.36%.",
        "Investigating the effects on development data, we confirmed that when the new MWE rules hit, they almost always improved the translation.",
        "However, there is still a problem of data-sparseness, we are missing instances of rule-types as well as missing many potential rule types.",
        "As an example of the former, we have a pattern for verb+NP – verb+NP, but were unable to learn M^<t£M 7 jihi wo negau \"beg for mercy: lit.",
        "ask for compassion\".",
        "We had one example in the training data, and this was not enough to get over our threshold.",
        "As an example of the latter, we do not currently learn any rules for Adverb+Verb – Verb although this is a common pattern."
      ]
    },
    {
      "heading": "5. Discussion and Further Work",
      "text": [
        "The transfer rules learned here are based on cooccurrence data from corpora and a Japanese-to-English dictionary.",
        "Many of the translations learned are in fact compositional, especially for the compound noun and verb-object patterns.",
        "For example, // £ M J ana-wo horu \"dig hole\" – dig a whole would have been translated using existing rules.",
        "In this case the advantage of the MWE rule is that it reduces the search space, so the system does not have to consider less likely translations such as carve the shortages.",
        "More interestingly, many of the rules find non-compositional translations, or those where the structure cannot be translated word for word.",
        "Some of these are also idiomatic in the source and target language.",
        "One of our long term goals is to move these expressions into the source and target grammars.",
        "Currently, both Jacy and the ERG have idiom processing (based on Copestake et al., 2002), but there are few idiomatic entries in their lexicons.",
        "Bilingual data can be a good source for identifying these monolingual idioms, as it makes the non-compositionality explicit.",
        "An example of a rule that uses the current idiom machinery is the (hand-built) rule N-ga chie-wo shiboru \"N squeezes knowledge\" – N racks N's brains, where the subject is co-indexed with a possessive pronoun modifying the object: I/You rack my/your brains.",
        "Adding such expressions to the monolingual grammars simplifies the transfer rules and makes the grammars more useful for other tasks.",
        "In this paper we only presented results for nine major multi-word transfer rule types.",
        "These were those that appeared often in the training and development data.",
        "We can straightforwardly extend this in two ways: by extending the number of rule types coverage coverage coverage coverage and by extending the number of rule instances.",
        "Shirai et al.",
        "(2001) looked at examples in a 65,500-entry English-Japanese lexicon and estimated that there were at least 80 multi-word Japanese patterns that translated to a single word in English.",
        "As we are also going from multi-word to multi-word we expect that there will be even more than this.",
        "Currently, adding another pattern is roughly an hour's work(halfto make the rule-type in the transfer engine, half to make the rule matcher in the rule builder).",
        "To add another 100 patterns is thus 6 weeks work.",
        "Almost certainly this can be speeded up by sharing information between the templates.",
        "We therefore estimate that we can greatly reduce the sparseness of rule-types with four weeks work.",
        "To improve the coverage of rule instances, we need to look at more data, such as that aligned by Utiyama and Takahashi (2003).",
        "Neither absolute frequency nor estimated translation probability give reliable thresholds for determining whether rules are good or not.",
        "Currently we are investigating two solutions.",
        "One is feedback cleaning, where we investigate the impact of each new rule and discard those that degrade translation quality, following the general idea of Imamura et al.",
        "(2003).",
        "The second is the more traditional human-in-the loop: presenting each rule and a series ofrele-vant translation pairs to a human and asking them to judge if it is good or not.",
        "Ultimately, we would like to extend this approach to crowd source the decisions.",
        "There are currently two very successful online collaborative Japanese-English projects (Edict and Tatoeba, producing lexical entries and multilingual examples respectively) which indicates that there is a large pool of interested knowledgeable people.",
        "Finally, we are working in parallel to qualitatively improve the MWE rules in two ways.",
        "The first is to extend rules using semantic classes, not just words.",
        "This would mean we would need fewer rules, but each rule would be more powerful.",
        "Of course, many rules are very idiomatic and should trigger on actual lexemes, but there are many, such as ^fcfi £ M 7 himei wo negau \"beg for mercy\" which allow some variation – in this case there are at least three different verbs that are commonly used.",
        "At a lower level we need to improve our handling of orthographic variants so that a rule can match on different forms of the same word, rather than requiring several rules.",
        "We are working together with the Japanese WordNet to achieve these goals.",
        "The second approach is to learn complex rules directly from the parallel text, in a similar way to (Jellinghaus, 2007) or (Way, 1999).",
        "This will be necessary to catch rules that our templates do not include, but it is very easy to over-fit the rules to the translation data.",
        "For this reason, we are still constraining rules with templates.",
        "- MWE",
        "3614/4500",
        "1647/3614",
        "870/1647",
        "870/4500",
        "17.80",
        "0.185",
        "(0 rules)",
        "(80.3%)",
        "(45.6%)",
        "(52.8%)",
        "(19.3%)",
        "+ adj/n",
        "3614/4500",
        "1704/3614",
        "900/1704",
        "900/4500",
        "17.99",
        "0.189",
        "(83,217 rules)",
        "(80.3%)",
        "(47.1%)",
        "(52.8%)",
        "(20.0%)",
        "+ PP",
        "3614/4500",
        "1659/3614",
        "877/1659",
        "877/4500",
        "17.88",
        "0.187",
        "(1,168 rules)",
        "(80.3%)",
        "(45.9%)",
        "(52.9%)",
        "(19.5%)",
        "+ verb",
        "3614/4500",
        "1688/3614",
        "885/1688",
        "885/4500",
        "17.89",
        "0.186",
        "(13,093 rules)",
        "(80.3%)",
        "(46.7%)",
        "(52.4%)",
        "(19.7%)",
        "+ MWE",
        "3614/4500",
        "1729/3614",
        "906/1729",
        "906/4500",
        "18.18",
        "0.190",
        "(97,478 rules)",
        "(80.3%)",
        "(47.8%)",
        "(52.4%)",
        "(20.1%)",
        "Resource Availability",
        "The MWE expression rules made here and the machine translation system that uses them are available through an open source code repository.",
        "Installation details can be found at http://wiki.",
        "delph-in.net/moin/LogonInstallation.",
        "The code to make the rules is undergoing constant revision, when it settles down we intend to also add it to the repository."
      ]
    },
    {
      "heading": "6. Conclusion",
      "text": [
        "This paper presented a procedure for extracting transfer rules for multiword expressions from parallel corpora for use in a rule based Japanese-English MT system.",
        "We showed that adding the multiword rules improves translation coverage (19.3% to 20.1%) and translation quality (17.8% to 18.2% NEVA).",
        "We show how we can further improve by learning even more rules."
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "We would like to thank the members of the LOGON, and delph-in collaborations for their support and encouragement.",
        "In addition we would like to thank the developers and maintainers of the other resources we used in our project, especially JMDict, Tatoeba, Anymalign and Moses.",
        "This project was supported in part by Nanyang Technological University (through a start-up grant on \"Automatically determining meaning by comparing a text to its translation\")."
      ]
    }
  ]
}
