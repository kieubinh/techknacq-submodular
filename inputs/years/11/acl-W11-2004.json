{
  "info": {
    "authors": [
      "Mikio Nakano",
      "Shun Sato",
      "Kazunori Komatani",
      "Kyoko Matsuyama",
      "Kotaro Funakoshi",
      "Hiroshi G. Okuno"
    ],
    "book": "Proceedings of the SIGDIAL 2011 Conference",
    "id": "acl-W11-2004",
    "title": "A Two-Stage Domain Selection Framework for Extensible Multi-Domain Spoken Dialogue Systems",
    "url": "https://aclweb.org/anthology/W11-2004",
    "year": 2011
  },
  "references": [
    "acl-J99-3003",
    "acl-W06-1302",
    "acl-W06-1644",
    "acl-W08-0114"
  ],
  "sections": [
    {
      "text": [
        "A Two-Stage Domain Selection Framework for Extensible Multi-Domain",
        "Spoken Dialogue Systems",
        "Honda Research Institute Japan Wako, Saitama, Japan",
        "Kyoko Matsuyama*",
        "Kyoto University Kyoto, Kyoto, Japan",
        "Tokyo Denki University Hatoyama, Saitama, Japan",
        "Nagoya University Nagoya, Aichi, Japan",
        "This paper describes a general and effective domain selection framework for multi-domain spoken dialogue systems that employ distributed domain experts.",
        "The framework consists of two processes: deciding if the current domain continues and estimating the probabilities for selecting other domains.",
        "If the current domain does not continue, the domain with the highest activation probability is selected.",
        "Since those processes for each domain expert can be designed independently from other experts and can use a large variety of information, the framework achieves both extensibility and robustness against speech recognition errors.",
        "The results of an experiment using a corpus of dialogues between humans and a multi-domain dialogue system demonstrate the viability of the proposed framework."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "As spoken dialogue interfaces are becoming more widely utilized, they will be expected to be able to engage in dialogues in a wide variety of topics.",
        "Particularly, spoken dialogue interfaces for office robots (Asoh et al., 1999) and multimodal kiosk systems (Gustafson and Bell, 2000) are expected to deal with people's various requests, unlike automated call center systems that are dedicated to specific tasks.",
        "One effective methodology to build such a system is to integrate systems in small domains by employing distributed multi-domain system architecture.",
        "This architecture has distributed modules",
        "* Currently with Panasonic Corporation.",
        "that independently manage their own dialogue state and knowledge for speech understanding and utterance generation (e.g., Lin et al.",
        "(1999)).",
        "From an engineering viewpoint, such architecture has an advantage in that each domain expert can be designed independently and that it is easy to add new domains.",
        "It enables each domain expert to employ a dialogue strategy very different from those for other domains.",
        "For example, the strategy may be frame-based mixed-initiative, finite-state-based system-initiative, or plan-based dialogue management (McTear, 2004).",
        "One of the crucial issues with distributed multidomain spoken dialogue systems is how to select an appropriate domain for each user utterance so that the system can appropriately understand it and answer it.",
        "So far several methods have been proposed but none of them satisfy two basic requirements at the same time: the ability to be used with a variety of domain experts (extensibility) and being robust against ASR (Automatic Speech Recognition) errors (robustness).",
        "We suspect that this is one of the main reasons why not many multi-domain spoken dialogue systems have been developed even though their utility is widely recognized.",
        "This paper presents a new general framework for domain selection that satisfies the above two requirements.",
        "In our framework, each expert needs to have two additional submodules: one for estimating the probability that it is newly activated, and one for deciding domain continuation when it is already activated.",
        "Since these submodules can be designed independently from those of other experts, there is no restriction on designing experts in our framework, and thus extensibility is achieved.",
        "Robustness is also achieved because those submodules can be designed so that they can utilize domain-dependent information, including information on speech understanding and dialogue history, without detracting from extensibility.",
        "Especially the submodule for deciding domain continuation has the ability to utilize dialogue history to avoid erroneous domain shifts that often occur in previous approaches.",
        "Note that we do not focus on classifying each utterance without contextual information (e.g., Chu-Carroll and Carpenter (1999)).",
        "Rather, we try to estimate the user intention with regard to continuing and shifting domains in the course of dialogues.",
        "In what follows, Section 2 explains the distributed multi-domain spoken dialogue system architecture and requirements for domain selection.",
        "Section 3 discusses previous work, and Section 4 presents our proposed framework.",
        "Section 5 describes an example implementation and its evaluation results, and Section 6 concludes the paper."
      ]
    },
    {
      "heading": "2. Domain Selection in Multi-Domain Spoken Dialogue Systems",
      "text": [
        "In distributed multi-domain spoken dialogue architecture (Figure 1), distributed modules independently manage their own dialogue state and knowledge for speech understanding and utterance generation (Lin et al., 1999; Salonen et al., 2004; Pakucs, 2003; Nakano et al., 2008).",
        "Although those modules are referred to with various names in that literature, we call them domain experts in this paper.",
        "In this architecture, when an input utterance is received, its ASR results are sent to domain experts.",
        "They try to understand the ASR results using their own knowledge for understanding.",
        "The domain selector gathers information from those experts and decides which expert should deal with the utterance and then decide on the system utterances.",
        "In this paper, the domain expert engaging in understanding user utterances and deciding system utterances is called activated.",
        "So far many multi-domain spoken dialogue systems based on distributed architecture have been",
        "domain selector",
        "information for domain selection",
        "activate/ deactivate",
        "user utterance domain expert 2",
        "system utterance (from the activated domain expert 3",
        "built and have demonstrated their ability to engage in dialogues in a variety of domains.",
        "For example, several systems integrated information providing and database searches in multiple domains (Lin et al., 1999; Komatani et al., 2006; O'Neill et al., 2004; Gustafson and Bell, 2000).",
        "Some other systems integrated domain experts that employ very different dialogue strategies.",
        "Lee et al.",
        "(2009) and Nakano et al.",
        "(2006) integrated task-oriented and non-task-oriented dialogue managements.",
        "Nakano et al.",
        "(2008) integrated domain experts for not only dialogues but also tasks requiring physical actions.",
        "Below we explain an example system that we used to collect dialogue data for the domain selection experiment described in Section 5.",
        "It is a Japanese system that can provide information on UNESCO World Heritage Sites using speech, slides, and Microsoft Agent gestures.",
        "It employs the following ten domain experts:",
        "A question answering (QA) expert: It has a database consisting of question-answer pairs on World Heritage Sites (Narimatsu et al., 2010).",
        "Each question-answer pair consists of a set of example question sentences and answers to them.",
        "The answers consist of one or more utterances, plus slides.",
        "Keyphrase-based matching is used to select an example question that matches the input utterance.",
        "Eight interactive presentation (IP) experts: Each of them explains in detail a famous World Heritage Site and adds a detailed explanation or skips some explanation according to the user's interruptions (Nishimura et al., 2007).",
        "Patterns of interruption utterances are described in the expert's knowledge base.",
        "; unending",
        "utterance expert SI: Hello.",
        "I can answer questions about fa QA mous World Heritage Sites in Italy, Germany, Greece, and other areas.",
        "I can also explain some World Heritage Sites in detail.",
        "Please ask me anything.",
        "U1: Show me the list of the World Heritage QA Sites in Italy.",
        "S2: (show a slide of the list) I can tell you about QA the World Heritage Sites in these areas in Italy.",
        "U2: Can you show me the list of World Her QA",
        "itage Sites you can explain in detail?",
        "S3: (show a slide of the list) I can explain these QA in detail.",
        "U3: Can you explain Maritime Greenwich?",
        "RU S4: Maritime Greenwich, right?",
        "RU U4: Yes.",
        "RU S5: (show a slide on Greenwich) Okay.",
        "I'll ex IP1 plain Maritime Greenwich, a historic port town known for Greenwich Mean Time.",
        "U5: What is Greenwich Mean Time?",
        "IP1 S6: Greenwich Mean Time is the mean solar IP1 time at the Royal Greenwich Observatory.",
        "S means system utterance and U means user utterance.",
        "IP1 is one of the IP experts.",
        "A request understanding (RU) expert: It understands the user's request to start one of the interactive presentations explained above, and engages in a dialogue to confirm the request.",
        "When the understanding finishes, the understood request is sent to a module called task planner (Nakano et al., 2008; Nakano et al., 2011).",
        "The task planner then activates another expert to perform the requested presentation (S5 in Figure 2).",
        "Figure 2 shows an example dialogue between a human and this system.",
        "Note that user utterances are relatively short and include words related to specific World Heritage Sites or area names.",
        "If those words are misrecognized, domain selection is difficult unless dialogue context information is used.",
        "This figure also indicates the domain experts that understood each user utterance and selected each system utterance.",
        "The domain expert that should deal with a user utterance is decided based on the set of user utterances that the expert is designed to deal with.",
        "The domains of utterances U1 and U3 are different because the QA expert has knowledge for understanding U1 and the RU expert has knowledge for understanding U3.",
        "Thus, in this study, the domain of each utterance is determined based on the design of the experts employed in the system.",
        "If none of the experts can deal with an utterance, it is considered as an out-of-domain utterance.",
        "Sometimes the correct domain needs to be determined using contextual information.",
        "For example, utterance U4 \"Yes\" can appear in all domains, but, since this is a reply to S4, its domain is RU.",
        "This definition of domain is different from that of domain (or topic) recognition and adaptation studies in text, monologue, and human-human conversation processing, in which reference domains are annotated based on human perspectives rather than system perspectives.",
        "From a human perspective, all user utterances in Figure 2 may be in \"World Heritage Site\" domain.",
        "However, it is not always easy to build domain experts according to such domain definitions, because different dialogue tasks in one such domain may require different dialogue strategies (such as question answering and request understanding).",
        "We pursue a method for domain selection that can be used in distributed architecture.",
        "Such a method must satisfy the following two requirements.",
        "Extensibility It must not detract from the extensibility of distributed architecture, that is, any kind of expert must be able to be incorporated, and each expert must be able to be designed independently from other experts.",
        "This requires the interface between each domain expert and the domain selector to be as simple as possible.",
        "Robustness It needs to be robust against ASR errors; that is, the system needs to be able to avoid erroneous domain transition caused by ASR errors."
      ]
    },
    {
      "heading": "3. Previous Work",
      "text": [
        "So far various methods for domain selection have been proposed, but, as far as we know, no method satisfies both extensibility and robustness.",
        "Isobe et al.",
        "(2003) estimate a score for each domain from the",
        "ASR result and select the domain with the highest score (hereafter referred to as RecScore).",
        "Since each domain expert has only to output a numeric score, it satisfies extensibility.",
        "However, because this method does not take into account dialogue context, it tends to erroneously shift domains when the score of some experts becomes high by chance.",
        "For example, if U4:\"Yes\" in Figure 2 is recognized as \"Italy\" with a high recognition score in the QA expert, the domain erroneously shifts to QA and the system explains about World Heritage Sites in Italy.",
        "Thus this method is not robust.",
        "To avoid erroneous domain shifts, Lin et al.",
        "(1999) give preference to the preceding domain (the domain in which the previous system utterance was made) by adding a certain value to the score of the preceding domain (hereafter called Rec-Score+Bias ).",
        "However, to what extent the domain tends to continue varies depending on the dialogue context.",
        "For example, if a dialogue task in one domain finishes (e.g., when an IP expert finishes its presentation and says \"This is the end of the presentation.",
        "Do you have any questions?",
        "\"), the domain is likely to shift.",
        "So, adding a fixed score does not always work.",
        "O'Neill et al.",
        "'s (2004) system does not change the dialogue domain until it finishes a task in the domain, but it cannot recover from erroneous domain shifts.",
        "To achieve robustness against ASR errors, several domain selection methods based on a classifier that uses features concerning dialogue history as well as ones concerning speech understanding results have been developed (Komatani et al., 2006; Ikeda et al., 2008; Lee et al., 2009).",
        "These studies, however, use some features available only in some specific type of domain experts, such as features concerning slot-filling, so they cannot be used with other kinds of domain experts.",
        "That is, these methods do not satisfy extensibility.",
        "Methods that use classifiers based on word (and n-gram) frequencies have been developed for utterance classification (e.g., Chu-Carroll and Carpenter (1999)), topic estimation for ASR of speech corpora (e.g., Hsu and Glass (2006) and Heidel and Lee (2007)) and human-human dialogues (Lane and Kawahara, 2005).",
        "These methods can be applied to domain selection in multi-domain spoken dialogue systems.",
        "However, since they require training data in the same set of domains as the target system, it detracts from extensibility.",
        "In addition, they are not robust because they cannot utilize a variety of dialogue and understanding related features.",
        "Word frequencies are not always effective when two domains share words as in our system described in Section 2.2."
      ]
    },
    {
      "heading": "4. Proposed Framework 4.1 Basic Idea",
      "text": [
        "To achieve extensibility, we need to restrict the information that each expert sends to the domain selector to a simple one such as numeric scores.",
        "Although RecScore and RecScore+Bias satisfy this, they would not achieve high accuracy as explained above.",
        "One possible extension to those methods to improve accuracy is to use not only recognition scores but also various expert-dependent features such as ones concerning dialogue history and speech understanding.",
        "Each expert first estimates the probability that the input utterance is in its domain using such features, and then the expert with the highest probability is selected (hereafter called MaxProb).",
        "This method retains extensibility because the domain selector does not directly use those expert-dependent features.",
        "However, it suffers from the same problem as RecScore and RecScore+Bias; if one of the experts other than the preceding domain's expert outputs a high probability by mistake, the domain shifts regardless of the dialogue state in the preceding domain's expert.",
        "We focus attention on the fact that the domain does not often shift.",
        "Our idea is to decide if the domain continues or not by using information available in the preceding domain's expert.",
        "This prevents erroneous domain shifts when the utterance is considered not to change the domain.",
        "When it is decided that the currently active domain does not continue, each remaining expert estimates the probability of being newly activated using information available in the expert, and the expert whose probability is the highest is selected as the new domain expert.",
        "We further refine this idea in two ways.",
        "One is by taking into account how likely the input utterance is to activate one of the other domain experts.",
        "We propose to use the maximum value of probabilities for other experts' activation (maximum activation prob-",
        "user utterance experts for other domains",
        "select the domain with maximum activation probability handle as an out-of-domain utterance select the preceding domain",
        "ability) in the decision regarding domain continuation.",
        "Since the maximum activation probability is just a numeric score, this does not spoil extensibility.",
        "Unlike RecScore and RecScore+Bias, in our method, even if the maximum activation probability is very high, the preceding domain's expert can decide to continue or not to continue based on its internal state.",
        "This makes it possible to retain robustness.",
        "The other refinement is to explicitly deal with utterances that are not in any domains (out-of-domain (OOD) utterances).",
        "They include fillers and murmurs.",
        "They should be treated separately, because they appear context-independently.",
        "So we make the expert detect OOD utterances when deciding domain continuation.",
        "That is, it performs threefold classification, continue, not-continue, and OOD.",
        "This idea can be summarized as a domain selection framework which consists of two stages (Figure 3).",
        "It assumes that each domain expert has two submodules: activation probability estimator and a domain continuation decision maker, which use information available in the expert itself.",
        "When a new input utterance is received, at Stage 1, the activation probability estimators of all non-activated experts estimate probabilities and send them to the domain selector.",
        "Then at Stage 2, the domain selector sends their maximum value to the expert of the preceding domain and asks it to decide whether it continues to deal with the new input utterances or does not continue, or it deals with the utterance as out-of-domain.",
        "If it decides not to continue, the domain selector selects the expert that outputs the highest probability at Stage 1.",
        "The reason we use the term \"framework\" is that it does not specify the details of the algorithm and features used in each domain expert's submodules for domain selection.",
        "It rather specifies the interfaces of those submodules.",
        "Note that RecScore, RecScore+Bias, and MaxProb can be considered as one of the implementations of this framework.",
        "This framework, however, allows developers to use a wider variety of features and gives flexibility in designing those submodules."
      ]
    },
    {
      "heading": "5. Example Implementation and Evaluation",
      "text": [
        "Since the proposed framework is an extension of the previous methods, if the activation probability estimator and domain continuation decision maker for each expert are designed well and trained using enough data, it should outperform previous methods that satisfy extensibility.",
        "We believe that this theoretical consideration and an experimental result using a human-system dialogue corpus show the viability of the framework.",
        "Below we explain our implementation and an experiment.",
        "For the implementation and evaluation, we used a corpus of dialogues between human users and the World Heritage Site information system described in Section 2.2.",
        "Domain selection of this system was performed using hand-crafted rules.",
        "35 participants (17 males and 18 females) whose ages range from 19 to 57 were asked to engage in preceding domain subtotal training data A training data B test data",
        "• undoing",
        "features",
        "IP expert's domain is small.",
        "We therefore used all training utterances in the IP domains to build a common ASR language model (LM), a common activation probability estimator, and a common domain continuation decision maker for all IP experts.",
        "Hereafter we call the set of IP experts the IP expert class.",
        "The RU (Request Understanding) expert and the QA (Question Answer) expert are themselves also expert classes.",
        "conversation with the system four times.",
        "Each session lasted eight minutes.",
        "For each utterance, the correct domain or an OOD label was manually annotated.",
        "We also annotated its preceding domain, i.e., the domain in which the previous system utterance was made.",
        "It can be different from the previous user utterance's domain because of the system's erroneous domain selection.",
        "Utterances including requests in two domains at the same time should be given an OOD label but there are no such utterances.",
        "We used data from 23 participants (3,530 utterances) for training and those from the remaining 12 participants (1,865 utterances) for testing.",
        "We further split the training data into training data A (1,672 utterances) and B (1,858 utterances) to train each of the two submodules.",
        "Each training data set includes data from two sessions for each participant.",
        "Table 1 shows detailed numbers of utterances in the data sets.",
        "Among the ten experts, eight IP (Interactive Presentation) experts have the same dialogue strategy and most of the predicted user utterance patterns.",
        "In addition, the number of training utterances for each",
        "For all experts, we used the Julius speech recognizer and the acoustic model in the Japanese model repository (Kawahara et al., 2004).",
        "Features of speech understanding in each expert class are shown in Table 2. compared to the system used for data collection, LMs are enhanced based on the training data.",
        "We obtained the ASR performance on the utterances in each domain in the test data in terms of phone error rates.",
        "This is because Japanese has no standard word boundaries so it is not easy to correctly compute word error rates.",
        "The poor performance of ASR for IP is mainly due to the small amount of training utterances for LM and that for RU is mainly due to out-of-grammar utterances.",
        "For Stage 1, we used logistic regression to estimate the probability that a non-activated expert would be activated by a user utterance.",
        "Features for logistic regression include those concerning speech recognition and understanding results as well as dialogue history (see Table 5 for the full list offeatures).",
        "These features are expert-dependent.",
        "This makes it possible to estimate how the input utterance is suitable to the dialogue context more precisely than using just features available in any kind of expert.",
        "expert class",
        "QA",
        "IP",
        "ru",
        "LM for ASR",
        "trigram",
        "trigram",
        "finite-state grammar",
        "language",
        "keyphrase",
        "keyphrase",
        "finite-state",
        "understanding",
        "-based",
        "-based",
        "transducer",
        "vocabulary",
        "1,140",
        "407",
        "79",
        "size (word)",
        "phone error",
        "10.95",
        "19.47",
        "23.60",
        "rate (%)",
        "169",
        "145",
        "102",
        "59",
        "16",
        "23",
        "287",
        "227",
        "55",
        "51",
        "870",
        "888",
        "87",
        "66",
        "1,012",
        "1,005",
        "1",
        "3",
        "11",
        "18",
        "305",
        "277",
        "317",
        "298",
        "19",
        "39",
        "155",
        "183",
        "68",
        "113",
        "242",
        "335",
        "1,858",
        "1,865",
        "To train the activation probability estimators, we fitted logistic regression coefficients using Weka data mining toolkit ver.3.6.2 (Witten and Frank, 2005) and training data A.",
        "In the training for each expert class, we used utterances whose preceding domain was not that of the class because activation probabilities are estimated only for such utterances during domain selection.",
        "If the utterance is in a domain of the expert class, it is assigned an activate label and otherwise not-activate.",
        "Next, we performed feature selection to avoid overfitting.",
        "We used backward stepwise selection so that the weighted (by the sizes of activate and not-activate labels) average of the Fi scores for training set B could be maximized.",
        "Table 6 lists the remaining features and their significances in terms of the F1 score obtained when each feature is removed.",
        "Then, we duplicated the activate-labeled utterances in the training data A so that the ratio of activate-labeled utterances to not-activate-labeled utterances became 1 to 3.",
        "This is because the training data include a larger number of not-activate-labeled utterances and thus the results would be biased.",
        "The ratio was decided by trial and error so that the weighted average of the F1 scores for training data B becomes high.",
        "For Stage 2, we used multi-class support vector machines (SVMs) to decide if the activated expert should continue to be activated, should not continue, or should regard the input utterance as OOD.",
        "We used the same set of features as Stage 1 as well as the maximum activation probability obtained at Stage 1.",
        "The training data for the SVM of each expert class is the set of utterances in training data B whose preceding domain is in that expert class, because domain continuation is decided only for such utterances during domain selection.",
        "They are labeled continue, not-continue, or OOD.",
        "Next, we performed backward stepwise feature selection so that the weighted average of F1 scores for continue, not-continue, and OOD utterance detection on training data A could be maximized.",
        "Remaining features are listed in Table 7.",
        "The maximum activation probability was found to be significant in all expert classes.",
        "This suggests our two-stage framework that uses maximum activation probability is viable.",
        "Then, we duplicated utterances with not-continue label and OOD label in the training data so that the ratio of continue, not-continue, and OOD utterances became 3:1:1.",
        "This is because the number of utterances with the continue label is far greater than others.",
        "The ratio was experimentally decided by trial and error so that the weighted average of F1 scores on training data A becomes high.",
        "We compared the full implementation described in Section 5.2 (FullImpl hereafter) with the following four methods which satisfy extensibility.",
        "Note that the first three methods were mentioned in Section 4.",
        "RecScore: This chooses the expert class whose recognition score is the maximum (Isobe et al., 2003).",
        "We used the ASR acoustic score normalized by the duration of the utterance.",
        "If the IP expert class was chosen, the IP expert that had been most recently activated was chosen, because, in this system, domain shifts to other IP experts never occur due to the system constraints and the user did not try to do it.",
        "If none of the experts had a higher score than a fixed threshold, it recognized the utterance as OOD.",
        "The threshold was experimentally determined using the training data so that the weighted (by the sizes of OOD and non-OOD utterances) average of the F1 scores of OOD/non-OOD classification is maximized.",
        "RecScore+Bias: This is the same as Rec-Score except that a fixed value (bias) is added to the score used in RecScore for the expert of the preceding domain.",
        "This is basically the same as Lin et al.",
        "'s (1999) method but we use a different recognition score since the recognition score they used cannot be used in our system due to the difference of speech understanding methods.",
        "The most appropriate bias for each expert class was decided using the training data so that the weighted average of the F1 scores could be maximized.",
        "OOD detection was done in the same way as RecScore.",
        "M axProb : The activation probabilities for all experts were obtained using logistic regression and the expert whose probability was the maximum was selected.",
        "IP experts that had never been activated were excluded because they cannot be activated due to system constraint.",
        "For logistic regression, in addition to the features used in FullImpl, the previous domain was used as a feature so that domain continuity was taken into account.",
        "Feature selection was also performed.",
        "The probability that the utterance is OOD was estimated in the same way using the features concerning speech understanding.",
        "If the maximum probability of OOD detection was greater than the maximum activation probability, then the utterance was considered to be OOD.",
        "NoActivProb: This is the same as FullImpl except that Stage 2 does not use the result of Stage 1, i.e., maximum activation probability.",
        "To evaluate the domain selection, we focused on domain shifts rather than the selected domain.",
        "We classified the domain selection results into domain continuations, domain shifts, and OOD utterance detection.",
        "As the evaluation metric, we used the weighted average of F1 scores for those classes.",
        "Here the weight is the ratio of those classes of correct labels.",
        "Note that shifting to an incorrect domain is counted as a false positive when calculating precision for domain shifts.",
        "Table 3 shows the results.",
        "In addition, the confusion matrices for the three best methods are shown in Table 4.",
        "We found FullImpl outperforms the other four methods.",
        "We also found that the differences between the results of the compared methods are all statistically significant (p < .01) by two-tailed binomial tests.",
        "For reference, we also evaluated a classifier-based method that uses features from all the experts.",
        "Note that this method does not satisfy extensibility because it requires training data in the same set of domains as the target system.",
        "We evaluated this just for estimating how well our proposed method works while satisfying extensibility.",
        "It classifies each utterance into one of four categories: the QA expert's domain, the RU expert's domain, the most recently activated IP expert's domain, and OOD.",
        "If no IP expert has been activated before the utterance, threefold classification was performed.",
        "The training and test data were split depending on whether one of the IP experts has been activated before, and training and testing were separately conducted.",
        "The training data A was used for training SVM classifiers.",
        "Then feature selection was performed using the training data B.",
        "The performance of this method is shown as Classifier in Tables 3 and 4.",
        "Although this method outperforms Fulllmpl, Fulllmpl's performance is close to this method.",
        "This shows that our method does not degrade its performance very much even though it satisfies extensibility.",
        "One of the reasons why FullImpl outperforms other methods is that its precision for domain shifts is relatively higher than the other methods.",
        "This suggests it can avoid erroneous domain shifts, thus the proposed two-stage framework is more robust.",
        "RecScore+Bias performed relatively well despite it used only limited features.",
        "We guess this is because adding preferences to the preceding domain was effective since domain shifts are rare in these data.",
        "Its low F1 score for OOD utterances suggests using just recognition scores is insufficient to detect them.",
        "The comparison of Fulllmpl with NoAc-tivProb shows the effectiveness of using maximum activation probability in the second stage.",
        "The F1 score for domain shifts is low even with RecScore+Bias:",
        "method",
        "class",
        "recall",
        "prec-",
        "Fi",
        "weighted",
        "ision",
        "ave. F1",
        "RecScore",
        "cont.",
        "0.763",
        "0.867",
        "0.812",
        "shift",
        "0.559",
        "0.239",
        "0.335",
        "OOD",
        "0.501",
        "0.848",
        "0.630",
        "0.789",
        "RecScore",
        "cont.",
        "0.917",
        "0.824",
        "0.868",
        "+Bias",
        "shift",
        "0.400",
        "0.421",
        "0.410",
        "OOD",
        "0.501",
        "0.848",
        "0.630",
        "0.838",
        "MaxProb",
        "cont.",
        "0.925",
        "0.843",
        "0.882",
        "shift",
        "0.282",
        "0.264",
        "0.273",
        "OOD",
        "0.275",
        "0.477",
        "0.348",
        "0.832",
        "NoActiv",
        "cont.",
        "0.875",
        "0.890",
        "0.882",
        "Prob",
        "shift",
        "0.464",
        "0.385",
        "0.421",
        "OOD",
        "0.785",
        "0.843",
        "0.813",
        "0.849",
        "Fulllmpl",
        "cont.",
        "0.902",
        "0.907",
        "0.904",
        "shift",
        "0.591",
        "0.565",
        "0.578",
        "OOD",
        "0.824",
        "0.829",
        "0.826",
        "0.883",
        "Classifier",
        "cont.",
        "0.956",
        "0.881",
        "0.917",
        "(reference)",
        "shift",
        "0.545",
        "0.759",
        "0.635",
        "OOD",
        "0.755",
        "0.885",
        "0.815",
        "0.899",
        "Fulllmpl:",
        "Classifier (reference):",
        "FULLIMPL, although it is higher than those with other methods.",
        "One typical reason for this is that when one keyword in the ASR result of an utterance to shift the domain is also in the vocabulary of the preceding domain's expert, the selection tends to continue the previous domain by mistake.",
        "For example, an utterance \"tell me about other World Heritage Sites\" to shift from an IP domain to the QA domain is sometimes misclassified as an IP domain utterance, because \"World Heritage Sites\" is also in IP domains' vocabulary.",
        "We think this is because the training data do not include a sufficient amount of utterances that shift domains, and that a larger amount of training data would solve this problem."
      ]
    },
    {
      "heading": "6. Concluding Remarks",
      "text": [
        "This paper presented a novel general framework for domain selection in extensible multi-domain spoken dialogue systems.",
        "This framework makes it possible to build a robust domain selector because of its flexibility in exploiting features and taking into account domain continuity.",
        "An experiment with data collected with an example multi-domain system supported the viability of the proposed framework.",
        "We believe that this framework will promote the development of multi-domain spoken dialogue systems and conversational robots/agents.",
        "Among future work is to investigate how accurate the activation probability estimator and the domain continuation decision maker in each domain expert should be for achieving a reasonable accuracy in domain selection.",
        "We also plan to conduct experiments with systems that have a larger number of domain experts to verify the scalability of this framework.",
        "In addition, we will explore a way to estimate the confidence of the domain selection to reduce erroneous domain selections."
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "The authors would like to thank Hiroshi Tsujino, Yuji Hasegawa, and Hiromi Narimatsu for their support for this research.",
        "estimated result",
        "correct",
        "cont.",
        "correct shift",
        "wrong shift",
        "OOD",
        "total",
        "continue",
        "1,201",
        "-",
        "82",
        "27",
        "1,310",
        "shift",
        "115",
        "88",
        "14",
        "3",
        "220",
        "OOD",
        "142",
        "-",
        "25",
        "168",
        "335",
        "total",
        "1,458",
        "88",
        "121",
        "198",
        "1,865",
        "estimated result",
        "correct",
        "cont.",
        "correct shift",
        "wrong shift",
        "OOD",
        "total",
        "continue",
        "1,146",
        "-",
        "123",
        "41",
        "1,310",
        "shift",
        "92",
        "102",
        "18",
        "8",
        "220",
        "OOD",
        "50",
        "-",
        "22",
        "263",
        "335",
        "total",
        "1,288",
        "102",
        "163",
        "312",
        "1,865",
        "estimated result",
        "correct",
        "cont.",
        "correct",
        "wrong",
        "OOD",
        "total",
        "shift",
        "shift",
        "continue",
        "1,181",
        "-",
        "77",
        "52",
        "1,310",
        "shift",
        "70",
        "130",
        "15",
        "5",
        "220",
        "OOD",
        "51",
        "-",
        "8",
        "276",
        "335",
        "total",
        "1,302",
        "130",
        "100",
        "333",
        "1,865",
        "estimated result",
        "correct",
        "cont.",
        "correct",
        "wrong",
        "OOD",
        "total",
        "shift",
        "shift",
        "continue",
        "1,252",
        "-",
        "30",
        "28",
        "1310",
        "shift",
        "92",
        "120",
        "3",
        "5",
        "220",
        "OOD",
        "77",
        "-",
        "5",
        "253",
        "335",
        "total",
        "1,421",
        "120",
        "38",
        "286",
        "1,865",
        "expert class (Fi score obtained after feature selection)",
        "remaining features (F1 score obtained when each feature is removed)",
        "RU(0.948)",
        "Fru,r9 (0.922), Fru,h8 (0.939), Fru,r5 (0.940), Fru,r14 (0.941), Fru,r2",
        "(0.944), Fru,h9 (0.944), Fra,h5",
        "(0.944), Fru,r13 (0.945), Fru,h10 (0.945), Fru,r10 (0.946), Fru,r8",
        "(0.946), Fru,r7 (0.946)",
        "IP(0.837)",
        "Fip,r7 (0•771), Fip,r6 (0.772), Fip,h9",
        "(0.781), Fip,h7 (0.781), Fip,hn (0.786), Fip,r4 (0.79), FiPir2 (0.799),",
        "Fipir16 (0.809), Fip,r5 (0.809), Fip,r3",
        "(0.809), Fip,h4 (0.809), FiPir9 (0.814),",
        "Fip,r15 (0•833), Fip,r12 (0.834X Fip,r13",
        "(0.835), Fip,h10 (0.836)",
        "QA(0.836)",
        "Fq0,r14 (0.813), Fq0,r7 (0.817), Fga,r16 (0.817), Fgar10 (0.818), Fqa,h6 (0•820), F<ja,r6 (0•822), Fqa,r3",
        "(0.831), Fq0,r5 (0.832)",
        "expert class (F1 score obtained after feature selection)",
        "remaining features (F1 score obtained when each feature is removed)",
        "RU(0.773)",
        "Fru,r3 (0.728), Fru,a (0.737), Fru,h5 (0.743), Fru,h1 (0.751), Fru,r9 (0.754),",
        "Fru,h10 (0.757), Fru,h8 (0.757),",
        "Fru,r5 (0•758), Fru,r2 (0•759), Fru,r13 (0.762), Fru,r14 (0.763), Fra,h9 (0.767), Fru,r15 (0.768), Fru,r10",
        "(0.768), Fru,h3 (0.772)",
        "IP(0.827)",
        "Fip,h5 (0.808X Fip,r5 (0•809), Fip,r4",
        "(0.810), Fip,r6 (0.811), FiPi0 (0.812), Fip,h4 (0.812), Fipir13 (0.813), FiPih3 (0.817), Fip,r15 (0.818), Fip,r3 (0.818), FiPih10 (0.819), Fip,r12 (0.820),",
        "Fip,h7 (0•821), Fip,r11 (0•822), Fip,r10",
        "(0.822), Fip,h8 (0.822), FiPjh6 (0.822), Fip,r2 (0.824), Fipir8 (0.824), FiPih9 (0.824), Fip,h2 (0.825)",
        "QA(0.873)",
        "Fq0j0 (0.838), Fq0,r5 (0.857), Fq0jh1",
        "(0.859), Fq0,r3 (0.862), Fgo,r6 (0.865),",
        "Fgo,h8 (0.867), Fq0,r7 (0.868), Fq0jr15",
        "(0.870), Fq0,r8 (0.870), Fgo,h7 (0.870),",
        "Fqa,r12 (0.871), Fgajr2 (0.871), Fgajr16",
        "(0.871), Fq0,h4 (0.871), Fq0,h3 (0.871),",
        "Fqa,r11 (0.872), Fgajh6 (0.872), Fgajh5",
        "(0.872)"
      ]
    }
  ]
}
