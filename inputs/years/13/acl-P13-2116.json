{
  "info": {
    "authors": [
      "Vidhya Govindaraju",
      "Ce Zhang",
      "Christopher RÃ©"
    ],
    "book": "ACL",
    "id": "acl-P13-2116",
    "title": "Understanding Tables in Context Using Standard NLP Toolkits",
    "url": "https://aclweb.org/anthology/P13-2116",
    "year": 2013
  },
  "references": [
    "acl-C00-1025",
    "acl-C00-1049",
    "acl-C04-1142",
    "acl-M92-1003",
    "acl-P05-1045",
    "acl-P06-2116",
    "acl-P09-1113",
    "acl-P10-1013",
    "acl-W00-1308",
    "acl-W09-1101"
  ],
  "sections": [
    {
      "heading": "Abstract",
      "text": [
        "Tabular information in text documents contains a wealth of information, and so tables are a natural candidate for information extraction.",
        "There are many cues buried in both a table and its surrounding text that allow us to understand the meaning of the data in a table.",
        "We study how natural-language tools, such as part-of-speech tagging, dependency paths, and named-entity recognition, can be used to improve the quality of relation extraction from tables.",
        "In three domains we show that (1) a model that performs joint probabilistic inference across tabular and natural language features achieves an F1 score that is twice as high as either a pure-table or pure-text system, and (2) using only shallower features or non-joint inference results in lower quality."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "Tabular data is ubiquitous and often contains high-quality, structured relational data.",
        "Recent studies found billions of high-quality relations on the web in HTML (Cafarella et al., 2008).",
        "In financial applications, a huge amount of data is buried in the tables of corporate filings and earnings reports; in science, millions of journal articles contain billions of scientific facts in tables.",
        "Although tables describe precise, structured relations, tables are rarely written in a way that is self-describing, e.g., tables may contain abbreviations or only informal schema information; in turn, the contents of tables are often ambiguously specified, which makes extracting the relations implicit in tabular data difficult.",
        "Tables are, however, not written in isolation.",
        "The text surrounding a table in a journal article explains its contents to its intended audience, a human reader.",
        "For example, in a simple study, we demonstrate that humans can achieve more than 60% higher recall by jointly reading the text and tables in a journal article than by only looking at the tables.",
        "The conclusion of this experiment is not surprising, but it raises a question: How should a system combine tabular and natural-language features to understand tables in text?",
        "The literature provides a broad spectrum of answers to this question.",
        "Most previous approaches use textual or tabular features separately, e.g., tabular approaches that do not use text features (Dalvi et al., 2012; Wu and Lee, 2006; Pinto et al., 2003) or textual approaches that do not use tabular features (Mintz et al., 2009; Wu and Weld, 2010; Poon and Domin-gos, 2007).",
        "In a prescient study, Liu et al. (2007) proposed to learn the target relation independently from both table and surface textual features, and then combine the result using a linear combination of the predictions.",
        "In a similar spirit, we propose to use both types of features in our approach of relation extraction.",
        "Our proposed approach differs from prior approaches in two ways: (1) We use deeper?but standard?NLP features than prior approaches for table extraction.",
        "In contrast to the shallow, lexical features that prior approaches have used, we use standard NLP features, such as dependency paths, parts of speech, etc.",
        "Our hypothesis is that a deeper understanding of the text in which a table is embedded will lead to higher quality table extraction.",
        "(2) Our probabilistic model jointly uses both tabular and textual features.",
        "One advantage of a joint approach is that one can predict portions of the complicated predicate that is buried in a table.",
        "For example, in a geology journal article, we may read a measure",
        "?",
        "although some fractional crystallization must have occurred during the formation of these rocks, crystal fractionation alone cannot account for the adakitic signature of the Gangdese rocks.",
        "Considering the presence of a ~1500 km long belt of adakitic rocks, a fractionation model would require the existence of an extremely large parent magma body, the evidence for which is lacking.",
        "In fact, there is a complete absence of coeval andesitic and basaltic magmatisms in this adakite belt.",
        "Recent investigation on the crystallization history of a hydrous primitive andesite composition shows that garnet is stable in andesitic and basaltic bulk compositions only after large degrees of crystallization lead to a decrease of the Mg-number to less than 0.5, and that high Mg-number primitive melts are not garnet saturated at high pressures (M?entener et al., 2001).",
        "However, all of the adakitic porphyries from southern Tibet including those with lower Mg-number show high Dy/Yb ratios and La/Yb ratios (Gao et al., 2007a).",
        "The high Sr/Y, Dy/Yb and La/Yb ratios, low heavy REE and Y concentrations of the Gangdese adakites require an adakitic signature in the primary melt source.",
        "Overall, the adakitic rocks of different ages in the Gangdese belt display same differentiation trends (Figs.",
        "2 and 3).",
        "In both the pre-collision and post-collision groups, the abundances of MgO (Fig.",
        "3a), TiO2 (Fig.",
        "3c) and CaO (Fig.",
        "3d) decrease with increasing SiO2, whereas with few exceptions, most samples have nearly constant Al2O3 contents (Fig.",
        "3b).",
        "Whereas the MgO and SiO2 contents of the pre-collision adakite show a wide range, most of the post-collision adakites have high SiO2 and low MgO contents, and plot in the high SiO2 adakite field (Fig.",
        "2a).",
        "In the two types of adakites, the total alkaline contents (K2O+Na2O wt.%), K2O abundances and K2O/Na2O ratios show a positive correlation with SiO2, displaying the typical differentiation trend of calc-alkaline arc magmas (Fig.",
        "2).",
        "However, some of the post-collision adakitic rocks have unusually high K2O contents, yielding abnormally high total alkaline contents and K2O/ Na2O ratios.",
        "Consequently, these samples significantly depart from the overall trends (Fig.",
        "2).",
        "This suggests that the unusual K2O enrichment was not simply a result of magmatic differentiation.",
        "The two generations of adakitic rock in the Gangdese belt show many similarities in terms of distribution of trace elements with typical incompatible trace element fractionation patterns of subduction-related magmas (Fig.",
        "4).",
        "Overall, the adakites of different ages display significant positive Pb and Sr anomalies, and negative Nb, Ta and Ti anomalies (Fig.",
        "4), correlating with typical features of adakitic magmas (Martin et al., 2005).",
        "Despite their similar trace element patterns, the geochemical signatures of the rocks in different regions show some distinction.",
        "Some of the post-collision adakitic rocks from Table 1 Major and trace elements of the post-collision adakitic rocks from the Gangdese belt, southern Tibet.",
        "study.",
        "ment in a table that tells us the type of rock and its weight?but data such as the location where this rock was unearthed and in what geological time interval this rock appeared may no be specifi d in the table.",
        "We consider tasks in three domains: Petrology, Finan e, and Geology.",
        "For each domain, we build a system to extract relations from text, tables, or b t .",
        "We found that a joint inference system that uses non-shallow, but standard NLP features can significantly improv the quality of he extracted relations, and that this result holds consistently across all three domains.",
        "For example, in our Petrology application to extract a knowledge base, call PetDB1, by using information extracted from both text and tables, we can achieve twice as high F1 compared to either a pure-table or pure-text system."
      ]
    },
    {
      "heading": "2 Motivating Human Study",
      "text": [
        "We describe a simple human study that motivated our approach to jointly combine both tabular features and natural language features to extract relations from tables.",
        "The hypoth",
        "Table, and Joint approaches.",
        "NER, EL, and RE refer to named-entity recognition, entity linking, and relation extraction, respectively.",
        "esis that we want to validate is that the text surrounding a table could provide valuable information even for a human reader, and therefore, n id l achine reading system should also try to capture similar information.",
        "We asked three geoscientists to manually read journal articles nd extract relations for the Petrology domain.",
        "We report our r sults for he target relation, Sample-RockType, which associates a rock type with a rock sample (see Figure 1 for an example).",
        "We randomly sampled 21 journal articles.",
        "For each journal article, we pr duced three variants: (1) the original document; (2) table-only, which is the set of tables in the document (without the text); (3) text-only, which is the text of the document with the tables removed from the document.",
        "Each geoscien-tist was asked to read and extract the relations from one of the three variants.",
        "We then judged the precision and recall of their extraction, as shown in Figure 2.",
        "As shown in Figure 3, human readers not surprisingly achieve perfect precision on each of the variants, but lower recall on both the table-only and text-only variants.",
        "However, summing the recall of table-only (60%) and text-only (20%) variants together would achieve only 80% recall; this implies that in the best case more than 20% of the extractions require that the human reader read the table and its surrounding text jointly.",
        "Figure 1 shows one representative example.",
        "This motivates our approach, which uses a joint inference system to model features from a table and its surrounding text.",
        "We also propose to use deep linguistic features instead of shallower features to get as close as possible to the ability of human readers in understanding the surrounding text of a table."
      ]
    },
    {
      "heading": "3 Empirical Study & Experiments",
      "text": [
        "We describe our experiments to test the hypothesis that (1) deeper linguistic features can help to extract higher quality relations from tables, and (2) joint inference across tables and text improves extraction quality compared to approaches that use pure-table, pure-text, and non-joint ways of combining these two.",
        "We briefly describe some experiments for a dataset that we call Geology (Zhang et al., 2013).",
        "The detailed experimental results in all three domains are in the technical report version of this paper."
      ]
    },
    {
      "heading": "3.1 Experimental Setup",
      "text": [
        "We consider the task of constructing a geology knowledge base.",
        "Specifically, our goal is to extract a Rock-TotalOrganicCarbon relation that maps rock formations (e.g., ?Barnett Formation?)",
        "to their total organic carbon (e.g., ?6%?).",
        "Such data is important for estimating stored energy and for global climate research.",
        "Dataset.",
        "We selected 100 geology journal articles.2 We asked three geoscientists to annotate these journal articles manually to extract the Rock-TotalOrganicCarbon relation (1.5K tuples).",
        "We processed each document using Stanford CoreNLP (de Marneffe et al., 2006; Toutanova and Manning, 2000), 2We choose a set of documents that (1) are in English, and (2) contain at least one table.",
        "PDFtoHTML3, and pdf2table (Yildiz, 2004).",
        "We then extracted features following state-of-the-art practices (see Figure 4).",
        "Approaches.",
        "To validate our hypothesis, we implement four systems, each of which has access to different types of data:",
        "(1) Table.",
        "This approach follows Pinto et al.",
        "(2003) and Dalvi et al. (2012) and only uses the tables in a document.",
        "(2) Text.",
        "This approach only has access to",
        "the text in a document and contains all the features mentioned in Wu and Weld (2010) and Mintz et al. (2009).",
        "The features used in (1) and (2) are shown in Figure 4.",
        "In both Table and Text, we use a conditional random field (Lafferty et al., 2001) model for the Rock-TotalOrganicCarbon relation.",
        "(3) Merge.",
        "Using Table and Text, we extract all facts and their associated probability.",
        "Following Duin (2002), we combine these two probabilities using a linear combination.",
        "Merge is a baseline approach that uses information from both tables and text.",
        "(4) Joint.",
        "We build a joint approach that uses information from both tables and text.",
        "This approach is a large factor graph in which we embed the CRFs developed in Table and Text.",
        "Additionally, we allow Joint to predict projections of each relation, as shown in",
        "approach is that we do not need to predict all arguments of the relation (if such a prediction is unwarranted from the data).",
        "The inference is done by Gibbs sampling using our inference engine Elementary (Zhang and Re?, 2013).",
        "We describe the Joint system in more detail in the technical report version of this paper."
      ]
    },
    {
      "heading": "3.2 End-to-End Quality",
      "text": [
        "We were able to validate that Joint achieves higher quality than the other three approaches we considered.",
        "Figure 5 shows the P/R curve of different approaches on three domains.",
        "We analyzed the domain Geology.",
        "Joint dominates all other approaches.",
        "At a recall of 10%, Joint achieves 3x higher precision than all other approaches.",
        "In our error analysis, we saw that tables in geology articles often contain ambiguous words; for example,",
        "recall is limited by the quality of state-of-the-art table recognition software on PDFs.",
        "the word ?Barnett?",
        "in a table may refer to either a location or a rock formation.",
        "By using features extracted from text, Joint achieves higher precision.",
        "For recall in the range of 0?",
        "10%, Merge outperforms both Text and Table, with 3%?90% improvement in precision.",
        "In Geology, Merge has precision that is similar to Text and Table for the higher recall range (>10%).",
        "In this domain, we found that relations that appeared in the text often repeated relations described in the table.",
        "In other domains, such as Petrology, where the relations in text and tables have lower degrees of overlap, Merge significantly improves over Text and Table (Figure 5(b)).",
        "We conducted a statistical significance test to check whether the improvement of Joint over the three other approaches is statistically significant.",
        "For each of the three probability thresholds, t ?",
        "{.99, .90, .50}, we created the set of predictions that Joint assigns probability greater than t. Figure 6 shows the results of the statistical significance test in which the null hypothesis is that the F1 scores of two approaches are the same.",
        "With p = 0.01, Joint has statistically significant improvement of F1 score over all three other approaches with each probability threshold."
      ]
    },
    {
      "heading": "3.3 Shallow vs. Linguistic Features",
      "text": [
        "We validate the hypothesis that using linguistic features, e.g., part-of-speech tags (Toutanova and Manning, 2000), named-entity tags (Finkel et al., 2005), and dependency trees (de Marneffe et al., 2006), helps improve the quality of our approach, called Joint.",
        "There are different ways to use shallow and linguistic features; we select",
        "from Chinchor (1992) of F1 score with p = 0.01 on the impact of joint inference compared with pure-table or pure-text approaches for different probability thresholds.",
        "A + sign indicates that the F1 score of joint approach increased significantly.",
        "state-of-the-art approaches from the literature (see Figure 7).",
        "We created the following variants of Joint.",
        "Joint(-parse) removes features generated by the dependency parser and syntax parser.",
        "Similarly, Joint(-ner) (Joint(-pos)) removes all features related to NER (resp.",
        "POS).",
        "Joint(-pos) also removes NER and parser features because the latter two are dependent on POS features.",
        "Figure 8 shows the P/R curve for all these variants on Geology, and Figure 9 shows the results of statistical significance test.",
        "For probability threshold .90, Joint outperforms Joint(-pos) significantly.",
        "The difference between Joint, Joint(-parse),",
        "F1 score with p = 0.01 on the impact of linguistic features.",
        "For x ?",
        "y, a + indicates that the F1 score of y is significantly higher than x.",
        "0 indicates that the F1 score does not change significantly.",
        "and Joint(-ner) is not significant because there are ?easy-to-extract?",
        "facts in the high-probability range.",
        "For probability threshold .50, Joint outperforms all three other variants significantly."
      ]
    },
    {
      "heading": "4 Related Work",
      "text": [
        "The intuition that context features might help table-related tasks has existed for decades.",
        "For example, Hurst and Nasukawa (2000) mentioned (as future work) that context features could be used to further improve their relation extraction approaches from tables.",
        "Lin et al. (2010) use bag-of-words features and hyper-links to recommend new columns for web tables.",
        "Liu et al. (2007) extract features, including font size and title, from PDF documents in which a table appears to help the table ranking task.",
        "They find that these features only contribute less than 2% to precision.",
        "In contrast, in our approach linguistic features are quite useful.",
        "The above approaches use context features that can be extracted without POS tagging or linguistic parsing.",
        "One aspect of our work is to demonstrate that traditional NLP tools can enhance the quality of table extraction.",
        "Extracting information from tables has been discussed by different communities in the last decade, including NLP (Wu and Lee, 2006; Tengli et al., 2004; Chen et al., 2000), artificial intelligence (Fang et al., 2012; Pivk, 2006), information retrieval (Wei et al., 2006; Pinto et al., 2003), database (Cafarella et al., 2008), and the web (Dalvi et al., 2012).",
        "This body of work considers only features derived from tables and does not examine richer NLP features as we do.",
        "While joint inference is popular, it is not clear when a joint inference system outperforms a more traditional NLP pipeline.",
        "Recent studies have reached a variety of conclusions: in some, joint inference helps extraction quality (McCallum, 2009; Poon and Domin-gos, 2007; Singh et al., 2009); and in some, joint inference hurts extraction quality (Poon and Domingos, 2007; Eisner, 2009).",
        "Our intuition is that joint inference is helpful in this application because our joint inference approach combines non-redundant signals (textual versus tabular)."
      ]
    },
    {
      "heading": "5 Conclusion",
      "text": [
        "To improve the quality of extractions of tabular data, we use standard NLP techniques to more deeply understand the text in which a table is embedded.",
        "We validate that deeper NLP features combined with a joint probabilistic model has a statistically significant impact on quality, i.e., recall and precision.",
        "Our ongoing work is to apply these ideas to a much larger corpus from each of the three domains."
      ]
    },
    {
      "heading": "6 Acknowledgments",
      "text": [
        "We gratefully acknowledge the support of the",
        "1054009, and the Sloan Research Fellowship.",
        "Any opinions, findings, and conclusion or recommendations expressed in this material are those of the authors and do not necessarily reflect the view of DARPA, AFRL, NSF, or the US government.",
        "We are also grateful to Jude W. Shavlik for his insightful comments."
      ]
    }
  ]
}
