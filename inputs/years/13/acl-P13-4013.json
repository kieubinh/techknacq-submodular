{
  "info": {
    "authors": [
      "Thomas Mayer",
      "Christian Rohrdantz"
    ],
    "book": "ACL",
    "id": "acl-P13-4013",
    "title": "PhonMatrix: Visualizing co-occurrence constraints of sounds",
    "url": "https://aclweb.org/anthology/P13-4013",
    "year": 2013
  },
  "references": [
    "acl-W10-2110"
  ],
  "sections": [
    {
      "heading": "Abstract",
      "text": [
        "This paper describes the online tool PhonMatrix, which analyzes a word list with respect to the co-occurrence of sounds in a specified context within a word.",
        "The co-occurrence counts from the user-specified context are statistically analyzed according to a number of association measures that can be selected by the user.",
        "The statistical values then serve as the input for a matrix visualization where rows and columns represent the relevant sounds under investigation and the matrix cells indicate whether the respective ordered pair of sounds occurs more or less frequently than expected.",
        "The usefulness of the tool is demonstrated with three case studies that deal with vowel harmony and similar place avoidance patterns."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "In this paper, we introduce the PhonMatrix1 tool, which is designed to visualize co-occurrence constraints of sounds within words given a reasonably sized word list of the language.",
        "It is a web-based implementation of the visualization method proposed in (Mayer et al., 2010a), including some further development such as an interactive component and a range of association measures and sorting methods to choose from.",
        "The original motivation for this tool is to give linguists the opportunity to upload their own word lists in order to visually explore co-occurrence constraints in languages.",
        "The basic idea behind the visual component of the tool is to provide for a first, at-a-glance mode of analysis which can be used to generate hypotheses about the data by simply looking at the",
        "One of the most well-known and widespread constraints is commonly referred to as vowel harmony (van der Hulst and van de Weijer, 1995).",
        "In vowel harmony languages, vowels are separated into groups where vowels of the same group tend to co-occur within words, while vowels from different groups rarely co-occur.",
        "Likewise, in some languages there are patterns of consonant harmony (Hansson, 2010) that show a similar behavior with respect to consonants.",
        "Less common are cases of ?synharmonism?",
        "(Trubetzkoy, 1967, p. 251) where both vowels and consonants form such groups and words usually only contain sounds from the same group (e.g., only front vowels and palatalized consonants).",
        "Whereas vowel harmony patterns are easily detectable in many harmonic languages due to the harmonic alternants in affixes, other co-occurrence constraints are less obvious.",
        "This is especially true for disharmonic patterns, the most famous of which is the principle of Similar Place Avoidance (SPA) in Semitic consonantal roots (Greenberg, 1950).",
        "Recent studies have shown that this principle is not only active in Semitic languages, where it was already known by grammarians in the Middle Ages, but is a more widespread tendency among the languages of the world (Pozdniakov and Segerer, 2007; Mayer et al., 2010b).",
        "One of the reasons why statistical constraints like SPA are more difficult to detect is the fact that they exhibit many frequent counterexamples and are therefore less easily spotted as a general (albeit statistical) tendency.",
        "In our view, there are many more phonotactic constraints that wait to be discovered by linguists.",
        "With the availability of language data in electronic format such tendencies can be automatically processed and presented to the user in a form that allows for an easy exploration of the results in a short period of time.",
        "Thus a larger number of phonotactic contexts can be explored in order to",
        "find potential patterns in the data.",
        "The PhonMatrix tool is part of an ongoing effort to integrate methods and techniques from the field of visual analytics (Thomas and Cook, 2005) into linguistic research.",
        "The present tool will be gradually augmented with further functionalities in order to enhance its usefulness."
      ]
    },
    {
      "heading": "2 Related work",
      "text": [
        "A related tool that quantifies the co-occurrence of sounds in a given corpus is the Vowel Harmony Calculator (Harrison et al., 2004).",
        "The major difference between PhonMatrix and the Vowel Harmony Calculator is that the latter is restricted to the context of vowel harmony and requires the user to input the harmony classes beforehand whereas PhonMatrix is designed to detect these classes by making potential harmonic patterns more easily perceptible to the user.",
        "The Vowel Harmony Calculator quantifies the notion of vowel harmony for the input corpus by giving the percentage of harmonic words and the harmony threshold.",
        "The harmony threshold is the percentage of words that would be expected to be harmonic purely by chance.",
        "The output of the Vowel Harmony Calculator consists of a list of values (number of polysyllabic words, harmony threshold, percentage of harmonic words, harmony index, among other things) but does not give any information about the harmonic strength of individual vowel pairs.",
        "In short, the Vowel Harmony Calculator is a way to quantify the notion of harmony given the harmony classes of the language whereas PhonMatrix is intended to help detect such patterns."
      ]
    },
    {
      "heading": "3 System overview",
      "text": [
        "PhonMatrix is a web-based visualization tool that statistically analyzes sound co-occurrences within words and displays the result in a symmetric sound matrix.",
        "The statistical components are written in Python whereas the visualization part is in Javascript, using the D3 library (Bostock et al., 2011).",
        "Before discussing the individual steps of the system in more detail we will give a brief overview of the overall processing pipeline (see Figure 1).",
        "In the first step, the user has to upload the text file containing the word list that serves as the input to the analysis process.",
        "Text files have to be encoded in UTF-8 and list only one word per line.",
        "For a meaningful analysis the words should be given in some phonemic transcription (e.g., using",
        "After the file has been uploaded to the server all symbols in the word list are analyzed according to their unigram and bigram frequencies.",
        "These frequencies are used to infer an automatic distinction between vowels, consonants and infrequent symbols.",
        "Infrequent symbols are considered to be noise in the data and can be ignored for further processing.",
        "A distinction between vowels and consonants is automatically inferred from the word list by means of Sukhotin's algorithm (Sukhotin, 1962).",
        "The results of Sukhotin's algorithm are presented to the user together with the frequency counts of the individual symbols in the word list.",
        "In the third step, the user can make changes to the automatic classification of symbols into vowels and consonants and exclude infrequent symbols from further consideration.",
        "The subsequent calculations of co-occurrence values are mostly based on the distinction of input symbols into consonants (C) and vowels (V).",
        "Users can choose among a number of options that define the context for the co-occurrence calculations.3 Two of those options will be discussed in more detail in this paper (vowel co-occurrences in VCV and CC sequences).",
        "Depending on the user's choice, the co-occurrences in the selected context are calculated and analyzed with respect to a number of statistical association measures from which the user can choose one for the visualization.",
        "In the last step, the results of the statistical analysis of the co-occurrence counts are displayed in a quadratic matrix of sounds.",
        "The rows and columns of the matrix represent the individual sounds that are relevant for the selected context (e.g., vowels in the context of VCV sequences).",
        "The rows thereby stand for the first members of the relevant sound pairs, whereas the columns contain the second members.",
        "Each cell of the matrix then shows the result for the pair of sounds in the respective row and column.",
        "The final result is a visualization of the co-occurrence matrix with rows and columns sorted according to the similarity of the sound vectors and statistical values represented as colors in the matrix cells.",
        "The visualization features a number",
        "of interactive components that facilitate the detection of potential patterns in the results by the user."
      ]
    },
    {
      "heading": "4 PhonMatrix components",
      "text": [
        "PhonMatrix consists of three main components: preprocessing (including vowel-consonant distinction), statistical analysis of co-occurrence counts and visualization.",
        "In what follows, we will describe each component in more detail, with special emphasis on the visualization component."
      ]
    },
    {
      "heading": "4.1 Vowel-consonant distinction",
      "text": [
        "Most of the co-occurrence restrictions that might be of interest make reference to a distinction between vowels and consonants.",
        "Since a manual classification of all sounds in the input into vowels and consonants is a tedious task (especially with a larger number of symbols), the first component deals with an automatic inference of such a distinction.",
        "Many methods have been discussed in the literature on how to discriminate vowels from consonants on the basis of their distribution in texts.",
        "Many of them involve many lines of code and are computationally demanding.",
        "Yet there is a very simple and fast algorithm that yields reasonably good results (Sukhotin, 1962; Guy, 1991).",
        "The basic idea of Sukhotin's algorithm is that vowels and consonants have the tendency not to occur in groups within words but to alternate.",
        "Based on the additional assumption that the most frequent symbol in the text is a vowel, the algorithm iteratively selects the symbol which occurs most frequently adjacent to a vowel and determines it to be a consonant.",
        "The algorithm stops if no more consonants can be selected because no co-occurrence counts with any remaining vowel are positive.",
        "Although the algorithm is quite old and very simple, it gives reasonably good results (Goldsmith and Xanthos, 2009; Guy, 1991; Sassoon, 1992).",
        "PhonMatrix makes use of Sukhotin's algorithm as a preprocessing step to give a first guess of the class for each symbol, which the user can then modify if it turns out to be wrong.",
        "It mainly serves to speed up the classification step."
      ]
    },
    {
      "heading": "4.2 Co-occurrence statistics",
      "text": [
        "With the distinction of symbols into vowels and consonants at hand, the user can then select a relevant context for the co-occurrence counts.",
        "The relevant context can be chosen from a list of predefined options.",
        "Here we will illustrate the statistical analysis with the context of VCV sequences to investigate vowel harmony in Turkish.",
        "The input consists of 20,968 orthographic words from the Turkish New Testament.",
        "The tool automatically extracts all VCV sequences in the words and counts the co-occurrences of sounds in these sequences.",
        "The counts are then summarized in a quadratic contingency table and can be used for further statistical analyses.",
        "In our experiments, two measures turned out to be especially useful for the detection of potential patterns: the probability and ?",
        "values.",
        "The ?",
        "value is a normalized ?2 measure which allows for an easier mapping of values to the color scale because it is always between ?1 and 1.5 The ?",
        "values for",
        "the vowels in the Turkish text are shown in Table 1.",
        "Apart from probability and ?",
        "values, the user can also choose among a number of other asso",
        "ciation measures such as pointwise mutual information, likelihood ratios or t-scores (Manning and Schu?tze, 1999)."
      ]
    },
    {
      "heading": "4.3 Visualization component",
      "text": [
        "The input to the visualization component is a matrix of association measures for each sound pair in the relevant context.",
        "Two additional steps have to be performed in order to arrive at the final matrix visualization: 1) the rows and columns of the matrix have to be sorted in a meaningful way; 2) the association measures have to be mapped to visual variables.",
        "For the matrix arrangement, we decided to have the same order of symbols for the rows and columns.",
        "The order of symbols is determined by a clustering of the",
        "symbols based on the similarity of their row values.",
        "The clustering is performed with the Python scipy.cluster.hierarchy package from the SciPy library.",
        "As a default setting Ward's algorithm (Ward, 1963) is used but other clustering algorithms can also be easily integrated.",
        "Whereas the preprocessing steps and the data-driven sorting of rows and columns have been written in Python, the actual visualization of the results in the browser is implemented in Javascript using the D3 library (Bostock et al., 2011).",
        "The association measures and the order of the symbols are referenced as Javascript variables in the visualization document.",
        "The data is then automatically bound to DOM elements of the HTML document through the D3 data operator.",
        "The mapping from association measures to color values is made with the linear scale method from the d3.scale package.",
        "Scale methods map from an input domain to an output range.",
        "The input domain for the ?",
        "values is the interval [?1; 1], while the output range can be given as a color scale ranging from one color to the other.",
        "For the ?",
        "values we decided to use two unipolar scales, one from ?1 to 0 (red) and the other from 0 to +1 (blue).",
        "In order to reserve a larger color range for the densely populated area of low values we did not linearly map the numerical association measures but used the square roots of the numerical values as the input for the scale function.",
        "Additionally, the sign of the ?",
        "value, which shows whether the co-occurrence of a certain symbol pair occurs more (+) or less (?)",
        "frequently than expected, is displayed in the matrix cell.",
        "The result of the matrix visualization for the ?",
        "values of the vowels in Turkish VCV sequences is shown in Section 5.1.",
        "6The algebraic sign is displayed in white and therefore stands out more clearly with higher absolute ?",
        "values.",
        "The matrix visualization also features some interaction to explore the results in more detail.",
        "On mouse-over, the respective matrix cell shows the actual values that serve as the input for the data mapping process.",
        "Additionally, the row and column labels are highlighted in order to show more clearly which pair of symbols is currently selected (see Figure 2).",
        "The size of the matrix can also be adjusted to the user's needs with the help of a slider above the matrix.",
        "Next to the slider is a dropdown menu from which users can choose the association measure that they want to be displayed in the visualization."
      ]
    },
    {
      "heading": "5 Case studies",
      "text": [
        "After the description of the PhonMatrix system we will illustrate the usefulness of the visualization of co-occurrence patterns in sounds with three case studies.",
        "They are presented as a proof of concept that the visualization component allows for an at-a-glance exploration of potential patterns.",
        "The visualization part is thereby not considered to be a replacement of more detailed linguistic investigations but rather serves as a way to explore a multitude of different contexts and data in a comparatively short period of time.",
        "After a suspicious pattern has been detected it is indispensable to look at the actual data to see whether the visualization result is an artifact of the method or data at hand or whether the detected pattern is an interesting phonotactic feature of the language under consideration."
      ]
    },
    {
      "heading": "5.1 Turkish vowel harmony",
      "text": [
        "The first case study shows the results of the VCV sequences in Turkish described above.",
        "For this purpose the vowels a, e, i, o, u, o?, u?, ?",
        "are selected as the relevant sounds that are to be compared in",
        "sequences in the Turkish text.",
        "the visualization.",
        "Figure 2 shows the results for the ?",
        "values that have been computed from the co-occurrence counts of the symbols in VCV sequences.",
        "The arrangement of the symbols in the matrix rows and columns already show a distinction between front (the first four vowels) and back (the last four vowels) vowels, reflecting the palatal harmony in Turkish.",
        "This distinction can best be seen when looking at the e-and a-columns where the top four vowels all have positive ?",
        "values for e and negative ?",
        "values for a, whereas the bottom four vowels show the opposite behavior.",
        "On closer inspection, the labial harmony for high vowels can also be seen in the matrix visualization.",
        "From top to bottom there are always pairs of vowels that take the same harmonic vowel, starting with (o?, u?)",
        "taking u?",
        "and followed by (e, i) taking i, (o, u) taking u and finally (a, ?)",
        "taking ?.",
        "The usefulness of the visualization component to detect such patterns can best be seen when comparing Figure 2 with Table 1, which contains the same information."
      ]
    },
    {
      "heading": "5.2 Finnish vowel harmony",
      "text": [
        "The second case study shows that the harmonic patterns can also be detected in orthographic words of the Finnish Bible text.",
        "Finnish differs from Turkish in having only one type of harmony (palatal harmony) and neutral vowels, i.e., vowels that do not (directly) participate in the harmony process.",
        "As a different underlying association measure for the visualization consider the probability values in Figure 3.",
        "For probability values",
        "VCV sequences in the Finnish text.",
        "we have chosen a bipolar color scale ranging from white (for 0) over green (for 0.5) to blue (for 1).",
        "The probability matrix clearly shows the relevant blocks of vowels that mark the harmony groups.",
        "The clustering algorithm separates the back vowels (first three vowels o, a, u) from the front vowels (vowels four to six, o?, y, a?)",
        "and the neutral vowels (e, i).",
        "The blocks along the main diagonal of the matrix show the harmonic pattern among the harmony groups, whereas the neutral vowels do not display any regular behavior."
      ]
    },
    {
      "heading": "5.3 Maltese verbal roots",
      "text": [
        "PhonMatrix is not only useful to find vowel harmony patterns.",
        "The third case study shows that other co-occurrence constraints such as SPA can also be detected.",
        "To illustrate this, we show the visualization of CC patterns in a comprehensive list of Maltese verbal roots (Spagnol, 2011).",
        "The consonant matrix in Figure 4 shows two clusters, with one cluster (the first twelve consonants in the top row) containing labial and dorsal and the other cluster (the last eleven consonants) comprising only coronal consonants.",
        "The visualization also reveals that, unlike in vowel harmony, consonants from the same cluster do not occur next to each other in the CC sequences, as shown by the red blocks in the top left and bottom right.",
        "This is exactly what SPA would predict.",
        "q ?",
        "j g g?",
        "h m b w f k p n l r ?",
        "d ?",
        "z x t s ?",
        "sonant sequences in Maltese verbal roots."
      ]
    },
    {
      "heading": "6 Conclusions",
      "text": [
        "In this paper, we have presented PhonMatrix, a web-based, interactive visualization tool for investigating co-occurrence restrictions of sounds within words.",
        "The case studies of vowel harmony and SPA have shown that interesting patterns in the data can easily be seen only by looking at the matrix visualizations."
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "This work was partially funded by the DFG project ?Algorithmic corpus-based approaches to typological comparison.?",
        "We are grateful to two anonymous reviewers for their valuable comments and suggestions."
      ]
    }
  ]
}
