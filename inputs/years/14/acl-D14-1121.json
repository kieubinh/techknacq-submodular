{
  "info": {
    "authors": [
      "Maarten Sap",
      "Gregory Park",
      "Johannes Eichstaedt",
      "Margaret Kern",
      "David Stillwell",
      "Michal Kosinski",
      "Lyle Ungar",
      "Hansen Andrew Schwartz"
    ],
    "book": "EMNLP",
    "id": "acl-D14-1121",
    "title": "Developing Age and Gender Predictive Lexica over Social Media",
    "url": "https://aclweb.org/anthology/D14-1121",
    "year": 2014
  },
  "references": [
    "acl-D11-1120",
    "acl-D12-1005"
  ],
  "sections": [
    {
      "text": [
        "Proceedings of the 2014 Conference on Empirical Methods in Natural Language Processing (EMNLP), pages 1146?1151, October 25-29, 2014, Doha, Qatar.",
        "Abstract",
        "Demographic lexica have potential for widespread use in social science, economic, and business applications.",
        "We derive predictive lexica (words and weights) for age and gender using regression and classification models from word usage in Facebook, blog, and Twitter data with associated demographic labels.",
        "The lexica, made publicly available, 1 achieved state-of-the-art accuracy in language based age and gender prediction over Facebook and Twitter, and were evaluated for generalization across social media genres as well as in limited message situations."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "Use of social media has enabled the study of psychological and social questions at an unprecedented scale (Lazer et al., 2009).",
        "This allows more data-driven discovery alongside the typical hypothesis-testing social science process (Schwartz et al., 2013b).",
        "Social media may track disease rates (Paul and Dredze, 2011; Google, 2014), psychological well-being (Dodds et al., 2011; De Choudhury et al., 2013; Schwartz et al., 2013a), and a host of other behavioral, psychological and medical phenomena (Kosinski et al., 2013).",
        "Unlike traditional hypothesis-driven social science, such large-scale social media studies rarely take into account?or have access to?age and gender informa-tion, which can have a major impact on many questions.",
        "For example, females live almost five years longer than males (cdc, 2014; Marengoni et al., 2011).",
        "Men and women, on average, differ markedly in their interests and work preferences (Su et al., 2009).",
        "With age, personalities gradually change, typically becoming less open to experiences but more agreeable and conscientious (McCrae et al., 1999).",
        "Additionally, social media language varies by age (Kern et al., 2014; Pennebaker and Stone, 2003) and gender (Huffaker and Calvert, 2005).",
        "Twitter may have a male bias (Mislove et al., 2011), while social media in general skew towards being young and female (pew, 2014).",
        "Accessible tools to predict demographic variables can substantially enhance social media's utility for so-1 download at http://www.wwbp.org/data.html cial science, economic, and business applications.",
        "For example, one can post-stratify population-level results to reflect a representative sample, understand variation across age and gender groups, or produce personalized marketing, services, and sentiment recommendations; a movie may be generally disliked, except by people in a certain age group, whereas a product might be used primarily by one gender.",
        "This paper describes the creation of age and gender predictive lexica from a dataset of Facebook users who agreed to share their status updates and reported their age and gender.",
        "The lexica, in the form of words with associated weights, are derived from a penalized linear regression (for continuous valued age) and support vector classification (for binary-valued gender).",
        "In this modality, the lexica are simply a transparent and portable means for distributing predictive models based on words.",
        "We test generalization and adapt the lexica to blogs and Twitter, plus consider situations when limited messages are available.",
        "In addition to use in the computational linguistics community, we believe the lexicon format will make it easier for social scientists to leverage data-driven models where manually created lexica currently dominate 2 (Dodds et al., 2011; Tausczik and Pennebaker, 2010).",
        "2 Related Work Online behavior is representative of many aspects of a user's demographics (Pennacchiotti and Popescu, 2011; Rao et al., 2010).",
        "Many studies have used linguistic cues (such as ngrams) to determine if someone belongs to a certain age group, be it on Twitter or another social media platform (Al Zamal et al., 2012; Argamon et al., 2009; Nguyen et al., 2013; Rangel and Rosso, 2013).",
        "Gender prediction has been studied across blogs (Burger and Henderson, 2006; Goswami et al., 2009), Yahoo!",
        "search queries (Jones et al., 2007), and Twitter (Burger et al., 2011; Nguyen et al., 2013; Liu and Ruths, 2013; Rao et al., 2010).",
        "Because Twitter does not make gender or age available, such work infers gender and age by leveraging profile informa-tion, such as gender-discriminating names or crawling for links to publicly available data (e.g. Burger et al., 2 The LIWC lexicon, derived manually based on psychological theory, (Pennebaker et al., 2001) had 1136 citations in 2013 alone.",
        "1146 2011).",
        "While many studies have examined prediction of age or gender, none (to our knowledge) have released a model to the public, much less in the form of a lexicon.",
        "Additionally, most works in age prediction classify users into bins rather than predicting a continuous real-valued age as we do (exceptions: Nguyen et al., 2013; Jones et al., 2007).",
        "People have also used online media to infer other demographic-like attributes such as native language (Argamon et al., 2009), origin (Rao et al., 2010), and location (Jones et al., 2007).",
        "An approach similar to the one presented here could be used to create lexica for any of these outcomes.",
        "While lexica are not often used for demographics, data-driven lexicon creation over social media has been well studied for sentiment, in which univariate techniques (e.g. point-wise mutual information) dominate 3 .",
        "For example, Taboada et al. (2011) expanded an initial lexicon by adding on co-occurring words.",
        "More recently, Mohammad's sentiment lexicon (Mo- hammad et al., 2013) was found to be the most informative feature for the top system in the SemEval-2013 social media sentiment analysis task (Wilson et al., 2013).",
        "Approaches like point-wise mutual information take a univariate view on words?i.e.",
        "the weight given to one feature (word) is not affected by other features.",
        "Since language is highly collinear, we take a multivariate lexicon development approach, which takes covariance into account (e.g. someone who mentions ?hair?",
        "often is more likely to mention ?brushing?, ?style?, and ?cut?",
        "; weighting these words in isolation might ?double-count?",
        "some information).",
        "3 Method Primary data.",
        "Our primary dataset consists of Facebook messages from users of the MyPersonality application (Kosinski and Stillwell, 2012).",
        "Messages were posted between January 2009 and October 2011.",
        "We restrict our analysis to those Facebook users meeting certain criteria: they must indicate English as a primary language, have written at least 1,000 words in their status updates, be younger than 65 years old (data beyond this age becomes very sparse), and indicate their gender and age.",
        "This resulted in a dataset of N = 75,394 users, who wrote over 300 million words collectively.",
        "We split our sample into training and test sets.",
        "Our primary test set consists of a 1,000 randomly selected Facebook users, while the training set that we used for creating the lexica was a subset (N = 72,874) of the remaining users.",
        "Additional data To evaluate our predictive lexica in differing situations, we utilize three additional datasets: 3 Note that the point-wise information-derived sentiment lexica are often used as features in a supervised model, essentially dimensionally reducing a large set of words into positive and negative sentiment, while our lexica represent the predictive model itself.",
        "stratified Facebook data, blogs, and tweets.",
        "The stratified Facebook data (exclusively used for testing) consists of equal proportions of 1,520 males and females across 12 4-year age bins starting at 13 and ending at 60.",
        "4 This roughly matchs the size of the main test set.",
        "Seeking out-of-domain data, we downloaded age and gender annotated blogs from 2004 (Schler et al., 2006) (also used in Goswami et al., 2009) and gender labeled tweets (Volkova et al., 2013).",
        "Limiting the sample to users who wrote at least 1000 words, the total number of bloggers is 15,006, of which 50.6% are female and only 15% are over 27 (reflecting the younger population standard in social media).",
        "From this we use a randomly selected 1,000 bloggers as a blogger test set and the remaining 14,006 bloggers for training.",
        "Similarly for the Twitter dataset, we use 11,000 random gender-only annotated users, in which 51.9% are female.",
        "We again randomly select 1,000 users as a test set for gender prediction and use the remaining 10,000 for training.",
        "3.1 Lexicon Creation We present a method of weighted lexicon creation by using the coefficients from linear multivariate regression and classification models.",
        "Before delving into the creation process, consider that a weighted lexicon is often applied as the sum of all weighted word relative frequencies over a document: usage lex = ?",
        "word?lex w lex (word) ?",
        "freq(word, doc) freq(?, doc) where w lex (word) is the lexicon (lex) weight for the word, freq(word, doc) is frequency of the word in the document (or for a given user), and freq(?, doc) is the total word count for that document (or user).",
        "Further consider how one applies linear multivariate models in which the goal is to optimize feature coefficients that best fit the continuous outcome (regression) or separate two classes (classification): y = ( ?",
        "f?features w f ?",
        "x f ) + w 0 where x f is the value for a feature (f ), w f is the feature coefficient, and w 0 is the intercept (a constant fit to shift the data such that it passes through the origin).",
        "In the case of regression, y is the outcome value (e.g. age) while in classification y is used to separate classes (e.g. >= 0 is female, < 0 is male).",
        "If all features are word relative frequencies ( freq(word,doc) freq(?,doc) ) then many multivariate modeling techniques can simply be seen as learning a weighted lexicon plus an intercept 5 .",
        "4 65 females and 65 males in each of the first 11 bins: [13,16], [17,20], .",
        ".",
        ".",
        ", [53, 56]; the last bin ([57, 60]) contained 45 males and 45 females.",
        "The [61.64] bin was excluded as it was much smaller.",
        "5 included in the lexicon distribution 1147 age gender model\\corpus randFB stratFB randBG randFB stratFB randBG randT r mae r mae r mae acc acc acc acc baseline 0 6.14 0 11.62 0 6.11 .617 .500 .508 .518 FB lex .835 3.40 .801 6.94 .710 5.76 .917 .913 .774 .856 BG lex .664 4.26 .656 11.39 .768 3.63 .838 .803 .824 .834 FB+BG lex .831 3.42 .795 7.06 .762 3.76 .913 .909 .822 .858 T lex .816 .820 .763 .889 FB+BG+T lex .919 .910 .820 .900 Table 1: Prediction accuracies for age (Pearson correlation coefficient(r); mean absolute error (mae) in years) and gender (accuracy %).",
        "Baseline for age is mean age of training sample; for gender, it is the most frequent class (female).",
        "Lexica tested include those derived from Facebook (FB lex ), blogs (BG lex ), and Twitter (T lex ).",
        "We evaluate over a random Facebook sample (randFB), a stratified Facebook sample (stratFB), a random blogger sample (randBG), and a random twitter sample (randT).",
        "All results were a significant (p < 0.001) improvement over the baseline.",
        "In practice, we learn our 1gram coefficients (i.e. lexicon weights) from ridge regression (Hoerl and Ken-nard, 1970) for age (continuous variable) and from support vector classification (Fan et al., 2008) for gender (binary variable).",
        "Ridge regression uses an L2 (?||?|| 2 ) penalization to avoid overfitting (Hoerl and Kennard, 1970).",
        "Although some words no doubt have a non-linear relationship with age (e.g., ?fiance?",
        "peaks in the 20s), we still find high accuracy from a linear model (see Table 1) and it allows for a distribution of the model in the accessible form of a lexicon.",
        "For gender prediction, we use an SVM with a linear kernel with L1 penalization (?||?|| 1 ) (Tibshirani, 1996).",
        "Because the L1 penalization zeros-out many coefficients, it has the added advantage of effectively reducing the size of the lexica.",
        "Using the training data, we test a variety algorithms including the lasso, elastic net regression, and L2 penalized SVMs in order to decide which learning algorithms to use.",
        "To extract the words (1grams) to use as features and which make up lexica, we use the Happier Fun Tokenizer, 6 which handles social media content and markup such as emoticons or hashtags.",
        "For our main user-level models, word usage is aggregated as the relative frequency ( freq(word,user) freq(?,user) ).",
        "Due to the sparse and large vocabulary of social media data, we limit the 1grams to those used by at least 1% of users.",
        "4 Evaluation We evaluate our predictive lexica across held-out user data.",
        "First, we see how well lexica derived from Facebook users predict a random set of additional users.",
        "Then, we explore generalization of the models in various other settings: on a stratified Facebook test sample, blogs, and Twitter.",
        "Finally, we compare lexica fit to a restricted number of messages per user.",
        "Results of our evaluation over Facebook users are shown in Table 1 (randFB columns).",
        "Accuracies for age are reported as Pearson correlation coefficients (r) 6 downloaded from http://www.wwbp.org/data.html and mean absolute errors (mae), measured in years.",
        "For gender, we use an accuracy % (number-correct over test-size).",
        "As baselines, we use the mean for age (23.0 years old) and the most frequent class (female) for gender.",
        "We see that for both age and gender, accuracies are substantially higher than the baseline.",
        "These accuracies were just below with no significant difference previous state-of-the-art results (Schwartz et al., 2013; r = 0.84 for age and 91.9% accuracy for gender).",
        "7 Because of the nature of our datasets (the Facebook data is private) and task (user-level predictions), comparable previous studies are nearly nonexistent.",
        "Nonetheless, the Twitter data was a random subset of users based on the (Burger et al., 2011) dataset excluding non-English tweets, making it somewhat comparable.",
        "In this case, the lexica outperformed previous results for gender prediction of Twitter users, which ranged from 75.5% to 87% (Burger et al., 2011; Ciot et al., 2013; Liu and Ruths, 2013; Al Zamal et al., 2012).",
        "However, the lexica were unable to match the 92.0% accuracy Burger et al. (2011) achieved when using profile information in addition to text.",
        "No other similar studies ?",
        "to the best of our knowledge ?",
        "have been conducted.",
        "Application in other settings.",
        "While Facebook is the ideal setting to apply our lexica, we hope that they generalize to other situations.",
        "To evaluate their utility in other settings, we first tested them over a gender and age stratified Facebook sample.",
        "Our random sample, like all of Facebook, is biased toward the young; this stratified test sample contains equal numbers of males and females, ages 13 to 60.",
        "Next, we use the lexica to predict data from other domains: blogs (Schler et al., 2006) and Twitter (Volkova et al., 2013).",
        "In this case, our goal was to account for the content and stylistic variation that may be specific to Facebook.",
        "7 Adding 2 and 3-grams increases the performance of our model (r = 0.85, 92.7%), just above our previous results (Schwartz et al., 2013b).",
        "However, with the accessibility of single word lexica in mind, this current work focuses on features based entirely on 1grams.",
        "1148 # Msgs: all 100 20 5 1 age .831 .820 .688 .454 .156 gender .919 .901 .796 .635 .554 Table 2: Prediction accuracies for age (Pearson correla-tion) and gender (accuracy %) when reducing the number of messages from each user.",
        "Results over these additional datasets are shown in Table 1 (stratFB, randBG, and randT columns).",
        "The performance decreases as expected since these datasets have differing distributions, but it is still substantially above mean and most frequent class baselines on the stratified dataset.",
        "Over blogs and Twitter, both age and gender prediction accuracies drop to a greater degree (when only using the Facebook-trained models), suggesting stylistic or content differences between the domains.",
        "However, when using lexica created with data from across multiple domains, the results in Face-book, blogs, and Twitter remain in line with results from models created specifically over their respective domains.",
        "In light of this result, we release the FB+BG age & FB+BG+T gender models as lexica (available at www.wwbp.org/data.html).",
        "Limiting messages per user.",
        "As previously noted, some applications of demographic estimation require predictions over more limited messages.",
        "We explore the accuracy of user-level age and gender predictions as the number of messages per user decreases in Table 2.",
        "For these tests we used the FB+BG age & FB+BG+T gender lexica.",
        "Confirming findings by Van Durme (2012), the fewer posts one has for each user, the less accurate the gender and age predictions.",
        "Still, given the average user posted 205 messages, it seems that not all messages from a user are necessary to make a decent inference on their age and gender.",
        "Future work may explore models developed specifically for these limited situations.",
        "5 Conclusion We created publicly available lexica (words and weights) using regression and classification models over language usage in social media.",
        "Evaluation of the lexica over Facebook yielded accuracies in line with state-of-the-art age (r = 0.831) and gender (91.9% ac-curacy) prediction.",
        "By deriving the lexica from Face-book, blogs, and Twitter, we found the predictive power generalized across all three domains with little sacrifice to any one domain, suggesting the lexica may be used in additional social media domains.",
        "We also found the lexica maintain reasonable accuracy when writing samples were somewhat small (e.g. 20 messages) but other approaches may be best when dealing with more limited data.",
        "Given that manual lexica are already extensively employed in social sciences such as psychology, eco-nomics, and business, using lexical representations of data-driven models allows the utility of our models to extend beyond the borders of the field of NLP.",
        "Acknowledgement Support for this work was provided by the Templeton Religion Trust and by Martin Seligman of the University of Pennsylvania's Positive Psychology Center.",
        "References"
      ]
    }
  ]
}
