{
  "info": {
    "authors": [
      "Sonal Gupta",
      "Christopher Manning"
    ],
    "book": "Workshop on Interactive Language Learning, Visualization, and Interfaces",
    "id": "acl-W14-3106",
    "title": "SPIED: Stanford Pattern based Information Extraction and Diagnostics",
    "url": "https://aclweb.org/anthology/W14-3106",
    "year": 2014
  },
  "references": [
    "acl-C00-2136",
    "acl-C92-2082",
    "acl-W02-1028",
    "acl-W99-0613"
  ],
  "sections": [
    {
      "text": [
        "Abstract",
        "This paper aims to provide an effective interface for progressive refinement of pattern-based information extraction systems.",
        "Pattern-based information extraction (IE) systems have an advantage over machine learning based systems that patterns are easy to customize to cope with errors and are interpretable by humans.",
        "Building a pattern-based system is usually an iterative process of trying different parameters and thresholds to learn patterns and entities with high precision and recall.",
        "Since patterns are interpretable to humans, it is possible to identify sources of errors, such as patterns responsible for extracting incorrect entities and vice-versa, and correct them.",
        "However, it involves time consuming manual inspection of the extracted output.",
        "We present a light-weight tool, SPIED, to aid IE system developers in learning entities using patterns with bootstrapping, and visualizing the learned entities and patterns with explanations.",
        "SPIED is the first publicly available tool to visualize diagnostic information of multiple pattern learning systems to the best of our knowledge."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "Entity extraction using rules dominates commercial industry, mainly because rules are effective, interpretable by humans, and easy to customize to cope with errors (Chiticariu et al., 2013).",
        "Rules, which can be hand crafted or learned by a sys-tem, are commonly created by looking at the context around already known entities, such as surface word patterns (Hearst, 1992) and dependency patterns (Yangarber et al., 2000).",
        "Building a pattern-based learning system is usually a repetitive pro-cess, usually performed by the system developer, of manually examining a system's output to identify improvements or errors introduced by changing the entity or pattern extractor.",
        "Interpretabil-ity of patterns makes it easier for humans to identify sources of errors by inspecting patterns that extracted incorrect instances or instances that resulted in learning of bad patterns.",
        "Parameters range from window size of the context in surface word patterns to thresholds for learning a candidate entity.",
        "At present, there is a lack of tools helping a system developer to understand results and to improve results iteratively.",
        "Visualizing diagnostic information of a system and contrasting it with another system can make the iterative process easier and more efficient.",
        "For example, consider a user trying to decide on the context's window size in surface words patterns.",
        "And the user deliberates that part-of-speech (POS) restriction of context words might be required for a reduced window size to avoid extracting erroneous mentions.",
        "1 By comparing and contrasting extractions of two systems with different parame-ters, the user can investigate the cases in which the POS restriction is required with smaller window size, and whether the restriction causes the system to miss some correct entities.",
        "In contrast, comparing just accuracy of two systems does not allow inspecting finer details of extractions that increase or decrease accuracy and to make changes accordingly.",
        "In this paper, we present a pattern-based entity learning and diagnostics tool, SPIED.",
        "It consists of two components: 1. pattern-based entity learning using bootstrapping (SPIED-Learn), and 2. visualizing the output of one or two entity learning systems (SPIED-Viz).",
        "SPIED-Viz is independent of SPIED-Learn and can be used with any pattern-based entity learner.",
        "For demonstration, we use the output of SPIED-Learn as an input to SPIED-1 A shorter context size usually extracts entities with higher recall but lower precision.",
        "38 Viz. SPIED-Viz has pattern-centric and entity-centric views, which visualize learned patterns and entities, respectively, and the explanations for learning them.",
        "SPIED-Viz can also contrast two systems by comparing the ranks of learned entities and patterns.",
        "In this paper, as a concrete ex-ample, we learn and visualize drug-treatment (DT) entities from unlabeled patient-generated medical text, starting with seed dictionaries of entities for multiple classes.",
        "The task was proposed and further developed in Gupta and Manning (2014b) and Gupta and Manning (2014a).",
        "Our contributions in this paper are: 1. we present a novel diagnostic tool for visualization of output of multiple pattern-based entity learning systems, and 2. we release the code of an end-to-end pattern learning sys-tem, which learns entities using patterns in a bootstrapped system and visualizes its diagnostic output.",
        "The pattern learning code is available at http://nlp.stanford.edu/ software/patternslearning.shtml.",
        "The visualization code is available at http://nlp.stanford.edu/software/ patternviz.shtml.",
        "2 Learning Patterns and Entities Bootstrapped systems have been commonly used to learn entities (Riloff, 1996; Collins and Singer, 1999).",
        "SPIED-Learn is based on the system described in Gupta and Manning (2014a), which builds upon the previous bootstrapped pattern-learning work and proposed an improved measure to score patterns (Step 3 below).",
        "It learns entities for given classes from unlabeled text by bootstrapping from seed dictionaries.",
        "Patterns are learned using labeled entities, and entities are learned based on the extractions of learned patterns.",
        "The process is iteratively performed until no more patterns or entities can be learned.",
        "The following steps give a short summary of the iterative learning of entities belonging to a class DT: 1.",
        "Data labeling: The text is labeled using the class dictionaries, starting with the seed dictionaries in the first iteration.",
        "A phrase matching a dictionary phrase is labeled with the dictionary's class.",
        "2.",
        "Pattern generation: Patterns are generated using the context around the positively labeled entities to create candidate patterns for DT.",
        "3.",
        "Pattern learning: Candidate patterns are scored using a pattern scoring measure and the top ones are added to the list of learned patterns for DT.",
        "The maximum number of patterns learned is given as an input to the system by the developer.",
        "4.",
        "Entity learning: Learned patterns for the class are applied to the text to extract candidate entities.",
        "An entity scorer ranks the candidate entities and adds the top entities to DT's dictionary.",
        "The maximum number of entities learned is given as an input to the system by the developer.",
        "5.",
        "Repeat steps 1-4 for a given number of iterations.",
        "SPIED provides an option to use any of the pattern scoring measures described in (Riloff, 1996; Thelen and Riloff, 2002; Yangarber et al., 2002; Lin et al., 2003; Gupta and Manning, 2014b).",
        "A pattern is scored based on the positive, negative, and unlabeled entities it extracts.",
        "The positive and negative labels of entities are heuristically determined by the system using the dictionaries and the iterative entity learning process.",
        "The oracle labels of learned entities are not available to the learning system.",
        "Note that an entity that the system considered positive might actually be incorrect, since the seed dictionaries can be noisy and the system can learn incorrect entities in the previous iterations, and vice-versa.",
        "SPIED's entity scorer is the same as in Gupta and Manning (2014a).",
        "Each candidate entity is scored using weights of the patterns that extract it and other entity scoring measures, such as TF-IDF.",
        "Thus, learning of each entity can be explained by the learned patterns that extract it, and learning of each pattern can be explained by all the entities it extracts.",
        "3 Visualizing Diagnostic Information SPIED-Viz visualizes learned entities and patterns from one or two entity learning systems, and the diagnostic information associated with them.",
        "It optionally uses the oracle labels of learned entities to color code them, and contrast their ranks of correct/incorrect entities when comparing two systems.",
        "The oracle labels are usually determined by manually judging each learned entity as correct or incorrect.",
        "SPIED-Viz has two views: 1. a pattern-centric view that visualizes patterns of one 39 Score of the entity in this system and the other system, along with a link to search it on Google.",
        "An star sign for an entity indicates the entity label is not provided and it was not extracted by the other system.",
        "A trophy sign indicates that the entity is correct and was not extracted by the other system.",
        "List of entities learned at each iteration.",
        "Green color indicates that the entity is correct and red color indicates that the entity is incorrect.",
        "List of patterns that extracted the entity.",
        "Their details are similar to the details shown in the pattern-centric view.",
        "F i g u r e 1 : E n t i t y c e n t r i c v i e w o f S P I E D V i z .",
        "T h e i n t e r f a c e a l l o w s t h e u s e r t o d r i l l d o w n t h e r e s u l t s t o d i a g n o s e e x t r a c t i o n o f c o r r e c t a n d i n c o r r e c t e n t i t i e s , a n d c o n t r a s t t h e d e t a i l s o f t h e t w o s y s t e m s .",
        "T h e e n t i t i e s t h a t a r e n o t l e a r n e d b y t h e o t h e r s y s t e m a r e m a r k e d w i t h e i t h e r a t r o p h y ( c o r r e c t e n t i t y ) , a t h u m b s d o w n ( i n c o r r e c t e n t i t y ) , o r a s t a r i c o n ( o r a c l e l a b e l m i s s i n g ) , f o r e a s y i d e n t i fi c a t i o n .",
        "40 List of entities considered as positive, negative, and unlabeled by the system when it learned this pattern.",
        "An exclamation sign indicates that less than half of the unlabeled entities were eventually learned with correct label.",
        "Details of the pattern.",
        "Green color of entity indicates that the entity was learned by the system and the oracle assigned it the ?correct?",
        "label.",
        "List of patterns learned at each iteration.",
        "Blue pattern indicates that the pattern was not learned by the other system.",
        "F i g u r e 2 : P a t t e r n c e n t r i c v i e w o f S P I E D V i z .",
        "41 Figure 3: When the user click on the compare icon for an entity, the explanations of the entity extraction for both systems (if available) are displayed.",
        "This allows direct comparison of why the two systems learned the entity.",
        "to two systems, and 2. an entity centric view that mainly focuses on the entities learned.",
        "Figure 1 shows a screenshot of the entity-centric view of SPIED-Viz.",
        "It displays following information: Summary: A summary information of each system at each iteration and overall.",
        "It shows for each system the number of iterations, the number of patterns learned, and the number of correct and incorrect entities learned.",
        "Learned Entities with provenance: It shows ranked list of entities learned by each system, along with an explanation of why the entity was learned.",
        "The details shown include the entity's oracle label, its rank in the other sys-tem, and the learned patterns that extracted the entity.",
        "Such information can help the user to identify and inspect the patterns responsible for learning an incorrect entity.",
        "The interface also provides a link to search the entity along with any user provided keywords (such as domain of the problem) on Google.",
        "System Comparison: SPIED-Viz can be used to compare entities learned by two systems.",
        "It marks entities that are learned by one system but not by the other system, by either displaying a trophy sign (if the entity is correct), a thumbs down sign (if the entity is incorrect), or a star sign (if the oracle label is not pro-vided).",
        "The second view of SPIED-Viz is pattern-centric.",
        "Figure 2 shows a screenshot of the pattern-centric view.",
        "It displays the following information.",
        "Summary: A summary information of each system including the number of iterations and number of patterns learned at each iteration and overall.",
        "Learned Patterns with provenance: It shows ranked list of patterns along with the entities it extracts and their labels.",
        "Note that each pattern is associated with a set of positive, negative and unlabeled entities, which were used to determine its score.",
        "2 It also shows the percentage of unlabeled entities extracted by a pattern that were eventually learned by the system and assessed as correct by the oracle.",
        "A smaller percentage means that the pattern extracted many entities that were either never learned or learned but were labeled as incorrect by the oracle.",
        "Figure 3 shows an option in the entity-centric view when hovering over an entity opens a window on the side that shows the diagnostic information of the entity learned by the other system.",
        "This direct comparison is to directly contrast learning of an entity by both systems.",
        "For example, it can help the user to inspect why an entity was learned at an earlier rank than the other system.",
        "An advantage of making the learning entities component and the visualization component independent is that a developer can use any pattern scorer or entity scorer in the system without depending on the visualization component to provide that functionality.",
        "2 Note that positive, negative, and unlabeled labels are different from the oracle labels, correct and incorrect, for the learned entities.",
        "The former refer to the entity labels considered by the system when learning the pattern, and they come from the seed dictionaries and the learned entities.",
        "A positive entity considered by the system can be labeled as incorrect by the human assessor, in case the system made a mistake in labeling data, and vice-versa.",
        "42 4 System Details SPIED-Learn uses TokensRegex (Chang and Manning, 2014) to create and apply surface word patterns to text.",
        "SPIED-Viz takes details of learned entities and patterns as input in a JSON format.",
        "It uses Javascript, angular, and jquery to visualize the information in a web browser.",
        "5 Related Work Most interactive IE systems focus on annotation of text, labeling of entities, and manual writing of rules.",
        "Some annotation and labeling tools are: MITRE's Callisto 3 , Knowtator 4 , SAPIENT (Li- akata et al., 2009), brat 5 , Melita (Ciravegna et al., 2002), and XConc Suite (Kim et al., 2008).",
        "Akbik et al. (2013) interactively helps non-expert users to manually write patterns over dependency trees.",
        "GATE 6 provides the JAPE language that recognizes regular expressions over annotations.",
        "Other systems focus on reducing manual effort for developing extractors (Brauer et al., 2011; Li et al., 2011).",
        "In contrast, our tool focuses on visualizing and comparing diagnostic information associated with pattern learning systems.",
        "WizIE (Li et al., 2012) is an integrated environment for annotating text and writing pattern extractors for information extraction.",
        "It also generates regular expressions around labeled mentions and suggests patterns to users.",
        "It is most similar to our tool as it displays an explanation of the results extracted by a pattern.",
        "However, it is focused towards hand writing and selection of rules.",
        "In ad-dition, it cannot be used to directly compare two pattern learning systems.",
        "What's Wrong With My NLP?",
        "7 is a tool for jointly visualizing various natural language processing formats such as trees, graphs, and entities.",
        "It can be used alongside our system to visualize the patterns since we mainly focus on diagnostic information.",
        "6 Future Work and Conclusion We plan to add a feature for a user to provide the oracle label of a learned entity using the interface.",
        "Currently, the oracle labels are assigned offline.",
        "We also plan to extend SPIED to visualize 3 http://callisto.mitre.org 4 http://knowtator.sourceforge.net 5 http://brat.nlplab.org 6 http://gate.ac.uk 7 https://code.google.com/p/whatswrong diagnostic information of learned relations from a pattern-based relation learning system.",
        "Another avenue of future work is to evaluate SPIED-Viz by studying its users and their interactions with the system.",
        "In addition, we plan to improve the visualization by summarizing the diagnostic infor-mation, such as which parameters led to what mis-takes, to make it easier to understand for systems that extract large number of patterns and entities.",
        "In conclusion, we present a novel diagnostic tool for pattern-based entity learning that visualizes and compares output of one to two systems.",
        "It is light-weight web browser based visualization.",
        "The visualization can be used with any pattern-based entity learner.",
        "We make the code of an end-to-end system freely available for research purpose.",
        "The system learns entities and patterns using bootstrapping starting with seed dictionaries, and visualizes the diagnostic output.",
        "We hope SPIED will help other researchers and users to diagnose errors and tune parameters in their pattern-based entity learning system in an easy and efficient way.",
        "References"
      ]
    }
  ]
}
