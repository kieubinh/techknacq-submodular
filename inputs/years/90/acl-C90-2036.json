{
  "info": {
    "authors": [
      "Mark D. Kemighan",
      "Kenneth Ward Church",
      "William A. Gale"
    ],
    "book": "International Conference on Computational Linguistics",
    "id": "acl-C90-2036",
    "title": "A Spelling Correction Program Based on a Noisy Channel Model",
    "url": "https://aclweb.org/anthology/C90-2036",
    "year": 1990
  },
  "references": [],
  "sections": [
    {
      "text": [
        "Abstract words in column 1: This paper describes a new program, correct, which takes words rejected by the Unix® spell program, proposes a list of candidate corrections, and sorts them by probability.",
        "The probability scores are the novel contribution of this work.",
        "Probabilities are based on a noisy channel model.",
        "It is assumed that the typist knows what words he or she wants to type but some noise is added on the way to the keyboard (in the form of typos and spelling errors).",
        "Using a classic Bayesian argument of the kind that is popular in the speech recognition literature (Jelinek, 1985), one can often recover the intended correction, c, from a typo, t, by finding the correction c that maximizes Pr(c) Pr(t(c).",
        "The first factor, Pr(c), is a prior model of word probabilities; the second factor, Pr(tic), is a model of the noisy channel that accounts for spelling transformations on letter sequences (e.g., insertions, deletions, substitutions and reversals).",
        "Both sets of probabilities were trained on data collected from the Associated Press (AP) newswire.",
        "This text is ideally suited for this purpose since it contains a large number of typos (about two thousand per month)."
      ]
    },
    {
      "heading": "I. Introduction",
      "text": [
        "The correct program reads a list of misspelled words from the input stream (stdin) and prints a set of candidate corrections for each word on the output stream (stdout).",
        "Correct also produces a probability along with each correction (unless there is only one candidate correction).",
        "Here is some sample output produced by the Unix® command, \"spell < paper I correct,\" where paper is a text file containing the misspelled"
      ]
    },
    {
      "heading": "Corrections",
      "text": []
    },
    {
      "heading": "2. Proposing Candidate Corrections",
      "text": [
        "The first stage of correct finds words on a fixed list that differ from the typo t by a single insertion, deletion, substitution or reversal.",
        "The list was collected from many sources, including spell, the AP newswire, and several machine readable dictionaries.",
        "For example, given the input typo, acress, the first stage generates candidate corrections in the table below.",
        "Thus, the correct word actress could be transformed by the noisy channel into the typo acress by replacing the t with nothing, @, at position 2.2 This unusually difficult example was selected to illustrate the four transformations; most typo have just a few possible corrections, and there is rarely more than one plausible correction.",
        "Typo Correction Transformation acress actress t 2 deletion acress cress a # 0 insertion acress caress ac ca 0 reversal across access r c 2 substitution acress across e o 3 substitution acress acres s # 4 insertion acress acres s # 5 insertion",
        "1.",
        "???",
        "indicates that no correction was found.",
        "2.",
        "The symbols @ and # represent nulls in the typo and correction, respectively.",
        "The transformations are named",
        "from the point of view of the correction, not the typo.",
        "2 3.",
        "Scoring Each candidate correction, c, is scored by Pr(c) Pr(t I c), and then normalized by the sum of the scores for all proposed candidates.",
        "The prior, Pr(c), is estimated by (freq(c) 0.5)/N, where freq(c) is the number of times that the word c appears in the 1988 AP corpus (N = 44 million words).3",
        "The conditional probabilities, Pr (tj c), are computed from four confusion matrices (see appendix): (1) del[x,y], the number of times that the characters xy (in the correct word) were typed as x in the training set, (2), add[x,y], the number of times that x was typed as xy, (3) sub[x,y], the number of times that y was typed as x, and (4) rev[x,y], the number of times that xy was typed as yx.",
        "Probabilities are estimated from these matrices by dividing by chars[x,y] or chars[x], the number of times that xy and x appeared in the training set, respectively.4",
        "where cp is the p th character of c, and likewise tp is the pth character of t. The five matrices are computed with a bootstrapping procedure.",
        "Initially assume a uniform distribution over the possible confusions.",
        "Then run the program over the training set (1988 AP corpus) to find corrections for the words that spell rejects.",
        "Use these corrections to update the confusion matrices, and iterate.",
        "The matrices are smoothed using the Good-Turing method (Good, 1953).",
        "3.",
        "Following Box and Tiao (1973), we can assume an uninformative prior and reach a posterior distribution for p. The expectation of this distribution amounts to using r + .5 instead of r. We call this the expected likelihood estimate.",
        "See Gale and Church (1990) for a discussion of the shortcomings of this method.",
        "4.",
        "The chars matrices can be easily replicated, and are therefore omitted from the appendix.",
        "Returning to the acress example, the seven proposed transformations are scored by multiplying the prior probability (which is proportional to 0.5 + column 4 in the table below) and the channel probability (column 5) to form a raw score (column 2), which are normalized to produce probabilities (column 1).",
        "The final results are: acres (45%), actress (37%), across (18%), access (0%), caress (0%), cress (0%).",
        "This example is very hard; in fact, the second choice is probably right, as can be seen from the context: ...was called a \"stellar and versatile acress whose combination of sass and glamour has defined her....",
        "The program would need a much better prior model in order to handle this case.",
        "In the future, a program might be able to take advantage of the fact that actress is considerably more plausible than acres as an antecedent for whose."
      ]
    },
    {
      "heading": "Raw freq(c) Pr(t I c)",
      "text": [
        "actress 37% .157 1343 55./470,000 cress 0% .000 0 46./32,000,000 caress 0% .000 4 .95/580,0(X) access 0% .000 2280 .98/4,700,000 across 18% .077 8436 93./10,000,000 acres 21% .092 2879 417./13,000,000 acres 23% .098 2879 205./6,000,000"
      ]
    },
    {
      "heading": "4. Evaluation",
      "text": [
        "Many typos such as absorbant have just one candidate correction, but others such as adusted have multiple corrections.",
        "The table below shows examples of typos with less than ten candidate corrections, the corrections ordered by likelihood.",
        "Most typos have relatively few candidate corrections.",
        "The table below shows the number",
        "- 3 - of typos5 broken out by the number of corrections in seven month-long samples of the AP newswire.",
        "In March, for example, there were 720 typos with 0 corrections, 1120 typos with 1 correction, 269 with 2 corrections, etc.",
        "The final column shows that there is a general trend for fewer choices, though the 0-choice case is special.",
        "(The system was trained on the AP wire from 2/88 - 2/89; the results below were computed from AP wire during 3/89 - 9/89)."
      ]
    },
    {
      "heading": "March April May June July Aug Sept Total",
      "text": [
        "We decided to look at the 2-candidate case in more detail in order to test how often the top scoring candidate agreed with a panel of three judges.",
        "The judges were given 564 triples and a few concordance lines: absurb absorb absurd financial community .",
        "*S* \" It is absurb and probably obscene for any person so engaged to and The first word of the triple was a spell reject; the other two were the candidates (in alphabetical order).",
        "The judges were given a 5-way forced choice.",
        "They could circle any one of the three words, if they thought that was what the author had intended.",
        "Alternatively, if they thought that the author had intended something else, they could write down \"other\".",
        "Finally, if they weren't sure, they could write \"7\".",
        "The distribution of responses is shown in the following table.",
        "5.",
        "For the purposes of this experiment, a typo is a lowercase word rejected by the Unix® spell program.",
        "The results show that spell is rejecting too many words, since choice 0 (spell error) is selected about 20% of the time.",
        "In these cases, correct was given a non-problem to correct: acquirees acquirers acquires he acquirers , as they have been , than acquirees .",
        "*E* *S* If the industrials had attracted bids th Since we were mostly concerned with evaluating the scoring function, we didn't want to be distracted with errors in spell and other problems that are beyond the scope of this paper.",
        "Therefore, we decided to consider only those cases where at least two judges circled one of the two candidates, and they agreed with each other.",
        "This left 329 triples.",
        "The following table shows that correct agrees with the majority of the judges in 87% of the 329 cases of interest.",
        "In order to help calibrate this result, three inferior methods are also evaluated.",
        "The no-prior method ignores the prior probability.",
        "The no-channel method ignores the channel probability.",
        "Finally, the neither method ignores both probabilities and selects the first candidate in all cases.",
        "As the following table shows, correct is significantly better than the three inferior alternatives.",
        "Both the channel and the prior probabilities provide a significant contribution, and the combination is significantly better than either in isolation.",
        "The second half of the table evaluates the judges against one another and shows that they significantly outperform correct, indicating that there is plenty of room for further itnprovement.6 All three judges found the task more difficult and time consuming than they had expected.",
        "We were also interested in testing whether the score predicted accuracy.",
        "The figure at the end of this paper shows that this is indeed so.",
        "The horizontal axis shows the score from one of the three predictors (as the lines are lableled) averaged over a group of 20 typos.",
        "The vertical axis shows the fraction of this group that were right.",
        "The diagonal line indicates perfection.",
        "For example, consider a group of typos whose average score was .8.",
        "Perfect accuracy would be achieved if exactly 80 percent of this group agreed with the majority opinion of the judges.",
        "The curved lines above and below the perfection line show one standard deviation limits for estimating probabilities from samples of 20.",
        "The observations on correct are outside of the one standard deviation limits about as much as would be called for by chance, while each of the other two methods has more points outside than would result just by chance.",
        "We conclude that the scores from correct predict accuracy fairly well; scores from the other two methods are more problematic."
      ]
    },
    {
      "heading": "5. Conclusions",
      "text": [
        "There have been a number of spelling correction programs in the past such as Kucera (1988) that generated a list of candidates by looking for insertions, deletions, substitutions and reversals, much as we have been doing here.",
        "Our contribution is the emphasis on scoring.",
        "Mcllroy, the author of the Unix spell program (1982), intentionally focused on the spelling detection problem, and argued (private communication) that spelling correction was a bad idea so long as the corrector couldn't separate the plausible candidates from the implausible ones.",
        "He felt that it was probably more distracting than helpful to bury the user under a long list of mostly implausible candidates.",
        "In this work, we have attempted to show that it is possible to sort the candidates by with human judges to be helpful.",
        "In future work, we would hope to extend the prior model to take advantage of context.",
        "We noticed that the human judges were extremely reluctant to cast a vote given only the information available to the program, and that they were much more comfortable when they could see a concordance line or two.",
        "Perhaps our program could take advantage of these contextual cues by adopting very simple language modeling techniques such as trigrams, that have proven effective for speech recognition applications (Jelinek, 1985).",
        "Hopefully more interesting language models would improve performance even more."
      ]
    },
    {
      "heading": "References",
      "text": [
        "Box, G. E. P., and G. C. Tiao, 1973 Bayesian Inference in Statistical Analysis, Addison-Wesley, Reading, Massachusetts.",
        "Gale, W., Church, K., (1990, submitted), \"What's Wrong with Adding One?\" Good, (1953), \"The population frequencies of species and the estimation of population parameters,\" Biotnetrika, v. 40, pp.",
        "237-264.",
        "Jelinek, F. (1985) \"Self-organized Language Modeling for Speech Recognition,\" IBM Report.",
        "Kucera, H., (1988), \"Automated Word Substitution Using Numerical Rankings of Structural Disparity Between Misspelled Words & Candidate Substitution Words,\" Patent Number: 4,783,758.",
        "Mcllroy, M., (1982), \"Development of a Spelling List,\" IEEE Transactions on Communications, Vol.",
        "COM-30, No.",
        "1."
      ]
    },
    {
      "heading": "Accuracy of Probabilities",
      "text": [
        "0.5 0.6 0.7 0.8 0.9 1.0 predicted probability",
        "2 2 1 0 1 0 0 2 0 0 1 0 0 0 0 7 0 6 3 3 1 0 0 0 0 0 0 0 0 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 9 0 0 0 0 0 0 0 0 0 2 0 15 0 1 7 15 0 0 0 2 0 6 1 0 7 36 8 5 0 0 1 0 0 0 0 0 7 0 0 0 0 0 0 0 7 5 0 0 0 0 221 3 0 0 0 0 3 0 abcde f ghijk tuvwxyz rev[X, Y] = Reversal of XY Y lmnopqrs 0 0 2 1 1 0 0 0 19 0 1 14 425 10 3 027 3 5 31 0 0 0 0 0 0 0 0 0 2 0 0 0 0 0 0 1 1 0 2 0 0 0 2 0 0 0 0 0 0 0 0 0 0 0 1 0 0 1 85 0 0 15 0 0 13 0 0 0 3 0 7 000 0 0 0 0 0 0 0 0 0 0 7 0 0 0 0 0 0 0 0 1 0 0 2 0 0 0 0 0 1 0 4 5 0 0 0 0 60 0 0 21 6 16 11 2 0 29 5 0 85 0 0 0 2 0 0 0 0 0 0 0 0 0 12 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 4 0 0 0 2 0 0 0 0 0 0 1 0 15 0 0 0 3 0 0 3 0 0 0 0 0 12 0 0 0 15 0 0 0 0 0 0 0 0 0 0 0 0 0 0 10 0 0 0 0 0 0 15 8 31 366 1 3 0 0 0 0 9 0 5 11 0 1 13 42 35 0 6 0 0 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 00 0 0 0 0 0 0 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 11 0 012 20 0 1 0 4 0 0 0 0 0 1 3 0 0 1 1 3 9 0 0 7 0 9 00 0 20 0 0 0 0 0 0 0 0 20 0 0 0 0 0 4 0 0 0 0 0 15 0 6 2 12 0 8 0 1 0 0 0 3 0 0 0 0 0 6 4 0 0 0 0 0 0 5 0 2 0 4 0 0 0 5 0 0 1 0 5 0 1 011 1 1 0 0 7 1 0 0 17 0 0 0 4 0 0 1 0 0 0 0 0 0 1 0 0 5 3 6 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 12 0 0 0 24 0 3 0 14 0 2 2 0 7 30 1 0 0 0 2 10 0 0 0 2 0 4 0 0 0 9 0 0 5 15 0 0 5 2 0 1 22 0 0 0 1 3 0 0 0 16 0 4 0 3 0 4 0 0 21 49 0 0 4 0 0 3 0 0 5 0 0 11 0 2 0 0 0 22 0 5 1 1 0 2 0 2 0 0 2 I 0 20 2 0 11 11 2 0 0 0 0 0 0 0 0 0 0 I 0 0 0 4 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 4 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 8 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 2 0 0 0 1 0 0 0 0 3 0 0 0 2 0 1 10 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0"
      ]
    }
  ]
}
