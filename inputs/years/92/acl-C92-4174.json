{
  "info": {
    "authors": [
      "Wilhelm Weisweber",
      "Susanne Preuß"
    ],
    "book": "International Conference on Computational Linguistics",
    "id": "acl-C92-4174",
    "title": "Direct Parsing With Metarules",
    "url": "https://aclweb.org/anthology/C92-4174",
    "year": 1992
  },
  "references": [
    "acl-C86-1010",
    "acl-C88-1017",
    "acl-C92-2116"
  ],
  "sections": [
    {
      "heading": "Abstract",
      "text": [
        "In this paper we argue for the direct application of metarules in the parsing process and introduce a slight restriction on inemrules.",
        "This restriction relies on theoretical results about the termination of term-rewrite systems and does not reduce the expressive power of metarules as much as previous restrictions.",
        "We prove the termination for a set of =mules used in our German grammar and show how metarules call be integrated into the parser."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "The metarules within the theory of Generalized Phrase Structure Grammar (GPSG) are a very interesting device to express generalizations on a basic set of immediate dominance (ID) rules.",
        "A short introduction to the theory of metarules is given in the following section.",
        "Metarules are used to generate an object grammar from a set of basic ID rules.",
        "One of the first discussions about the application tune of metarulcs within the GPSG theory, which has strongly influenced the succeeding research in this field, has been published by [Thompson 821.",
        "In his article Thompson argued for applying the metarules all at once in a preprocessing step (compile-time application).",
        "However, our parser applies the metarulcs during the parsing process (run-time application or direct application).",
        "A discussion why we prefer the direct application is given in section 3.",
        "No matter when the metarules are applied to the basic set of ID rules, we have to care for the termination of the recursive application of metarules.",
        "[Thompson 82] made a proposal to guarantee termination by the definition of a Finite Closure (PC).",
        "This approach restricts the application of metarulcs such that one metarule can only be applied once in the derivation of an ID rule and prevents it from recursive application.",
        "This restriction has been taken over by the authors of [Gazdar et al.",
        "85] and they gave a further restriction.",
        "They restricted the application of metarules to lexical ID rules, even though they knew that this restriction may prove to be incompatible with the descriptive power needed for natural language grammars (p. 59).",
        "But we think that there is no need to restrict the application of metarules only to lexical ID rules, even if there are proposals to eliminate the use of metarules and to use lexical rules like in LEG and HPSG (see [Jacobson 87]).",
        "But to do so with GPSG would involve crucial changes to the theory, and therefore we preserved the metarule component in our machine translation (MT) system and tried to find an adequate criterion for the termination of metarules.",
        "In our approach the grammar writer is free to decide whether a metarule is to be applied to lexical ID rules or to another type of rule.",
        "The Finite Closure (FC) is too restricive, because in some cases (see the examples of IUszkoreit 87] and [Gazdar et al.",
        "851 in die sections 3 and 4, respectively) recursive application is needed.",
        "In section 4 we present an alternative constraint on the basis of results in the field of term-rewriting.",
        "'Phis constraint is less restrictive than the FC.",
        "It allows for the definition of recursive metarules which may be applied freely and guarantees the termination.",
        "In section 5 the metarules of the German GPSG grammar used in our MT system are outlined and, with die help of the constraint in section 4, we show that their application is terminating.",
        "In section 6 we give all outline of how to modify the parsing process in a way that metarules can be applied directly rather than at compile-time.",
        "In the last section we draw some conclusions for future work in this field."
      ]
    },
    {
      "heading": "2 Metarules in GPSG",
      "text": [
        "Metarules are one of the most criticized devices of the GPSG formalism.",
        "GPSG is a grammar formalism that states most of its generalizations on the level of local trees.",
        "Metarules were introduced to capture generalizations on the set of ID rules.",
        "An ID rule states the dominance relation between the mother category and a multiset of (laughter categories in a local tree without fixing die linear precedence relation of the daughters.",
        "ID rules have the following format: Co ---> C1, C2, ..., C„ Metarules define a relation on ID rules.",
        "They have the following format: 'input II) rule scheme' 'output ID rule scheme' and can be read as: If the set of ID rules contains an ID rule which is matched by 'input ID rule scheme', then it also contains an II) rule that matches 'output ID rule scheme', where the feature specifications of die input ID ode are carried over to the output ID rule if not specified otherwise by the metarule.",
        "For example the =tank VP[-PAS] W, NP[acc] VP[+PAS] W, (PPIby]) states the connection between active and passive, where W is a variable ranging over a (possibly empty) multiset of categories.",
        "The major point of criticism against mentrules is that they increase the generative power of GPSG in an undesirable way when they are recursively applicable, because this may lead to an infinite set of ID rules.",
        "The resulting grammar need not be context free.",
        "In order to remedy the situation, suggestions of varying radicality were made.",
        "'the proposal of [Thompson 82] and [Gazdar et al.",
        "85], which tries to maintain metarules, was simply to apply a metarule at most once in the generation of an ID rule.",
        "This stipulation is somewhat strange, because it allows for recursive tnetarules mid just prevents them from being applied recursively.",
        "IKilbury 861 suggested to eliminate metarules by using category cooccurrence restrictions.",
        "The most radical proposal was to dispense with metarules.",
        "But our aim was to stay within the framework of GPSG, and it would be a loss to dispense with metarules, because GPSG formulates for example valency of verbs and other constituents on the level of ID rules and metarules are the means to capture generalisations on that level.",
        "For this reason we formalize the properties of metarules that tenninate recursive application and state Arise DE COLING-92, NivrEs, 2128 Aof,'T 1992 t 1 1 1 01.",
        "COLING-92, NAN ITS, Auci.",
        "23-28, 1992 them as a condition that a set of metantles must fulfil.",
        "Metarules can then be applied freely."
      ]
    },
    {
      "heading": "3 Application time",
      "text": [
        "There are two possibilities for the time to apply the metarules.",
        "The first is to compile the basic set of ID rules (compile-time application) in a preprocessing step.",
        "Thompson calls it all-at-once approach.",
        "The other possibility is to apply the metarules during the parsing process (run-lime application or direct application), which Thompson calls as-needed approach.",
        "Thompson argued for the compile-time application because the direct application of metarules has the following disadvantages (sec [Thompson 82]: p.5):",
        "(1) If a metarule can be applied to an ID rule during the parsing process, the metarule has to be applied again when the same ID rule is involved in the same or a subsequent parse.",
        "(2) To store the structures generated by ID rules which are the result of the application of a metarule is just another instance of the compile-time application.",
        "(3) Derivations of ID rules of length greater than one, i.e. ID rules which are the results of applying more than one metarule to one basic ID rule, will rapidly expand the search space.",
        "In order to look a little bit closer to 'Thompson's arguments and to stay on his line, we presuppose that a kind of top-down parsing method is used and there are n basic ID rules and m ID rules, generated by the application of the metarules.",
        "When looking to argument (1), we see that it is an argument for the runtime approach.",
        "If the metarules are applied at compile-time a huge set of ID rules is compiled front the basic set.",
        "For example if we would apply the metarules of our MT system (see section 5) to our basic set of 80 ID rules at compile-time, we would get about 240 II) rules in the object grammar.",
        "Let us assume that some category C has to be expanded and there arc i ID rules in our grammar with mother category C. In the compile-time approach the parser would have to check (n+m)/n*i ID rules on average, whereas in the runtime approach i ID rules and (n+m)/n metarules ((n+m)/n+i rules) have to be checked for application to these ID rules.",
        "In the normal case that are less than in the compile-time approach.",
        "Argument (2) is indeed an argument for the runtime approach.",
        "Let us again consider the above example and each of the i ID rules has d daughters on average.",
        "If the category C is expanded according to all ID rules, in the worst case (n+m)/n*d*i (partial) structures have to be stored on average in the compile-time approach.",
        "These structures arc very similar, because in general the metarules modify the ID rules slightly.",
        "The runtime approach can make use of this fact and stores only approximately d*i (partial) structures and additionally (n+m)/n*i structures after the application of the metarules.",
        "That makes ((n+m)/n+d)*i structures to be stored in the runtime approach.",
        "The common parts of the ID rules generated by metarules need not to be stored, that are (n+m)/n*(d-1)*i-d*i partial structures less.",
        "For example if n = 80, m = 160, d = 3 and i = 10 then this would mean that on average 30 partial structures less have to be stored for the corresponding constituent.",
        "Concerning argument (3), [Barton et al.",
        "87]: p.226 showed that the computation of the Finite Closure (FC) of a GPSG G with x Ill rules and y metarules can increase, the number of the ID rules worse than exponentially, namely from x to more than x2Y, i.e. there is no difference between the compile-time and runtime approach.",
        "In order to sum up this discussion, we can say that there is no difference in complexity between the com-plile-time and die rim-time approach with respect to the arguments in [lhompson 82].",
        "The direct approach is even preferable to the complile time approach when looking at the arguments (1) and (2), which are indeed arguments for direct application of metarules.",
        "There is another argument for direct application of metarules.",
        "The FC in [Thompson 82J states that every metarule can apply at most once in the derivation of any given object grammar rule from one basic rule.",
        "An example for the recursive application of a metarule has been proposed in [Uszkoreit 871: p.145 in his German grammar.",
        "It makes the adverbial phrase (AdvP) a sister node of the verb and its arguments: V2[-AUX] 4 V, W r V2[-AUX] 4 V, W, AdvP This metarule is to solve the problem that adverbial phrases can be interspersed freely among the arguments of the verb and the number of AdvPs in a verb phrase is not limited (but it is finite) and the metarule has to be applied recursively.",
        "This fact would rule out the definition of this metarule with respect to the definition of the FC which has been adopted also in [Gazdar et al.",
        "85] to avoid the production of an infinite number of ID rules.",
        "Uszkoreit tried to circumvent the problem in redefining the above metarule such that it fits the requirements of the FC.",
        "It employs the Kleene star operator.",
        "V2[-AUX] 4 V, W r V2[-AUX] 4 V, W, AdvP' This change of the metarule is not necessary if the metarules are applied directly during the parsing process and the above metarule without the Kleene star can be applied freely, because the termination is determined by the finiteness of the input string."
      ]
    },
    {
      "heading": "4 Termination",
      "text": [
        "No matter whether the metarules are applied directly or at compile-time, we have to care for the termination.",
        "We think that the restriction on the application of metarules imposed by the Finite Closure (FC) is too strong.",
        "That may have crucial consequences for some metarules.",
        "Look for example at the Complement Omission Metarule from the English grammar in [Gazdar et al.",
        "85], which is [+N, BAR 1] 4 N°, W [+N, BAR 1] N°.",
        "This metarule deletes optional complements of nouns.",
        "For example the noun gift may have two optional prepositional phrases as complements, i.e. NP --> N°, (PP[of]), (PP[to]).",
        "The prepositions of and to are fixed but either of the PPs or both may be left out: the gift, the gift of John, the gift to Paul, the gift of John to Paul.",
        "The above metarule only allows for the gift and the gift of John to Paul, because it deletes all complements of the noun.",
        "The correct metarule would be: [-IN, BAR 1] N°, X, W [-IN, BAR 1] 4 N°, W [Gazdar et al.",
        "85] have not been able to define this metarule, because it has to be applied recursively and the FC does not allow recursive application.",
        "For this reason we decided to define another constraint which is not so restrictive.",
        "As it has turned out, most of the metarules which have been defined within the fragment of English in [Gazdar et al. 85] or of German (see the section below for a more detailed discussion) arc or can be defined in a way that guarantees the termination of the recursive application of metarules.",
        "In order to prove the termination, some research results within the field of term-rewriting can be applied (see [Dershowitz 82 and 851 for general results and [Weisweber 89], [Weiswe-bcr/ Hauenschild 90] and [Weisweber 92] for an application to mappings within machine translation).",
        "ID rules can be viewed as terms and metarules can he viewed as term-rewrite rules, because they derive one ID rule from another.",
        "A set of term-rewrite rules terminates if an ordering '>' on the terms of the left-hand and right-hand sides (Ihs and rhs, respectively) of the rewrite rules can be defined.",
        "This may be a quantitative ordering, e.g. a category occuring on the lhs of a metarule is deleted on its rhs, or a qualitative ordering, e.g. an operator precedence.",
        "We think that a mixture of both types of orderings is needed to prove the termination of sets of metarules.",
        "If a qualitative and a quantitative ordering arc merged, the resulting ordering guarantees termination (sec [Dershowitz 82 and 85]).",
        "The operator precedence that is used in our MT system is in fact a precedence ordering on feature values occurring at the categories of the Ills and rhs of the metarules.",
        "Termination condition for metarule application For every metarule lhs rhs, Ihs > rhs.",
        "Ills > (i) a daughter category occurring on the lhs is deleted on the rhs and/or (ii) an operator precedence >op on feature values occurring at the categories of the lhs and rhs can he defined, which is not contradictory for the whole set of metarules and (iii) every variable for (multisets of) categories occurring on the rhs occurs on the Ills.",
        "Metamles have to fulfil the conditions (i) and (iii) or (ii) and (iii).",
        "The condition (i) is a quantitative ordering and the termination of metarules which fulfil (i) is obvious, because everytime such a metarule is applied one category is deleted and the number of daughter categories in an II) rule is finite.",
        "The condition (ii) is a qualitative ordering.",
        "The termination of =Landes which fulfil (ii) is not as obvious as in (i).",
        "It means that a feature value of a category has to be changed and there must not be another metarule, which reverses the change of this feature value.",
        "It allows for not having to delete categories, adding categories or adding values to a list, which may be a feature value, on the rhs of a metarule, if a feature value is changed on another category.",
        "This is the reason why we decided to impose control on the definition of metarules and not to move away from such devices as recent research in computational linguistics does.",
        "If a 'neurotic fulfils condition (ii) it cannot be applied for a second time in a derivation of an ID rule, because once a feature value has been changed it will never be reversed and the metarule will not be applicable again.",
        "This part of the termination condition simulates the termination condition of the FC.",
        "The condition (iii) prohibits the introduction or doubling of variables for (multisets of) categories on the rhs.",
        "Thus the termination of a certain set of metarules can be guaranteed, iff for all metarules either the metarule deletes a category occuring on its lhs and/or a non-contradicting precedence on operators (feature values of the categories occurring in the metarulc) can be defined and all variables occurring on the rhs occur on the lhs.",
        "The application of the termination condition is demonstrated with the metarules for German in the next section."
      ]
    },
    {
      "heading": "5 Metarules for German •",
      "text": [
        "Our GPSG syntax of German is based on the grammar developed in [Usekoreit 871.",
        "We assume a flat structure for the verb and its complements including the subject.",
        "Subcategorization of verbs is stated in ID rules of the following form:",
        "V3 is a sentential category and SUBCAT CC means the fixed value for the subcategorization feature in the ID rule with n arguments, but for every subcategorization there is a seperate rule.",
        "The subject of main verbs is included in the rhs of the rule.",
        "Unlike Uszkoreit's approach we do not add the subject to the complements of a verb phrase via metarule application but reduce a sentential category to a verb phrase and delete the subject.",
        "The following Subject Deletion Metarule fulfils the termination conditions (i) and (iii), because it deletes the category DP[noin].i",
        "Additionally, the operator precedence 'BAR 3' >op 'BAR 2' has to be defined, because the feature BAR at the mother category is changed on the rhs.",
        "This additional definition is needed in order to get a non-contradicting set of operator precedence definitions out of the whole set of metarules in the grammar.",
        "The Slash Termination Metarule is responsible for ending (or front the bottom-up view, for the introduction of) a long distance relationship that is handled in GPSG via the category-valued feature SLASH.",
        "Unlike [Gazdar et al.",
        "85] we do not have a trace.",
        "Traces cause problems in flat structures without fixed word order, because there are multiple analyses that arc only different with respect to the position of the trace.",
        "Here the termination conditions (i) and (iii) are also fulfilled, because a category of the rhs of the ID rule is deleted.",
        "The operator precedence definitions are 'SLASH 42 >op 'SLASH X2' and 'SLASH >op 'SLASH V3', respectively.",
        "The Extraposition Metarule handles complement sentences and infinitive constructions that we treat as dislocated when they appear in the final position of a sentence.",
        "Another category-valued feature, SLASH1, is The category DP is a determiner phrase according to the X-Bar-Schema in the Government and Binding Theory.",
        "2 'F means that the feature F has the value (see (Busemann/ Hauenschild 881 and [Busemann/ Hauenschild 89]).",
        "This is equivalent to the notation – IF] of [Gazdar et al.",
        "85] and means that the value for F is always undefined, i.e. the corresponding category does not take a value for F. The value is specially treated by the unification and the feature instantiation principles.",
        "Acres DE COLING-92, NANTes, 23-28 Aciffr 1992 1 1 1 3 Ptioc.",
        "COLING-92, NANTes, Auo.",
        "23-28, 1992 introduced for them.",
        "The feature specification -COH(erent) marks categories that can be extraposed.",
        "This metarulc fulfils the termination conditions (i) and (iii) and 'SLASH!",
        ">op 'SLASH!",
        "X[-COH)' has to be defined.",
        "The metarule for passive is an example in which the termination conditions (ii) and (iii) are necessary, because no category is deleted and an optional prepositional phrase is introduced that replaces the accusative determiner phrase:",
        "Here the change of the feature specification of PAS at the mother category can be used for terminating metarule application and we have to define '-PAS' >op '+PAS'3 and \"DP[acc] >op PP[vonl\".4 The Auxiliary Metarule is similar to the Passive Metarule in that feature values of some categories are changed and the termination conditions (ii) and (iii) are fulfilled.",
        "Here it is the BAR level of the mother and V3-daughter that are lowered in analogy to to the Subject Deletion Metarule.",
        "The operator precedence to be defined is 'BAR 3' >op 'BAR 2', which already has been defined in connection with that metarulc.",
        "As we have seen, the Subject Deletion, the Slash Termination and the Extraposition Metarule fulfil the criterion of deleting a category on the rhs of the ID rule; the Passive and the Auxiliary Metarule change feature values at the categories.",
        "For all =tat-ides a non-contradictory set of operator precedences can be defined and the application of the whole set of metarules will terminate in every case.",
        "Even the AdvP-metarule in section 3 proposed by [Uszkoreit 87] can be treated when the metarules are applied directly, because we can give a proof for its termination, which is guaranteed by the finite length of the input string in connection with direct application.",
        "This is another argument for the direct application of metarules."
      ]
    },
    {
      "heading": "6 The parsing process",
      "text": [
        "In our parser, which is a part of an experimental machine translation system (see [Weisweber 87] for a 3 Treating passive, one has to say a word about semantics.",
        "We do not adopt the semantics of [Gazdar et al.",
        "85] because of its shortcomings (see [Umbach 87]), but developed a semantic level of our own that captures the functor argument structures (FAS, see [14usemann/ Has-enschild 89) and [Hauenschild/ Umbach 88]) of sentences and is derived from the syntactic structure via term-rewrite rules.",
        "Here an explicit assignment of semantic roles to complements of verbs takes place that is dependent on the subcategorization of the verb and its voice.",
        "In this case we have to define a precedence for all feature values which are changed.",
        "detailed description of the parser without direct application of metarules), the metarules are defined according to the following scheme: Co – › C,, W, C] W, (Ca) Co, Cc and Cd arc categories and W is a variable for a (possibly empty) multiset of categories.",
        "The categories CO and C] correspond to Co and C,, respectively, in terms of [Gazdar et al.",
        "85].",
        "The category Cc can be viewed as a condition category for the application of the metarule.",
        "Cd is the category which is to be deleted or modified.",
        "This is indicated by the brackets arround Q.",
        "If Cd is to be deleted, Cd is left out on the rhs of the metarulc.",
        "If Cd is to be modified, Cd is replaced by Q.",
        "The feature values of the categories are cospecified on the lhs and rhs of a metarule, if not specified otherwise.",
        "This causes the values to be carried over to the rhs.",
        "If the metarule should only be applied to lexical ID rules as proposed in [Gazdar et a].",
        "85], the category C, has to be the lexical head with respect to Co.",
        "The proof for the termination of sets of such metarules is simple.",
        "At first we look at the case in which Q is deleted, then the termination condition (i) holds.",
        "The second case is that the category Ca is replaced by the category CC, and the number of categories is not reduced.",
        "Now the termination condition (ii) has to be applied and at least one feature value of the categories (Co, Cjc, W has to be changed, which must not be reversed by another metarule.",
        "The termination condition (iii) holds in every case, because the variable W occurs on both sides of the metarule.",
        "In order to apply the metarules directly during the parsing process, all the categories of an ID rule, which are matched by the multiset {Cc}.",
        "Um W, have to be collected by the parser.",
        "This is done for example by the Completer of the modified Earley algorithm (see [Earley 70], [Shieber 84], [Kilbury 84] and [Deice/ Momma 85]).",
        "Suppose the Completer tries to complete with the inactive edge (C], j, 7•1)„,), which is spanning from node i to node j of the chart, where 7 is a multiset of daughter categories which have already been analysed and the remainder, i.e. the multiset of daughter categories still to be analysed, is empty and C] is the mother category of the ID rule, which is licensing this edge.",
        "M is the set of Wattles.",
        "If (Co, h, a•P) is an inactive edge and 13Co --> C,, W, CO C], W) e M and (Cd],,, and C, o a u,,, 13 then the Completer introduces a new inactive edge (CO, h, j, ce.•(1„,) and computes its closure.",
        "The category C, in a Um pis replaced by Q.",
        "If (CO3 h, CO) is an inactive edge and (Co Cc, W, Cd C(j w, e m and C, E Un, [Sand Cd E p and Q, is consistent to the categories in W{Cd),,, with respect to linear precedence then the Completer introduces a new edge (CO, h, j, a Um (Q)„,•13/(Q)„,) and the category Cc in a Urn p is replaced by Q.",
        "If the remainder 13/(Cd]rn =Omthen the closure of this edge has to be computed.",
        "The advantage of direct parsing with metarules is an increase of efficiency, because all the inactive edges which are licensed by ID rules indroduced by metarules need not to be stored separately and the number of inactive edges generated by the Earley parser is reduced considerably.",
        "ACTES DE COLING-92, NAnrEs, 23-28 Aoin 1992 1 1 1 4 PROC.",
        "OE COLING-92, NANTES, Auo.",
        "23-28, 1992 Another interesting approach to direct parsing with metarules, in which the metarules are treated as special kinds of context-free rules, is presented in [Kay 83]."
      ]
    },
    {
      "heading": "7 Conclusion",
      "text": [
        "Metarules are an interesting device to express some important generalizations on phrase structure rules of a natural language grammar.",
        "If they arc used in preprocessing to compile a huge set of rules out of a small set of basic ones, the parsing process may become very inefficient, because it has to care for the set of basic rules and additionally for the rules which have been derived from them and are very similar to the basic ones.",
        "When metarules are applied directly during the parsing process, only the set of basic rules in connection with the metarules have to be considered by the parser.",
        "This reduces the set of intermediate solutions (inactive edges) to be stored considerably.",
        "In order to apply memories directly, it has to be guaranteed that the given set of metarules will terminate if all metarules fulfil the termination criterion in section 4.",
        "We gave the termination proof for the memories of our German grammar in section 5.",
        "We think that with the help of this criterion the termination of every relevant set of metarules can be proven, because a metarule is defined to change something in an ID rule, either to delete a category, to modify sonic feature values, to add a category or to do a combination of all.",
        "With the termination criterion it is possible to construct a device which automatically proves the - termination of a given set of metarules.",
        "This algorithm computes the set of operator precedences front the feature values which are changed on the categories of a metarule.",
        "To enable the parser to process metarules like Uszko-reit's for AdvPs in section 3, which add categories to basic ID rules and for which the termination can be proven, will be subject to future work."
      ]
    },
    {
      "heading": "8 References",
      "text": []
    }
  ]
}
