{
  "info": {
    "authors": [
      "Matthew Hurst",
      "Shona Douglas"
    ],
    "book": "Applied Natural Language Processing Conference",
    "id": "acl-A97-1032",
    "title": "Layout and Language: Preliminary Experiments in Assigning Logical Structure to Table Cells",
    "url": "https://aclweb.org/anthology/A97-1032",
    "year": 1997
  },
  "references": [
    "acl-E95-1027"
  ],
  "sections": [
    {
      "heading": "Abstract",
      "text": [
        "We describe a prototype system for assigning table cells to their proper place in the table's logical (relational) structure, based on a simple model of table structure combined with a number of measures of cohesion between cell contents.",
        "Preliminary results suggest that very simple string-based cohesion measures are not sufficient for the extraction of relational information, and that future work should pursue the aim of more knowledge/dataintensive approximations to a notional subtype/supertype definition of the relationships between value and label cells."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "Real technical documents are full of text in tabular and other complex layout formats.",
        "Most representations of tabular data are layout or geometry-based: in SGML, in particular, Marcy Thompson notes \"table markup contains a great deal of information about what a table looks like... but very little about how the table relates the entries.",
        "... [This] prevents me from doing automated context-based data retrieval or extraction.\"'"
      ]
    },
    {
      "heading": "1.1 Views of tables",
      "text": [
        "In (Douglas, Hurst, and Quinn, 1995) an analysis of table layout and linguistic characteristics was offered which emphasised the potential importance of linguistic information about the contents of cells to the task of assigning a layout-oriented table representation to the logical relational structure it embodies.",
        "Two views of tables were distinguished: a denotational and a functional view.",
        "'(Thompson, 1996), p151.",
        "The denotation is the table viewed as a set of n-tuples, forming a relation between values drawn from n value-sets or domains.",
        "Domains typically consist of a set of values with a common supertype in some actual or notional Knowledge Representation scheme.",
        "The actual table may also include label cells which typically can be interpreted as a lexical-isation of the common supertype.",
        "We hypothesize that the contents of value cells and corresponding label cells for a given domain are significantly related in respect of some measures of cohesion that we can identify.",
        "The functional view is a description of how the information presentation aspects of tables embody a decision structure (Wright, 1982) or reading path, which determines the order in which domains are accessed in building or looking up a tuple.",
        "To express a given table denotation according to a given functional view, there is a repertoire of layout patterns that express how domains can be grouped and ordered for reading in two dimensions.",
        "These layout patterns constitute a syntax of table structure, defining the basic geometric configurations that domain values and labels can appear in."
      ]
    },
    {
      "heading": "1.2 An information extraction task",
      "text": [
        "Our application task is shallow information extraction in construction industry specification documents, containing many tables, which come to us via the miracles of OCR as formatted ASCII, e.g., in Figure 1.",
        "The predominant argument type of this genre of specification documents can be thought of as a form of 'assignment', similar to that in programming languages.",
        "Our aim is to fit each assignment into a frame that contains various elements represented in terms of the sublanguage world model, a simple part-of/type-of knowledge representation.",
        "The elements we are looking for are entities, attributes which the KR accepts as appropriate for",
        "t) .",
        "w and d are either integers or the wild card ?, and specify respectively the x-extent and y-extent of an area of cells that can match the template; the wild card matches any width, or depth, as appropriate.",
        "t specifies whether the (sub)template is to be counted as a value (tv) or a label area (t1.).",
        "A selection from a set of four possible restrictions on a template can be defined:",
        "those entities, a unit or type for each attribute, a value which the assignment gives to each attribute, and a relationship expressing the semantic content of the assignment.",
        "To extract these components, we would like to have a basic representation of the tuple structure of the table, plus information about any labels and how they relate to the values, in order to specify fully the relationship and its arguments.",
        "1.3 Aims of the current work Without some way of identifying domains we cannot extract the table relation we require.",
        "Our aim is to investigate the usefulness of a range of cohesion measures, from knowledge-independent to knowledge-intensive, in allowing us to select, from among those areas of table cells which are syntactically capable of being domains, those which in fact form the domains of the table.",
        "This paper reports the very beginning of the process.",
        "2 The current prototype system The system operates in two phases.",
        "In the first, a set of areas that might constitute domains is identified, using the constraints of table structure (geometric configuration) and cell cohesion.",
        "In the second, this candidate set is filtered to produce a consistent tiling over the table."
      ]
    },
    {
      "heading": "2.1 A simplified table structure model",
      "text": [
        "The potential geometric configurations that we allow for a set of domain values (plus optional label) are called templates.",
        "A notation for specifying simple domain templates is defined as follows.",
        "A template is delimited by a pair of brackets [... ] .",
        "Within the brackets is a list of sub-templates, currently recursive only to depth 1 and taken to be stacked vertically in the physical table.",
        "If a template has no sub-templates, it consists of a triple (ww, dd, The following templates are used currently: lc: [[wi.",
        "dl ti] [wi d?",
        "tv]] A label above a single column of values, of any height.",
        "lr: [[w1 dl ti] [w?",
        "dl tv]] A label above a single row of values, of any width.",
        "v: [w?",
        "d?",
        "tv]{-top left +right +bottom} A rectangular area consisting of only values, restricted to domains at the bottom right margin, typically accessed using both x and y keys.",
        "c: [vi d?",
        "tv] A single column of values."
      ]
    },
    {
      "heading": "2.2 A simplified cohesion model",
      "text": [
        "The 'goodness' of a rectangular area of the table, viewed as a possible instantiation of a given template, is given by its score on the various cohesion attributes.",
        "Values assigned for each of the chosen attributes are combined in a weighted sum to yield two overall cohesion scores for each MatchedArea, the value-value cohesion (v-v) and the label-value cohesion (l-v) as follows.",
        "We have a set of n v-v cohesion functions Ifov-v 11v-v fnv-v I which each take two cells and return a value between 0 and 1 which reflects how similar the two cells are on that function, and a set of n weights ftvrovy-v...14-v, I which determine the relative importance of each function's result.",
        "Then for any area A composed of a set of cells we can calculate a measure of the area's cohesion as a set of domain values:",
        "We have a set of m Iv cohesion functions {f(1)-v, fl-v fl-v} which each take two cells and return a value between 0 and 1 which reflects how likely one of the cells is to be a label for the other, {w10-v, wl-v and a set of m weights } which determine the relative importance of each function's result.",
        "Then for an area A composed of a set of cells and a label cell ci we calculate a measure of the area's cohesion as a label plus set of domain values:",
        "A final score for the area is calculated as follows, depending on the type of template: If the area's template contains values and a label:",
        "where wv-v and wl_v are weights reflecting the relative importance given to the VS and LS respectively.",
        "If the area's template contains only values: finalScore = VS The cohesion attributes reported here have values between 0 and 1, where 0 corresponds to high and 1 to low similiarity:",
        "where laa I is the number of alphabetic characters in string a and INat is the number of numeric characters in string a.",
        "STRING LENGTH RATIO: A nondirectional comparison of string length."
      ]
    },
    {
      "heading": "2.3 Selecting a set of MatchedAreas",
      "text": [
        "Given a set of templates, we find a set of MatchedAreas, rectangular areas of cells which satisfy a template definition and which reach a given cohesion threshold.",
        "The set of MatchedAreas contains no areas that are wholly contained in other matched areas for the same template.",
        "From the set of MatchedAreas we select the areas we believe to be the domains of the table using a greedy algorithm which selects a set of cells that form a complete, non-overlapping tiling over the table."
      ]
    },
    {
      "heading": "3 Experiments",
      "text": [
        "To test our system, we created a corpus of tables marked up in SGML with basic cell boundaries, allowing the template mechanism to determine the x and y position of cells.",
        "This representation is similar in relevant information content to many SGML table DTDs, and is also a plausible output from completely domain-independent techniques for table recognition in ASCII text or images, e.g., (Green and Krish-namoorthy, 1995).",
        "To this basic representation we added human-judgment information about the domains in each table (using an interface written in XEmacs lisp), specifying cell areas of values and labels for each domain.",
        "The tables were taken from a corpus of formatted ASCII documents in the domain of construction industry specifications.",
        "29 tables consisting of 91 domains were open to examination during the experimental development; 4 tables consisting of 13 domains were held back as a test set.",
        "The tests we ran had different combinations of the cohesion measures alphanum and string-length with a factor ignorelabel, which corresponds to reducing the weighting tvi_t, for the goodness of the label match to 0.",
        "The unseen condition is the last (best-performing) combination, run on the held back data."
      ]
    },
    {
      "heading": "4 Results and future work",
      "text": [
        "The recall results are given in Table 1.",
        "The experiment column specifies the trial in terms of the factors defined above.",
        "The templates columns specify which templates are included in the trial.",
        "The recall score for each trial is the number of matched areas that perfectly agree with the boundary and type of a domain as marked by the human judge, as a percentage of the number of domains identified by the human judge.",
        "(Since the selection algorithm produces only a single tiling for each table, precision was not explicitly measured.)"
      ]
    },
    {
      "heading": "4.1 Effect of templates",
      "text": [
        "Increasing the number of templates available at one time reduces the recall performance because of confusion during the selection process; if we used only the lc template, for instance, we would get better performance overall per domain (in this application area).",
        "The true performance of the system has to be judged with respect to the complete set (the rightmost column in the results table), however, since all these templates are needed to match even quite simple tables.",
        "The simple templates used here are also not adequate for more complex tables with patterns of recapitulation and multiply layered spanning labels.",
        "We intend to take a more sophisticated view of possible geometric configurations, perhaps similar to the treatment in (Wang, 1996), and use the idea of reading paths to extract the tuples by relating the appropriate values from different domains."
      ]
    },
    {
      "heading": "4.2 Effect of cohesion measures",
      "text": [
        "The alphanum and stringlength measures in combination do perform rather better than alone.",
        "However, ignoring 1-v cohesion always improves recall; these cohesion measures do not help in distinguishing between labels and values, or in linking labels with value-sets.",
        "This will be more of a problem when we deal with more complex tables with complex multi-cell labels.",
        "In future, we intend to investigate the effect of more sophisticated cohesion measures, including the use of thesaural information from domain-independent sources and corpus-based Knowlege Acquisition, e.g., (Mikheev and Finch, 1995), which should form better approximations to the supertype/subtype distinction.",
        "Combining a number of measures, in the kind of framework we have presented here, should allow graceful performance over a wide range of domains using as much information as is available, from whatever source, as well as convenient evaluation of the relative contribution of different sources."
      ]
    },
    {
      "heading": "Acknowledgements",
      "text": [
        "We acknowledge the support of BICC plc who supplied data and funded the first author during most of this work, and of the Engineering and Physical Sciences Research Council of the UK, who funded the second author under the CISA U project (IED4/1/5818)."
      ]
    }
  ]
}
