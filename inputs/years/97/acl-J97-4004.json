{
  "info": {
    "authors": [
      "Jin Guo"
    ],
    "book": "Computational Linguistics",
    "id": "acl-J97-4004",
    "title": "Critical Tokenization and Its Properties",
    "url": "https://aclweb.org/anthology/J97-4004",
    "year": 1997
  },
  "references": [
    "acl-C92-1019",
    "acl-C92-4173",
    "acl-C92-4195",
    "acl-C94-2139",
    "acl-J89-1002",
    "acl-J96-3004",
    "acl-J96-4004"
  ],
  "sections": [
    {
      "text": [
        "Tokenization is the process of mapping sentences from character strings into strings of words.",
        "This paper sets out to study critical tokenization, a distinctive type of tokenization following the principle of maximum tokenization.",
        "The objective in this paper is to develop its mathematical description and understanding.",
        "The main results are as follows: (1) Critical points are all and only unambiguous token boundaries for any character string on a complete dictionary; (2) Any critically tokenized word string is a minimal element in the partially ordered set of all tokenized word strings with respect to the word string cover relation; (3) Any tokenized string can be reproduced from a critically tokenized word string but not vice versa; (4) Critical tokenization forms the sound mathematical foundation for categorizing tokenization ambiguity into critical and hidden types, a precise mathematical understanding of conventional concepts like combinational and overlapping ambiguities; (5) Many important maximum tokenization variations, such as forward and backward maximum matching and shortest tokenization, are all true subclasses of critical tokenization.",
        "It is believed that critical tokenization provides a precise mathematical description of the principle of maximum tokenization.",
        "Important implications and practical applications of critical tokenization in effective ambiguity resolution and in efficient tokenization implementation are also carefully examined."
      ]
    },
    {
      "heading": "1. Introduction",
      "text": [
        "Words, and tokens in general, are the primary building blocks in almost all linguistic theories (e.g., Gazdar, Klein, Pullum, and Sag 1985; Hudson 1984) and language processing systems (e.g., Allen 1995; Grosz, Jones, and Webber 1986).",
        "Sentence, or string, tokenization, the process of mapping sentences from character strings to strings of words, is the initial step in natural language processing (Webster and Kit 1992).",
        "Since in written Chinese there is no explicit word delimiter (equivalent to the blank space in written English), the problem of Chinese sentence tokenization has been the focus of considerable research efforts, and significant advancements have been made (e.g., Bai 1995; Zhang et al.",
        "1994; Chen and Liu 1992; Chiang et al.",
        "1992; Fan and Tsai 1988; Can 1995; Gan, Palmer, and Lua 1996; Guo 1993; He, Xu, and Sun 1991; Huang 1989; Huang and Xia 1996; Jie 1989; Jie, Liu, and Liang 1991a, 1991b; Jin and Chen 1995; Lai et al.",
        "1992; Li et al.",
        "1995; Liang 1986, 1987, 1990; Liu 1986a, 1986b; Liu, Tan, and Shen 1994; Lua 1990, 1994, and 1995; Ma 1996; Nie, Jin, and Hannan 1994; Sproat and Shih 1990; Sproat et al.",
        "1996; Sun and T'sou 1995; Sun and Huang 1996; Tung and Lee 1994; Wang, Su, and Mo 1990; Wang 1989; Wang, Wang, and Bai 1991; Wong et al.",
        "1995; Wong et al.",
        "1994; Wu et al.",
        "1994; Wu and Su 1993; Yao, Zhang, and Wu 1990; Yeh and Lee 1991; Zhang, Chen, and Chen 1991).",
        "The tokenization problem exists in almost all natural languages, including Japanese (Yosiyuki, Takenobu, and Hozumi 1992), Korean (Yun, Lee, and Rim 1995), German (Pachunke et al.",
        "1992), and English (Garside, Leech, and Sampson 1987), in various media, such as continuous speech and cursive handwriting, and in numerous applications, such as translation, recognition, indexing, and proofreading.",
        "For Chinese, sentence tokenization is still an unsolved problem, which is in part due to its overall complexity but also due to the lack of a good mathematical description and understanding of the problem.",
        "The theme in this paper is therefore to develop such a mathematical description.",
        "In particular, this paper focuses on critical tokenization', a distinctive type of tokenization following the maximum principle.",
        "What is to be established in this paper is the notion of critical tokenization itself, together with its precise descriptions and well-proved properties.",
        "We will prove that critical points are all and only unambiguous token boundaries for any character string on a complete dictionary.",
        "We will show that any critically tokenized word string is a minimal element in the partially ordered set of all tokenized word strings on the word string cover relation.",
        "We will also show that any tokenized string can be reproduced from a critically tokenized word string but not vice versa.",
        "In other words, critical tokenization is the most compact representation of tokenization.",
        "In addition, we will show that critical tokenization forms a sound mathematical foundation for categorizing critical ambiguity and hidden ambiguity in tokenizations, which provides a precise mathematical understanding of conventional concepts like combinational and overlapping ambiguities.",
        "Moreover, we will confirm that some important maximum tokenization variations, such as forward and backward maximum matching and shortest tokenization, are all subclasses of critical tokenization.",
        "Based on a mathematical understanding of tokenization, we reported, in Guo (1997), a series of interesting findings.",
        "For instance, there exists an optimal algorithm that can identify all and only critical points, and thus all unambiguous token boundaries, in time proportional to the input character string length but independent of the size of the tokenization dictionary.",
        "Tested on a representative corpus, about 98% of the critical fragments generated are by themselves desired tokens.",
        "In other words, about 98% close-dictionary tokenization accuracy can be achieved efficiently without disambiguation.",
        "Another interesting finding is that, for those critical fragments with critical ambiguities, by replacing the conventionally adopted meaning preservation criterion with the critical tokenization criterion, disagreements among (human) judges on the acceptability of a tokenization basically become non-existent.",
        "Consequently, an objective (human) analysis and annotation of all (critical) tokenizations in a corpus becomes achievable, which in turn leads to some important observations.",
        "For instance, we observed from a Chinese corpus of four million morphemes a very strong tendency to have one tokenization per source.",
        "Naturally, this observation suggests tokenization disambiguation strategies notably different from the mainstream best-path-finding strategy.",
        "For instance, the simple strategy of tokenization by memorization alone could easily exhibit critical ambiguity resolution accuracy of no less than 90%, which is notably higher than what has been achieved in the literature.",
        "Moreover, it has been observed that critical tokenization can also provide helpful guidance in identifying hidden ambiguities and in determining unregistered (unknown) tokens (Guo 1997).",
        "While these are just some of the very primitive findings, they are nevertheless promising and motivate",
        "us to rigorously formalize the tokenization problem and to carefully explore logical consequences.",
        "The rest of the paper is organized as follows: In Section 2, we formally define the string generation and tokenization operations that form the basis of our framework.",
        "In Section 3, we will study tokenization ambiguities and explore the concepts of critical points and critical fragments.",
        "In Section 4, we define the word string cover relation and prove it to be a partial order, define critical tokenization as the set of minimal elements of the tokenization partially ordered set, and illustrate the relationship between critical tokenization and string tokenization.",
        "Section 5 discusses the relationship between critical tokenization and various types of tokenization ambiguities, while Section 6 addresses the relationship between critical tokenization and various types of maximum tokenizations.",
        "Finally, in Sections 7 and 8, after discussing some helpful implications of critical tokenization in effective tokenization disambiguation and in efficient tokenization implementation, we suggest areas for future research and draw some conclusions."
      ]
    },
    {
      "heading": "2. Generation and Tokenization",
      "text": [
        "In order to address the topic clearly and accurately, a precise and well-defined formal notation is required.",
        "What is used in this paper is primarily from elementary Boolean algebra and Formal Language Theory, which can be found in most graduate-level textbooks on discrete mathematics.",
        "This section aims at refreshing several simple terms and conventions that will be applied throughout this paper and at introducing the two new concepts of character string generation and tokenization.",
        "For the remaining basic concepts and conventions, we mainly follow Aho and Ullman (1972, Chapter 0, Mathematical Preliminaries), and Kolman and Busby (1987)."
      ]
    },
    {
      "heading": "2.1 Character, Alphabet, and Character String Definition 1",
      "text": [
        "An alphabet E {a, b, c,.",
        ".}",
        "is a finite set of symbols.",
        "Each symbol in the alphabet is a character.",
        "The alphabet size is the number of characters in the alphabet and is denoted 1E1.",
        "Character strings over an alphabet E are defined2 in the following manner:",
        "1. e is a character string over E. e is called the empty character string.",
        "2.",
        "If S is a character string over E and a is a character in E, then Sa is a character string over E. 3.",
        "S' is a character string over E if and only if its being so follows from (1)",
        "and (2).",
        "The length of a character string S is the number of characters in the string and is denoted IS.",
        "A position in a character string is the position after a character in the string.",
        "If characters in a character string are indexed from 1 to n, then positions in the string are indexed from 0 to n, with 0 for the position before the first character and n for that after the last character.",
        "The set of 26 upper case and 26 lower case English characters forms the English alphabet E = {a, b,.",
        ".",
        ".",
        ",z, A, B,.",
        ", Z} .",
        "S = thisishisbook is a character string over the alphabet.",
        "Its string length is 13.",
        "In this paper, characters are represented with small characters a, b, c, or their subscript form ak, bk, and ck.",
        "The capital letter S or its expanded form S = c1 c, is used to represent a character string.",
        "We let E* denote the set containing all character strings over E including e, and E+ denote the set of all character strings over E but excluding e."
      ]
    },
    {
      "heading": "2.2 Word, Dictionary, and Word String Definition 2",
      "text": [
        "Let alphabet E = {a, b, c, .",
        ".",
        ".}",
        "be a finite set of characters.",
        "A dictionary D is a set of character strings over the alphabet E. That is, D = {x, y, z, .",
        ".",
        ".}",
        "C E*.",
        "Any element in the dictionary is a word.",
        "The dictionary size is the number of words in the dictionary and is denoted IDI.",
        "Word strings over a dictionary D are defined in the following manner:",
        "1. v is a word string over D. v is called the empty word string.",
        "2.",
        "If W is a word string over D and w is a word in D, then Ww is a word string over D. 3.",
        "W' is a word string over D if and only if its being so follows from (1)",
        "and (2).",
        "The length of a word string W is the number of words in the string and is denoted I WI.",
        "We let D* denote the set containing all word strings over D, including v and let D+ denote the set of all word strings over D but excluding v. Example 1 (cont.)",
        "The set D = {this, is, his, book} is a tiny English dictionary from the English alphabet.",
        "Both his and book are words over the English alphabet.",
        "The dictionary size is 4, i.e., IDI = 4.",
        "\"this is his book\" is a word string.",
        "Its string length is 4.",
        "To differentiate between character string and word string, blank spaces are added between words in word strings.",
        "For example, \"this is his book\" represents a word string of length 4 (four words concatenated) while thisishisbook consists of a character string of length 13 (13 characters in sequence).",
        "Slash / is sometimes used as a (hidden) word delimiter.",
        "For instance, this/is/his/book is an equivalent representation to \"this is his book\".",
        "Generally, capital letters X, Y, Z, and W, or their expanded forms such as W = wrn, represent word strings.",
        "Small letters x, y, z, and w, or their expanded forms such as w = c1 cn, represent both words as elements in a dictionary and character strings over an alphabet.",
        "In other words, they are both w E D and w E E*.",
        "The word string made up of the single word w alone is represented by In cases where context makes it clear, the superscript can be omitted and w is also used for representing the single word string wl."
      ]
    },
    {
      "heading": "2.3 Character String Generation",
      "text": [
        "Definition 3 Let E = {a, b, c, .",
        ".",
        ".}",
        "be an alphabet and D = {x, y, z, ...} be a dictionary over the alphabet.",
        "The character string generation operation G is a mapping G: D* – > E* defined as:",
        "1.",
        "Empty word string v is mapped to empty character string e. That is, G(v) = e. 2.",
        "Single word string w1 is mapped to the character string of the single word.",
        "That is, G(w1) = w. 3.",
        "If W is a word string over dictionary D and w is a word in D, then, the word string Ww is mapped to the concatenation of character string G(W) and G(w).",
        "That is, G(Ww) = G(W)G(w).",
        "G(W) is said to be the generated character string of the word string W from dictionary D.",
        "Note that the character string generation operation G is a homomorphism (Aho and Ullman 1972, 17) with property G(w1) = w. Example 1 (cont.)",
        "The character string thisishisbook is the generated character string of the word string \"this is his book\".",
        "That is, G(\" this is his book\") = thisishisbook."
      ]
    },
    {
      "heading": "2.4 Character String Tokenization Definition 4",
      "text": [
        "The character string tokenization operation T is a mapping TD: E* 2D* defined as: if S is a character string in E*, then TD(S) is the set of dictionary word strings mapped by the character string generation operation G to the character string S. That is, TD(S) = {WIG(W) = S, W E D*}.",
        "Any word string W in TD(S) is a tokenized word string, or simply a tokenization, of the character string S. Sometimes the character string tokenization operation is emphasized as the exhaustive tokenization operation or ET operation for short.",
        "In addition, the tokenized word string or tokenization is emphasized as the exhaustively tokenized word string or exhaustive tokenization or ET tokenization for short.",
        "Note that the character string tokenization operation TD is the inverse homomorphism (Aho and Ullman 1972, 18) of the character string generation operation G. Example 1 (cont.)",
        "Given character string thisishisbook, for the tiny English dictionary D = {this, is, his, book}, there is TD(thisishisbook) = {\"this is his book\"}.",
        "In other words, the word string \"this is his book\" is the only tokenization over the dictionary D. Given dictionary D' = {th, this, is, his, book}, in which this also a word, there is (thisishisbook) {\"th is is his book\", \"this is his book\"}.",
        "In other words, the character string has two tokenizations over the dictionary D'."
      ]
    },
    {
      "heading": "Example 2",
      "text": [
        "For character string fundsand and the tiny English dictionary D = {fund, funds, and, sand}, there is TD(fundsand) {\"funds and\", \"fund sand\"}.",
        "In other words, both \"funds and\" and \"fund sand\" are tokenizations of character string fundsand."
      ]
    },
    {
      "heading": "2.5 Discussion",
      "text": [
        "Our intention, in formally defining characters and words, is to establish our mathematical system clearly and accurately.",
        "To keep discussion concise, the definitions of elementary concepts such as strings and substrings, although widely used in this paper, will be taken for granted.",
        "We limit our basic notion to what has already been defined in Aho and Ullman (1972) and Kolman and Busby (1987).",
        "Mathematically, word strings are nothing but symbol strings, with each symbol representing a word in the dictionary.",
        "In that sense, the word string definition is redundant as it is already covered by the definition of character string.",
        "However, since the relationships between character strings and word strings are very important in this paper, we believe it to be appropriate to list both definitions explicitly.",
        "What is new in this section is mathematical definitions for character string generation and tokenization.",
        "We consider them fundamental to our mathematical description of the string tokenization problem.",
        "There are two points worth highlighting here.",
        "The first relates to the introduction of the character string generation operation.",
        "In the literature, the tokenization problem is normally modeled independently with no connection whatsoever with the character string generation problem.",
        "By contrast, we model tokenization and generation as inverse problems to each other.",
        "In this way, we establish a well-defined mathematical system consisting of an alphabet, a dictionary, and the (generation) homomorphism (operation) and its inverse defined on the alphabet and dictionary.",
        "As will be seen throughout this paper, the establishment of the generation operation renders various types of tokenization problems easy to describe.",
        "The generation problem is relatively simple and easy to manage, so any modeling of the tokenization problem as its inverse (that is, as the generation problem) should make it more tractable.",
        "The second point is in regard to the tokenization definition.",
        "In the literature, the string tokenization operation is normally required to generate a unique tokenized word string.",
        "Following such a definition of tokenization, introducing tokenization disambiguation at the very beginning is inevitable.",
        "We believe this to be a pitfall that has trapped many researchers.",
        "In contrast, we define the character string tokenization operation as the inverse operation (inverse homomorphism) of the character string generation operation (homomorphism).",
        "Naturally, the result of the tokenization operation is a set of tokenizations rather than a single word string.",
        "Such treatment suggests that we could use the divide-and-conquer problem-solving strategy – to decompose the complex string tokenization problem into several smaller and, hopefully, simpler subproblems.",
        "That is the basis of our two-stage, five-step iterative problem-solving strategy for sentence tokenization (Guo 1997)."
      ]
    },
    {
      "heading": "3. Critical Point and Fragment",
      "text": [
        "After clarifying both sentence generation and tokenization operations, we undertake next to further clarify sentence tokenization ambiguities.",
        "Among all the concepts to be introduced, critical points and critical fragments are probably two of the most important.",
        "We will prove that, for any character string on a complete tokenization dictionary, its critical points are all and only unambiguous token boundaries, and its critical fragments are the longest substrings with all inner positions ambiguous."
      ]
    },
    {
      "heading": "3.1 Ambiguity",
      "text": [
        "Let E be an alphabet, D a dictionary, and S a character string over the alphabet."
      ]
    },
    {
      "heading": "Definition 5",
      "text": [
        "The character string S from the alphabet E has tokenization ambiguity on dictionary D, if ITD(S)1 > 1.",
        "S has no tokenization ambiguity, if ITD(S)1 = 1.",
        "S is ill-formed on dictionary D, if I TD(S)I = 0.",
        "A tokenization W E TD(S) has tokenization ambiguity, if there exists another tokenization W' E TD(S), W' W."
      ]
    },
    {
      "heading": "Example 2 (cont.)",
      "text": [
        "Since TD(fundsand) {\"funds and\", \"fund sand\"}, i.e., To(fundsand)I = 2 > 1, the character string fundsand has tokenization ambiguity.",
        "In other words, it is ambiguous in tokenization.",
        "Moreover, the tokenization \"funds and\" has tokenization ambiguity since there exists another possible tokenization \"fund sand\" for the same character string.",
        "This definition is quite intuitive.",
        "If a character string could be tokenized in multiple ways, it would be ambiguous in tokenization.",
        "If a character string could only be tokenized in a unique way, it would have no tokenization ambiguity.",
        "If a character string could not be tokenized at all, it would be ill-formed.",
        "In this latter case, the dictionary is incomplete.",
        "Intuitively, a position in a character string is ambiguous in tokenization or is an ambiguous token boundary if it is a token boundary in one tokenization but not in another.",
        "Formally, let S = cn be a character string over an alphabet E and let D be a dictionary over the alphabet."
      ]
    },
    {
      "heading": "Definition 6",
      "text": [
        "Position p has tokenization ambiguity or is an ambiguous token boundary, if there are two tokenizations X = x1 ... xs and Y = ytin TD(S), such that G(xi .",
        "• • xu) cp and G(xu±i xs) = cp+i c, for some index u, and for any index v, there is neither G(yi yv) = cp nor G(yv+i yt) -= cp+i cn.",
        "Otherwise, the position has no tokenization ambiguity, or is an unambiguous token boundary.",
        "Example 1 (cont.)",
        "Given a typical English dictionary and the character string S = thisishisbook, all three positions after character s are unambiguous in tokenization or are unambiguous token boundaries, since all possible tokenizations must take these positions as token boundaries."
      ]
    },
    {
      "heading": "Example 2 (cont.)",
      "text": [
        "Given a typical English dictionary and the character string S =fundsand, the position after the middle character s is ambiguous in tokenization or is an ambiguous token boundary since it is a token boundary in tokenization \"funds and\" but not in another tokenization \"fund sand\"."
      ]
    },
    {
      "heading": "3.2 Complete Dictionary",
      "text": [
        "To avoid ill-formedness in sentence tokenization, we now introduce the concept of a complete tokenization dictionary."
      ]
    },
    {
      "heading": "Definition 7",
      "text": [
        "A dictionary D over an alphabet E is complete if for any character string S from the alphabet, S E E*, there is I TD(S)I > 1."
      ]
    },
    {
      "heading": "",
      "text": [
        "That is, for any character string S = c, from the alphabet, there exists at least one word string W = wn, with S as its generated character string, G(W) = S."
      ]
    },
    {
      "heading": "Theorem 1",
      "text": [
        "A dictionary D over an alphabet E is complete if and only if all the characters in the alphabet are single-character words in the dictionary"
      ]
    },
    {
      "heading": "Proof",
      "text": [
        "On the one hand, every single character is also a character string (of length 1).",
        "To ensure that such a single-character string is being tokenized, the single character must be a word in the dictionary.",
        "On the other hand, if all the characters are words in the dictionary, any character string can at least be tokenized as a string of single-character words.",
        "0 Theorem 1 spells out a simple way of making any dictionary complete, which calls for adding all the characters of an alphabet into a dictionary as single-character words.",
        "This is referred to as the dictionary completion process.",
        "If not specified otherwise, in this paper, when referring to a complete dictionary or tokenization dictionary, we mean the dictionary after the completion process."
      ]
    },
    {
      "heading": "3.3 Critical Point and Fragment",
      "text": [
        "Let S = c1 cp be a character string over the alphabet E and let D be a dictionary over the alphabet.",
        "In addition, let TD (S) be the tokenization set of S on D.",
        "Given a typical English dictionary, there are five critical points in the character string S = thisishisbook.",
        "They are 0, 4, 6, 9, and 13.",
        "The corresponding four critical fragments are this, is, his, and book."
      ]
    },
    {
      "heading": "Example 2 (cont.)",
      "text": [
        "Given a typical English dictionary, there is no extraordinary critical point in the character string S fundsand.",
        "It is by itself the only critical fragment of this character string.",
        "Given a complete tokenization dictionary, it is obvious that all single-character critical fragments or, more generally, single-character strings, possess unique tokenization.",
        "That is, they possess neither ambiguity nor ill-formedness in tokenization.",
        "However, the truth of the statement below (Lemma 1) is less obvious."
      ]
    },
    {
      "heading": "Lemma 1",
      "text": [
        "For a complete tokenization dictionary, all multicharacter critical fragments and all of their inner positions are ambiguous in tokenization."
      ]
    },
    {
      "heading": "Proof",
      "text": [
        "Let S c1 cn, n> 1, be a multicharacter critical fragment.",
        "Because the tokenization dictionary is complete, the critical fragment can at least be tokenized as a string of single-character words.",
        "On the other hand, because it is a critical fragment, for any position p, 1 < p < n – 1, there must exist a tokenization W = zy„, in TD(S) such that for any index k, 0 < k < m, there is neither G(wi Wk) c1 cp nor G(wk+i zvni) -= cp±i cn.",
        "As this tokenization differs from the above-mentioned tokenization of the string of single-character words, the critical fragment has at least two different tokenizations and thus has tokenization ambiguity.",
        "0"
      ]
    },
    {
      "heading": "Theorem 2",
      "text": [
        "For any character string on a complete tokenization dictionary, its critical points are all and only unambiguous token boundaries."
      ]
    },
    {
      "heading": "Proof",
      "text": [
        "By Lemma 1, all positions within critical fragments are ambiguous in tokenization.",
        "By Definition 8, critical points are unambiguous in tokenization.",
        "0"
      ]
    },
    {
      "heading": "Corollary",
      "text": [
        "For any character string on a complete tokenization dictionary, its critical fragments are the longest substrings with all inner positions ambiguous."
      ]
    },
    {
      "heading": "Proof",
      "text": [
        "By Theorem 2.",
        "0"
      ]
    },
    {
      "heading": "3.4 Discussion",
      "text": [
        "In this section, we have described sentence tokenization ambiguity from three different angles: character strings, tokenizations, and individual string positions.",
        "The basic idea is conceptually simple: ambiguity exists when there are different means to the same end.",
        "For instance, as long as a character string has multiple tokenizations, it is ambiguous.",
        "This description of ambiguity is complete.",
        "Given a character string and a dictionary, it is always possible to answer deterministically whether or not a string is ambiguous in tokenization.",
        "Conceptually, for any character string, by checking every one of its possible substrings in a dictionary, and then by enumerating all valid word concatenations, all word strings with the character string as their generated character string can be produced.",
        "Just counting the number of such word strings will provide the answer to whether or not the character string is ambiguous.",
        "Some researchers question the validity of the complete dictionary assumption.",
        "Here we argue that, even in the strictest linguistic sense, there exists no single character that cannot be used as a single-character word in sentences.",
        "In any case, any natural language must allow us to directly refer to single characters.",
        "For instance, you could say \"character x has many written forms\" or \"the character x in this word can be omitted\" for any character x.'",
        "3 Even so, some researchers might still insist that the character x here is just for temporary use and cannot be regarded as a regular word with the many linguistic properties generally associated with words.",
        "Understanding the importance of such a distinction, we will use the more generic term token, rather than the loaded term word, when we need to highlight the distinction.",
        "It must be added, however, that the two are largely used interchangeably in this paper.",
        "The validity of the complete dictionary assumption can also be justified from an engineering perspective.",
        "To ensure a so-called soft landing, any practical application system must be designed so that every input character string can always be tokenized.",
        "In other words, a complete dictionary is an operational must.",
        "Moreover, without such a complete dictionary, it would not be possible to avoid ill-formedness in sentence tokenization nor to make the generation-tokenization system for character and words closed and complete.",
        "Without such definitions of well-formedness, any rigorous formal study would be impossible.",
        "The concepts of critical point and critical fragment are fundamental to our sentence tokenization theory.",
        "By adopting the complete dictionary assumption, it has been proven that critical points are all and only unambiguous token boundaries while critical fragments are the longest substrings with all inner positions ambiguous.",
        "This is a very strong and significant statement.",
        "It provides us with a precise understanding of what and where tokenization ambiguities are.",
        "Although the proof itself is easy to follow, the result has nonetheless been a surprise.",
        "As demonstrated in Guo (1997), many researchers have tried but failed to answer the question in such a precise and complete way.",
        "Consequently, while they proposed many sophisticated algorithms for the discovery of ambiguity (and certainty), they never were able to arrive at such a concise and complete solution.",
        "As critical points are all and only unambiguous token boundaries, an identification of all of them would allow for a long character string to be broken down into several short but fully ambiguous critical fragments.",
        "As shown in Guo (1997), critical points can be completely identified in linear time.",
        "Moreover, in practice, most critical fragments are dictionary tokens by themselves, and the remaining nondictionary fragments are generally very short.",
        "In short, the understanding of critical points and fragments will significantly assist us in both efficient tokenization implementation and tokenization ambiguity resolution.",
        "The concepts of critical point and critical fragment are similar to those of segment point and character segment in Wang (1989, 37), which were defined on a sentence word graph for the purpose of analyzing the computational complexity of his new tokenization algorithm.",
        "However, Wang (1989) neither noticed their connection with tokenization ambiguities nor realized the importance of the complete dictionary assumption, and hence failed to demonstrate their crucial role in sentence tokenization."
      ]
    },
    {
      "heading": "4. Critical Tokenization",
      "text": [
        "This section seeks to disclose an important structure of the set of different tokenizations.",
        "We will see that different tokenizations can be linked by the cover relationship to form a partially ordered set.",
        "Based on that, we will establish the notion of critical tokenization and prove that every tokenization is a subtokenization of a critical tokenization, but no critical tokenization has true supertokenization."
      ]
    },
    {
      "heading": "4.1 Cover Relationship Definition 9",
      "text": [
        "Let X and Y be word strings.",
        "X covers Y, or X has a cover relation to Y, denoted X < Y, if for any substring Xs of X, there exists substring Y, of Y, such that I Xs 1 < Yand G(X) = G(Ys).",
        "If X < Y, then X is called a covering word string of Y, and Y a covered word string of X.",
        "Intuitively, X < Y implies I XI < YI• In other words, shorter word strings cover longer word strings.",
        "However, an absence of X < Y does not imply the existence of"
      ]
    },
    {
      "heading": "Definition 9'",
      "text": [
        "Let A and B be sets of word strings.",
        "A covers B, or A has a cover relation to B, denoted A <B, if for any Y e B, there is X E A, such that X < Y.",
        "If A <B, A is called a covering word string set of B, and B a covered word string set of A."
      ]
    },
    {
      "heading": "Example 3",
      "text": [
        "Given the alphabet E ---- fa,b,c, dl, dictionary D = {a,b,c,d,ab,bc,cd,abc,bcd}, and character string S = abcd from the alphabet, there is TD(S) = falblcld,alblcd,albc1d,albcd, ablcld, ablcd, abc1c11.",
        "Among them, there are fabc1d1 < {ablcld, albcId}, {ablcd} < {ablcld, alblcd}, {albcd} < {albc1d, alblcd} and {ablcld, albc1d, alblcd} < falb1c1c11.",
        "Moreover, there is {abc1d, ablcd, albcd} < TD(S)."
      ]
    },
    {
      "heading": "4.2 Partially Ordered Set Lemma 2",
      "text": [
        "The cover relation is transitive, reflexive, and antisymmetric.",
        "That is, the cover relation is a (reflexive) partial order.",
        "Lemma 2, proved in Guo (1997), reveals that the cover relation is a partial order – a well-defined mathematical structure with good mathematical properties.",
        "Consequently, from any textbook on discrete mathematics (Kolman and Busby [1987], for example), it is known that the tokenization set TD(S), together with the word string cover relation <, forms a partially ordered set, or simply a poset.",
        "We shall denote this poset by (TD(S), <).",
        "In case there is no confusion, we may refer to the poset simply as TD(S).",
        "In the literature, usually a poset is graphically presented in a Hasse diagram, which is a digraph with vertices representing poset elements and arcs representing direct partial order relations between poset elements.",
        "In a Hasse diagram, all connections implied by the partial order's transitive property are eliminated.",
        "That is, if X < Y and Y < Z, there should be no arc from X to Z.",
        "Example 3 (cont.)",
        "The poset TD(abcd) = {alblcld, alblcd, albc1d, albcd, ablcld, ablcd, abcId} can be graphically presented in the Hasse diagram in Figure 1.",
        "Certain elements in a poset are of special importance for many of the properties and applications of posets.",
        "In this paper, we are particularly interested in the minimal elements and least elements.",
        "In standard textbooks, they are defined in the following manner: Let (A, <) be a poset.",
        "An element a E A is called a minimal element of A if there is no element c E A, c a, such that c < a.",
        "An element a E A is called a least element of A if a < x for all x E A.",
        "(Kolman and Busby 1987, 195-196).",
        "The Hasse diagram for the poset TD(abcd) = falblcld, alblcd, albcld, albcd, ablcld, ablcd, abcIdl.",
        "Example 1 (cont.)",
        "The word string \"this is his book\" is both the minimal element and the least element of both TD(thisishisbook) {\"this is his book\"} and TD, (thisishisbook) = {\"th is is his book\", \"this is his book\"}.",
        "Example 2 (cont.)",
        "The poset TD(fundsand) = {\"funds and\", \"fund sand\"} has both \"funds and\" and \"fund sand\" as its minimal elements, but has no least element.",
        "Example 3 (cont.)",
        "The poset TD(abcd) = {a/b/c/d, a/b/cd, a/bc/d, a/bcd, ab/c/d, ab/cd, abc/d} has three minimal elements: abc/d, ab/cd, a/bcd.",
        "It has no least element.",
        "Note that any finite nonempty poset has at least one minimal element.",
        "Any poset has at most one least element (Kolman and Busby 1987, 195-198)."
      ]
    },
    {
      "heading": "4.3 Critical Tokenization",
      "text": [
        "This section deals with the most important concept – critical tokenization.",
        "Let E be an alphabet, D a dictionary over the alphabet, and S a character string over the alphabet.",
        "In this case, (TD(S), <) is the poset."
      ]
    },
    {
      "heading": "Definition 10",
      "text": [
        "The character string critical tolkenization operation CD is a mapping CD: E* 2D* defined as: for any S in E*, CD(S) {W I W is a minimal element of the poset (TD(S),<)}.",
        "Any word string W in CD(S) is a critically tokenized word string, or simply a critical tokenization, or CT tokenization for short, of the character string S. And CD(S) is the set of critical tokenizations.",
        "In other words, the critical tokenization operation maps any character string to its set of critical tokenizations.",
        "A word string is critical if any other word string does not cover it.",
        "Example 1 (cont.)",
        "Given the English alphabet, the tiny Dictionary D -= {th, this, is, his, book}, and the character string S = thisishisbook, there is CD(S) = {\"this is his book\"}.",
        "This critical tokenization set contains the unique critical tokenization \"this is his book\".",
        "Note that the only difference between \"this is his book\" and \"th is is his book\" is that the word this in the former is split into two words th and is in the latter.",
        "Example 2 (cont.)",
        "Given the English alphabet, the tiny Dictionary D = {fund, funds, and, sand}, and the character string S = fundsand, there is CD(S) = {\"funds and\", \"fund sand\"}.",
        "Given the English alphabet, the tiny Dictionary D = {the, blue, print, blueprint}, and the character string S = theblueprint, there are TD(S) = {\"the blueprint\", \"the blue print\"} and CD(S) {\"the blueprint\"}.",
        "Note that the tokenization \"the blue print\" is not critical (not a critical tokenization)."
      ]
    },
    {
      "heading": "4.4 Super and SubTokenization",
      "text": [
        "Intuitively, a tokenization is a subtokenization of another tokenization if further tokenizing words in the latter can produce the former.",
        "Formally, let S be a character string over an alphabet E and let D be a dictionary over the alphabet.",
        "In addition, let",
        "The tokenization \"th is is his book\" is a subtokenization of the critical tokenization \"this is his book\" Example 4 (cont.)",
        "The tokenization \"the blue print\" is a subtokenization of the critical tokenization \"the blueprint\"."
      ]
    },
    {
      "heading": "4.5 Theorem Lemma 3",
      "text": [
        "Y is a subtokenization of X if and only if X < Y."
      ]
    },
    {
      "heading": "Proof",
      "text": [
        "single word x.",
        "As any single word in a word string is also its single-word substring, it can be concluded that for any word x in X, there exists a substring Y, of Y, such that x = G(Ys).",
        "On the other hand, if Y is a subtokenization of X, by definition, for any word x in X, there exists a substring Y, of Y such that x G(1().",
        "Thus, given any substring X, of X, X, =- ... xn, for any k, 1 <k < n, there exists a substring Yk of Y such that xk = G(Yk).",
        "Denote Y, there is I Xs1 < I Ysi and G(X5) -= G(Ys).",
        "By definition, there is X < Y.",
        "0 Lemma 3 reveals that a word string is covered by another word string if and only if every word in the latter is realized in the former as a word string.",
        "In other words, a covering word string is in a more compact form than its covered word string."
      ]
    },
    {
      "heading": "Theorem 3",
      "text": [
        "Every tokenization has a critical tokenization as its supertokenization, but critical tokenization has no true supertokenization.",
        "That is, for any tokenization Y, Y E TD (S), there exists critical tokenization X, X E CD(S), such that X is a supertokenization of Y.",
        "Moreover, if Y is a critical tokenization and X is its supertokenization, there is X = Y."
      ]
    },
    {
      "heading": "Proof",
      "text": [
        "By definition, for any tokenization Y, Y E TD(S), there is a critical tokenization X, X E CD(S), such that X < Y.",
        "By Lemma 3, it would be the same as saying that X is a supertokenization of Y.",
        "The second part of the theorem is from the definition of critical tokenization.",
        "0 Theorem 3 states that no critical tokenization can be produced by further tokenizing words in other tokenizations.",
        "However, all other tokenizations can be produced from at least one critical tokenization by further tokenizing words in it.",
        "Example 3 (cont.)",
        "Given TD(S) = {alblcId, alblcd, albc1d, albcd, abIcld, ablcd, abc1d}, there is CD(S) = {abc1d, ab I cd, a lbcd} < TD(S).",
        "By splitting the word abc in abc d E CD(S) into alb I c, ablc or albc, we can make another three tokenizations in TD(S): alblcId, ablcld and albcId.",
        "Similarly, from ablcd, we can bring back alblcId, abIcld and alblcd; and from abcId, we can recover alblcId,ablcId and albcId.",
        "By merging all word strings produced together with word strings in CD(S) = {abc1d, ablcd, albcd}, the entire tokenization set TD (S) is reclaimed."
      ]
    },
    {
      "heading": "4.6 Discussion",
      "text": [
        "Since the theory of partially ordered sets is well established, we can use it to enhance our understanding of the mathematical structure of string tokenization.",
        "One of the obvious and immediate results is the concept of critical tokenization, which is simply another name for the minimal element set of a poset.",
        "The least element is another important concept.",
        "Although it may seem trivial to the string tokenization problem, the critical tokenization is, in fact, absolutely crucial.",
        "For instance, Theorem 3 states that, from critical tokenization, any tokenization can be produced (enumerated).",
        "As the number of critical tokenizations is normally considerably less than the total amount of all possible tokenizations, this theorem leads us to focus on the study of a few critical",
        "ones.",
        "In the next few sections, we shall further investigate certain important aspects of critical tokenizations."
      ]
    },
    {
      "heading": "5. Critical and Hidden Ambiguities",
      "text": [
        "This section clarifies the relationship between critical tokenization and various types of tokenization ambiguities."
      ]
    },
    {
      "heading": "5.1 Critical Ambiguity in Tokenization Definition 12",
      "text": [
        "Let E be an alphabet, D a dictionary, and S a character string over the alphabet.",
        "The character string S from the alphabet E has critical ambiguity in tokenization on dictionary D if I CD (S) I > 1.",
        "S has no critical ambiguity in tokenization if I CD (S) I = 1.",
        "A tokenization W e TD(S) has critical ambiguity in tokenization if there exists another tokenization W' E TD(S), Wf W, such that neither W < W' nor W' < W holds.",
        "Example 2 (cont.)",
        "Since CD(fundsand) =-- {\"funds and\", \"fund sand\"}, i.e., ICD(fundsand)I = 2 > 1, the character string fundsand has critical ambiguity in tokenization.",
        "Moreover, the tokenization \"funds and\" has critical ambiguity in tokenization since there exists another possible tokenization \"fund sand\" such that both \"funds and\" < \"fund sand\" and \"fund sand\" < \"funds and\" do not hold.",
        "Example 4 (cont.)",
        "Since CD(theblueprint) {\"the blueprint\"}, the character string theblueprint does not have critical ambiguity in tokenization.",
        "It helps to clarify that the only difference between the definition of tokenization ambiguity and that of critical ambiguity in tokenization lies in the tokenization set: While tokenization ambiguity is defined on the entire tokenization set TD (S), critical ambiguity in tokenization is defined only on the critical tokenization set CD(S), which is a subset of TD(S).",
        "As all critical tokenizations are minimal elements on the word string cover relationship, the existence of critical ambiguity in tokenization implies that the \"most powerful and commonly used\" (Chen and Liu 1992, 104) principle of maximum tokenization would not be effective in resolving critical ambiguity in tokenization and implies that other means such as statistical inferencing or grammatical reasoning have to be introduced.",
        "In other words, critical ambiguity in tokenization is unquestionably critical.",
        "Critical ambiguity in tokenization is the precise mathematical description of conventional concepts such as disjunctive ambiguity (Webster and Kit [1992, 11081, for example) and overlapping ambiguity (Sun and T'sou [1995, 121], for example).",
        "We will return to this topic in Section 5.4."
      ]
    },
    {
      "heading": "5.2 Hidden Ambiguity in Tokenization Definition 13",
      "text": [
        "Let E be an alphabet, D a dictionary, and S a character string over the alphabet.",
        "The character string S from the alphabet E has hidden ambiguity in tokenization on dictionary D if TD(S) CD(S).",
        "A tokenization W e TD(S) has hidden ambiguity in tokenization if there exists another tokenization E TD (S), WI W, such that W < W'.",
        "Let S = theblueprint, TD(S) = {\"the blueprint\", \"the blue print\"}, and CD(S) = {\"the blueprint\"}.",
        "Since TD (5) CD(S), the character sting theblueprint has hidden ambiguity in tokenization.",
        "Since \"the blueprint\" < \"the blue print\", the character string \"the blueprint\" has hidden ambiguity in tokenization.",
        "Intuitively, a tokenization has hidden ambiguity in tokenization, if some words in it can be further decomposed into word strings, such as \"blueprint\" to \"blue print\".",
        "They are called hidden or invisible because others cover them.",
        "The resolution of hidden ambiguity in tokenization is the aim of the principle of maximum tokenization (Tie 1989; Jie and Liang 1991).",
        "Under this principle, only covering tokenizations win and all covered tokenizations are discarded.",
        "Hidden ambiguity in tokenization is the precise mathematical description of conventional concepts such as conjunctive ambiguity (Webster and Kit [1992, 11081, for example), combinational ambiguity (Liang [1987], for example) and categorical ambiguity (Sun and T'sou [1995, 121], for example).",
        "We will return to this topic in Section 5.4."
      ]
    },
    {
      "heading": "5.3 Ambiguity = Critical + Hidden",
      "text": [
        "Let E be an alphabet, D a dictionary, and S a character string over the alphabet.",
        "Theorem 4 A character string S over an alphabet E has tokenization ambiguity on a tokenization dictionary D if and only if S has either critical ambiguity in tokenization or hidden ambiguity in tokenization."
      ]
    },
    {
      "heading": "Proof",
      "text": [
        "If S has critical ambiguity in tokenization, by definition, there is ICD(S)I > 1.",
        "If S has hidden ambiguity in tokenization, by definition, there is TD(S) CD(S).",
        "In both cases, since CD(S) C TD(S), there must be ITD(S)I > 1.",
        "By definition, S has tokenization ambiguity.",
        "If S has tokenization ambiguity, by definition, there is I TD(S)I > 1.",
        "Since any finite nonempty poset has at least one minimal element, there is ICD(S)I > 0.",
        "Since CD(S) C TD(S), there is TD(S) CD(S) if ICD(S)I = 1.",
        "In this case, by definition, S has hidden ambiguity in tokenization.",
        "If I CD(S)I > 1, by definition, S has critical ambiguity in tokenization.",
        "Ci Theorem 4 explicitly and precisely states that tokenization ambiguity is the union of critical ambiguity in tokenization and hidden ambiguity in tokenization.",
        "This result helps us in the understanding of character string tokenization ambiguity."
      ]
    },
    {
      "heading": "5.4 Discussion",
      "text": [
        "By freezing the problem of token identity determination, tokenization ambiguity identification and resolution are all that is required in sentence tokenization.",
        "Consequently, it must be crucial and beneficial to pursue an explicit and accurate understanding of various types of character string tokenization ambiguities and their relationships.",
        "In the literature, however, the general practice is not to formally define and classify ambiguities but to apply various terms to them, such as overlapping ambiguity and combinational ambiguity in their intuitive and normally fuzzy senses.",
        "Nevertheless, efforts do exist to rigorously assign them precise, formal meanings.",
        "As a representa",
        "1.",
        "TYPE I: In a sequence of Chinese' characters S = al atbi bj, if",
        "al at, b1 bj, and S are each a word, then there is conjunctive ambiguity in S. The segment S. which is itself a word, contains other words.",
        "This is also known as multi-combinational ambiguity."
      ]
    },
    {
      "heading": "2. TYPE II: In a sequence of Chinese characters S = al . aibi bici ck, if",
      "text": [
        "al ... b) and b1 ck are each a word, then S is an overlapping ambiguous segment, or in other words, the segment S displays disjunctive ambiguity.",
        "The segment b1 bj is known as an overlap, which is usually one character long.",
        "The definitions above contain nothing improper.",
        "In fact, conjunctive (combinational) ambiguity as defined above is a special case of hidden ambiguity in tokenization, since \"al atbi .1)1\" < \"a1 a,/ bi\".",
        "Moreover, disjunctive (overlapping) ambiguity is a special case of critical ambiguity in tokenization, since for the character string S = atbi .bici ck, both \"al atbi bi / ci ck\" and \"a1 .",
        "a, bi bici .",
        ".",
        ".",
        "ck\" are critical tokenizations.",
        "The definitions above, however, are neither complete nor critical.",
        "In our opinion, a definition is complete only if any phenomenon in the problem domain can be properly described (defined).",
        "With regard to the character string tokenization problem proper, this completeness requirement can be translated as: given an alphabet, a dictionary, and a character string, the definition should be sufficient to answer the following two questions: (1) does this character string have tokenization ambiguity?",
        "(2) if yes, what type of ambiguity does it have?",
        "The definitions above cannot fulfill this completeness requirement.",
        "For instance, if al ... at, b1 bi, ck, and al atbi bici ck are all words in a dictionary, the character string S = al atbi bici ck, while intuitively in Type I (conjunctive ambiguity), is, in fact, captured neither by Type I nor by Type II.",
        "We agree that, although to do so would not be trivial, it is nevertheless possible to make the definitions above complete by carefully listing and including all possible cases.",
        "However, criticality, which is what is being explored in this paper, would most probably still not be captured in such a carefully generalized ambiguity definition.",
        "What we believe to be crucial is the association between tokenization ambiguity and the maximization or minimization property of the partially ordered set on the cover relation.",
        "As will be illustrated later in this paper, such an association is exceptionally important in attempting to understand ambiguities and in developing disambiguation strategies.",
        "In short, both the cover relation and critical tokenization have given us a clear picture of character string tokenization ambiguity as expressed in Theorem 4."
      ]
    },
    {
      "heading": "6. Maximum Tokenization",
      "text": [
        "This section clarifies the relationship between critical tokenization (CT) and three other representative implementations of the principle of maximum tokenization, i.e., forward maximum tokenization (FT), backward maximum tokenization (BT) and shortest tokenization (ST).",
        "It will be proven that ST, FT and BT are all true subclasses of CT."
      ]
    },
    {
      "heading": "6.1 Forward Maximum Tokenization",
      "text": [
        "Let E be an alphabet, D a dictionary on the alphabet, and S a character string over the alphabet.",
        "This definition is in fact a descriptive interpretation of the widely recommended conventional constructive forward maximum tokenization procedure (Liu 1986a, 1986b; Liang 1986, 1987; Chen and Liu 1992; Webster and Kit 1992).",
        "FD(S) = {\"the blueprint\"}, i.e., the word string \"the blueprint\" is the only FT tokenization for the character string S = the blueprint."
      ]
    },
    {
      "heading": "Lemma 4",
      "text": [
        "For all S E E*, there are IFD(S)I <1 and FD(S) c CD (S).",
        "That is to say, any character string has, at most, a single FT tokenization.",
        "Moreover, if the FT tokenization exists, it is a CT tokenization."
      ]
    },
    {
      "heading": "Proof",
      "text": [
        "Certain character strings do not have FT tokenization on some dictionaries, even if they have many possible tokenizations.",
        "For example, given the alphabet E = {a, b, c, d} and the dictionary D = {a, abc, bcd}, there is TD(abcd) = {a/bcd}.",
        "But the single tokenization does not fulfill condition (3) in the definition above for k = 1, because the longer word abc exists in the dictionary."
      ]
    },
    {
      "heading": "Guo Critical Tokenization",
      "text": [
        "Assume both X = Xi ... xn, and Y = yni, are FT tokenizations, X 0 Y.",
        "Then, there must exist k, 1 < k < min(m, m'), such that xe = ye, for all k', 1 < k' < k, but xk yk.",
        "Since G(X) = G(Y), there must be xkl 0 lYk I. Consequently, either X or Y is unable to fulfill condition (3) of definition 14.",
        "By contradiction, there must be X = Y.",
        "In other words, any character string at most has single FT tokenization.",
        "Assume the FT tokenization X = x1 ....xm is not a CT tokenization.",
        "By Theorem 3, there must exist a CT tokenization Y = ym, such that X 0 Y and Y < X.",
        "Thus, by the cover relation definition, for any substring Y, of Y, there exists substring X, of X, such that I YS I < XI and G(X) = G(Ys).",
        "Since X 0 Y, there must exist k, 1 <k < min(m,m'), such that xe = ye, for all k', 1 < k' < k, but JxkI yk I.",
        "This leads to a conflict with condition (3) in the definition.",
        "In other words, X cannot be an FT tokenization if it is not a CT tokenization."
      ]
    },
    {
      "heading": "6.2 Backward Maximum Tokenization",
      "text": [
        "Let E be an alphabet, D a dictionary on the alphabet, and S a character strings over the alphabet."
      ]
    },
    {
      "heading": "Definition 15",
      "text": [
        "A tokenization W = Wm E TD (5) is a backward maximum tokenization of S over E and D, or BT tokenization for short, if for any k, 1 <k < m, there exist i and j, 1 <1 <j < n, such that",
        "1.",
        "G(Wk+i • • • Wm) = Cj+1 • • • Cm, 2. wk = ci and 3.",
        "For any i', 1 < <i, there is ...Ci 0 D.",
        "The backward maximum tokenization operation is a mapping BD: E* 2D* defined as: for any S E E*, BD(S) {W I W is a BT tokenization of S over E and D}.",
        "This definition is in fact a descriptive interpretation of the widely recommended conventional constructive backward maximum tokenization procedure (Liu 1986a, 1986b; Liang 1986, 1987; Chen and Liu 1992; Webster and Kit 1992).",
        "Example 3 (cont.)",
        "For the character string S = abcd, the word string a/bcd is the only BT tokenization in TD(S) = {a/b/c/d, a/b/cd, a/bc/d, a/bcd, ab/c/d, ab/cd, abc/d}.",
        "That is, BD(S) = {a/bcd}.",
        "Example 2 (cont.)",
        "For the character string S = fundsand, there is BD(fundsand) = {\"fund sand\"}.",
        "That is, the word string \"fund sand\" is the only BT tokenization.",
        "Example 4 (cont.)",
        "For the character string S = theblueprint, there is BD(S) = {\"the blueprint\"}.",
        "That is, the word string \"the blueprint\" is the only BT tokenization.",
        "Lemma 5 For all S E E*, there are IBD(S)I <1 and BD(S) c cp(s).",
        "That is, any character string has at most one BT tokenization.",
        "Moreover, if the BT tokenization exists, it is a CT tokenization."
      ]
    },
    {
      "heading": "Proof",
      "text": [
        "Parallel to the proof for Lemma 4.",
        "0"
      ]
    },
    {
      "heading": "6.3 Shortest Tokenization Definition 16",
      "text": [
        "The shortest tokenization operation SD is a mapping SD: E* – › 2D* defined as: for any S in E*, SD(S)-= {W I IWI= Every tokenization Win SD(S) is a shortest tokenization, or ST tokenization for short, of the character string S. In other words, a tokenization W of a character string S is a shortest tokenization if and only if the word string has the minimum word string length among all possible tokenizations.",
        "This definition is in fact a descriptive interpretation of the constructive shortest path finding tokenization procedure proposed by Wang (1989) and Wang, Wang, and Bai (1991).",
        "Example 3 (cont.)",
        "Given the character string S = abcd.",
        "For the dictionary D = {a, b, c, d, ab, bc, cd, abc, bcd} , both abc/d and a/bcd are ST tokenizations in TD(S) = {a/b/c/d, a/b/cd, a/bc/d, a/bcd, ab/c/d, ab/cd, abc/d}.",
        "That is, SD(S) = {abc/d, a/bcd}.",
        "For D' = {a,b,c,d,ab,bc,cd}, however, there is Sly (S) = {ab/cd}.",
        "Note, in this case, the CT tokenization a/bc/d is not in SD, (S).",
        "Example 2 (cont.)",
        "For the character string S = fundsand, there is SD(fundsand) = {\"funds and\", \"fund sand\"}.",
        "That is, both \"funds and\" and \"fund sand\" are ST tokenizations.",
        "Example 4 (cont.)",
        "For the character string S = theblueprint, there is SD(S) = {\"the blueprint\"}.",
        "That is, the word string \"the blueprint\" is the only ST tokenization."
      ]
    },
    {
      "heading": "Lemma 6",
      "text": [
        "SD(S) C CD(S) for all S E E*• That is, every ST tokenization is a CT tokenization."
      ]
    },
    {
      "heading": "Proof",
      "text": [
        "Let X be an ST tokenization, X E SD(S).",
        "Assume Xis not a CT tokenization, X CD(S).",
        "Then, by Theorem 3, there exists a CT tokenization Y CD(S), Y 0 X, such that Y < X.",
        "By the definition of the cover relation, there is I YI < IXI.",
        "In fact, as X 0 Y, there must be I YI < IXI.",
        "This is in conflict with the fact that X is an ST tokenization.",
        "Hence, the lemma is proven by contradiction.",
        "0"
      ]
    },
    {
      "heading": "6.4 Theorem Theorem 5",
      "text": [
        "FD(S)UBD(S) C CD(S) and SD(S) C CD(S) for all S E E. Moreover, there exists S E E*, such that FD(S) U BD(S) CD(S) or SD(S) CD(S).",
        "That is, the forward maximum tokenization, the backward maximum tokenization, and the shortest tokenization are all true subclasses of critical tokenization."
      ]
    },
    {
      "heading": "Proof",
      "text": [
        "The first part is the combination of Lemma 4, 5, and 6.",
        "The second part is exemplified by Example 3 above.",
        "El"
      ]
    },
    {
      "heading": "6.5 Principle of Maximum Tokenization",
      "text": [
        "The three tokenization definitions in this section are essentially descriptive restatements of the corresponding constructive tokenization procedures, which in turn are realizations of the widely followed principle of maximum tokenization (e.g., Liu 1986; Liang 1986a, 1986b; Wang 1989; Jie 1989; Wang, Su, and Mo 1990; Jie, Liu, and Liang 1991a, b; Yeh and Lee 1991; Webster and Kit 1992; Chen and Liu 1992; Guo 1993; Wu and Su 1993; Nie, Jin, and Hannan 1994; Sproat et al.",
        "1996; Wu et al.",
        "1994; Li et al.",
        "1995; Sun and T'sou 1995; Wong et al.",
        "1995; Bai 1995; Sun and Huang 1996).",
        "The first work closest to this principle, according to Liu (1986, 1988), was the 5-4-3-2-1 tokenization algorithm proposed by a Russian MT practitioner in 1956.",
        "This algorithm is a special version of the greedy-type implementation of the forward maximum tokenization and is still in active use.",
        "For instance, Yun, Lee, and Rim (1995) recently applied it to Korean compound tokenization.",
        "It is understood that forward maximum tokenization, backward maximum tokenization and shortest tokenization are the three most representative and widely quoted works following the general principle of maximum tokenization.",
        "However, the principle itself is not crystal-clear in the literature.",
        "Rather, it only serves as a general guideline, as different researchers make different interpretations.",
        "As Chen and Liu (1992, 104) noted, \"there are a few variations of the sense of maximal matching.\"",
        "Hence, many variations have been derived after decades of fine-tuning and modification.",
        "As Webster and Kit (1992, 1108) acknowledged, different realizations of the principle \"were invented one after another and seemed inexhaustible.\"",
        "While researchers generally agree that a dictionary word should be tokenized as itself, they usually have different opinions on how a non-dictionary word (critical) fragment should be tokenized.",
        "While they all agree that a certain form of extremes must be attained, they nevertheless have their own understanding of what the form should be.",
        "Consequently, it should come as no surprise to see various kinds of theoretical generalization or summarization work in the literature.",
        "A good representative work is by Kit and his colleagues (Jie 1989; Jie, Liu, and Liang 1991a, b; Webster and Kit 1992), who proposed a three-dimensional structural tokenization model.",
        "This model, called ASM for Automatic Segmentation Model, is capable of characterizing up to eight classes of different maximum or minimum tokenization procedures.",
        "Among the eight procedures, based on both analytical inferences and experimental studies, both forward maximum tokenization and backward maximum tokenization are recommended as good solutions.",
        "Unfortunately, in Webster and Kit (1992, 1108), they unnecessarily made the following overly strong claim: It is believed that all elemental methods are included in this model.",
        "Furthermore, it can be viewed as the ultimate model for methods of string matching of any elements, including methods for finding English idioms.",
        "The shortest tokenization proposed by Wang (1989) provides an obvious counterexample.",
        "As Wang (1989) exemplified', for the alphabet E = {a, b, c, d, e} and the",
        "dictionary D = fa,b,c,d,e,ab,bc,cd,del, the character string S = abcde has FT set FD(S) = fablcdlel, BT set BD(S) = {albcIde} and ST set SD(S) = {ablcdle, albcIde, ablcIde}.",
        "Clearly, the ST tokenization ablcIde, which fulfills the principle of maximum tokenization and is the desired tokenization in some cases, is neither FT nor BT tokenization.",
        "Moreover, careful checking showed that the missed ST tokenization is not in any of the eight tokenization solutions covered by the ASM model.",
        "In short, the ASM model is not a complete interpretation of the principle of maximum tokenization.",
        "Furthermore, the shortest tokenization still does not capture all the essences of the principle.",
        "For instance, given the alphabet E = {a, b,c,d} and the dictionary D = {a,b,c,d,ab,bc,cd}, the character string S = abcd has the same tokenization set FD (5) = BD(S) = SD(S) = {ablcd} for FT. BT and ST, but a different CT tokenization set CD(S) = {ablcd, albc1d}.",
        "In other words, the CT tokenization albcld is left out in all the other three sets.",
        "As the tokenization albcld is not a subtokenization of any other possible tokenizations, it fulfills the principle of maximum tokenization.",
        "It is now clear that, while the principle of maximum tokenization is very useful in sentence tokenization, it lacks precise understanding in the literature.",
        "Consequently, no solution proposed in the literature is complete with regards to realizing the principle.",
        "Recall that, in the previous sections, the character string tokenization operation was modeled as the inverse of the generation operation.",
        "Under the tokenization operation, every character string can be tokenized into a set of different tokenizations.",
        "The cover relationship between tokenizations was recognized and the set of tokenizations was proven to be a poset (partially ordered set) on the cover relationship.",
        "The set of critical tokenizations was defined as the set of minimum elements in the poset.",
        "In addition, it was proven that every tokenization has at least one critical tokenization as its supertokenization and only critical tokenization has no true supertokenization.",
        "Consequently, a noncritical tokenization would conflict with the principle of maximum tokenization, since it is a true subtokenization of others.",
        "As compared with its true supertokenization, it requires the extra effort of subtokenization.",
        "On the other hand, a critical tokenization would fully realize the principle of maximum tokenization, since it has already attained an extreme form and cannot be simplified or compressed further.",
        "As compared with all other tokenizations, no effort can be saved.",
        "Based on this understanding, it is now apparent why forward maximum tokenization, backward maximum tokenization, and shortest tokenization are all special cases of critical tokenization, but not vice versa.",
        "In addition, it has been proven, in Guo (1997), that critical tokenization also covers other types of maximum tokenization implementations such as profile tokenization and shortest tokenization.",
        "We believe that critical tokenization is the only type of tokenization completely fulfilling the principle of maximum tokenization.",
        "In other words, critical tokenization is the precise mathematical description of the commonly adopted principle of maximum tokenization."
      ]
    },
    {
      "heading": "7. Further Discussion",
      "text": [
        "This section explores some helpful implications of critical tokenization in effective tokenization disambiguation and in efficient tokenization implementation."
      ]
    },
    {
      "heading": "7.1 String Generation and Tokenization versus Language Derivation and Parsing",
      "text": [
        "The relationship between the operations of sentence derivation and sentence parsing in the theory of parsing, translation, and compiling (Aho and Ullman 1972) is an obvious analogue with the relationship between the operations of character string generation and character string tokenization that are defined in this paper.",
        "As the former pair of operations is well established, and has great influence in the literature of sentence tokenization, many researchers have, either consciously or unconsciously, been trying to transplant it to the latter.",
        "We believe this worthy of reexamination.",
        "Normally, sentence derivation and parsing are governed by complex grammars.",
        "Consequently, the bulk of the work has been in developing, representing, and processing grammar.",
        "Although it is a well known fact that some sentences may have several derivations or parses, the focus has always been either on (1) grammar enhancement, such as introducing semantic categories and consistency checking rules (selectional restrictions), not to mention those great works on grammar formalisms, or on (2) ambiguity resolution, such as introducing various heuristics and tricks including leftmost parsing and operator preferences (Aho and Ullman 1972; Aho, Sethi, and Ullman 1986; Allen 1995; Grosz, Jones, and Webber 1986).",
        "Following this line, we observed two tendencies in tokenization research.",
        "One is the tendency to bring every possible knowledge source into the character string generation operation.",
        "For example, Gan (1995) titled his Ph.D. dissertation Integrating Word Boundary Disambiguation with Sentence Understanding.",
        "Here, in addition to traditional devices such as syntax and semantics, he even employed principles of psychology and chemistry, such as crystallization.",
        "Another is the tendency of enumerating almost blindly every heuristic and trick possible in ambiguity resolution.",
        "As Webster and Kit (1992, 1108) noted, \"segmentation methods were invented one after another and seemed inexhaustible.\"",
        "For example, Chen and Liu (1992) acknowledged that the heuristic of maximum matching alone has \"many variations\" and tested six different implementations.",
        "We are not convinced of the effectiveness and necessity of both of the schools of tokenization research.",
        "The principle argument is, while research is by nature trial-and-error and different knowledge sources contribute to different facets of the solution, it is nonetheless more crucial and productive to understand where the core of the problem really lies.",
        "As depicted in this paper, unlike general sentence derivation for complex natural languages, the character string generation process can be very simple and straightforward.",
        "Many seemingly important factors such as natural language syntax and semantics do not assume fundamental roles in the process.",
        "They are definitely helpful, but only at a later stage.",
        "Moreover, as emphasized in this paper, the tokenization set has some very good mathematical properties.",
        "By taking advantage of these properties, the tokenization problem can be greatly simplified.",
        "For example, among the huge number of possible tokenizations, we can first concentrate on the much smaller.",
        "critical tokenization set, since the former can be completely reproduced from the latter.",
        "Furthermore, by contrasting critical tokenizations, we can easily identify a few critically ambiguous positions, which allows us to avoid wasting energy at useless positions."
      ]
    },
    {
      "heading": "7.2 Critical Tokenization and the Syntactic Graph",
      "text": [
        "These syntactically ambiguous points are critical in at least two senses.",
        "First, they are the only problems requiring knowledge and heuristics beyond the existing syntax.",
        "In other words, any syntactic or semantics development should be guided by ambiguity resolution at these points.",
        "If a semantic enhancement does not interact with any of these points, the enhancement is considered ineffective.",
        "If a grammar revision in turn leads to additional syntactically ambiguous points, such a revision would be in the wrong direction.",
        "Second, these syntactically ambiguous points are critical in efficiently resolving ambiguity.",
        "After all, these points are the only places where disambiguation decisions must be made.",
        "Ideally, we should invest no energy in investigating anything that is irrelevant to these points.",
        "However, unless all parse trees are merged together to form the syntactic graph, the only thing feasible is to check every possible position in every parse tree by applying all available knowledge and every possible heuristic, since we are unaware of the effectiveness of any checking that occurs beforehand.",
        "The critical tokenization introduced in this paper has a similar role in string tokenization to that of the syntactic graph in sentence parsing.",
        "By Theorem 3, critical tokenization is, in essence, the union of the whole tokenization set and thus the compact representation of it.",
        "As long as the principle of maximum tokenization is accepted, the resolution of critical ambiguity in tokenization is the only problem requiring knowledge and heuristics beyond the existing dictionary.",
        "In other words, any introduction of \"high-level\" knowledge must at least be effective in resolving some critical ambiguities in tokenization.",
        "This should be a fundamental guideline in tokenization research.",
        "Even if the principle of maximum tokenization is not accepted, critical ambiguity in tokenization must nevertheless be resolved.",
        "Therefore, any investment, as mentioned above, will not be a waste in any sense.",
        "What needs to be undertaken now is to substitute something more precise for the principle of maximum tokenization.",
        "It is only at this stage that we touch on the problem of identifying and resolving hidden ambiguity in tokenization.",
        "That is one of the reasons why this type of ambiguity is called hidden."
      ]
    },
    {
      "heading": "7.3 Critical Tokenization and Best-Path Finding",
      "text": [
        "The theme in this paper is to study the problem of sentence tokenization in the framework of formal languages, a direction that has recently attracted some attention.",
        "For instance, in Ma (1996), words in a tokenization dictionary are represented as production rules and character strings are modeled as derivatives of these rules under a string concatenation operation.",
        "Although not stated explicitly in his thesis, this is obviously a finite-state model, as evidenced from his employment of (finite-) state diagrams for representing both the tokenization dictionary and character strings.",
        "The weighted finite-state transducer model developed by Sproat et al.",
        "(1996) is another excellent representative example. '",
        "They both stop at merely representing possible tokenizations as a single large finite-state diagram (word graph).",
        "The focus is then shifted to the problem of defining scores for evaluating each possible tokenization and to the associated problem of searching for the best-path in the word graph.",
        "To emphasize this point, Ma (1996) explicitly called his approach \"evaluation-based.\"",
        "In comparison, we have continued within the framework and established the critical tokenization together with its interesting properties.",
        "We believe the additional step is worthwhile.",
        "While tokenization evaluation is important, it would be more effective if employed at a later stage.",
        "On the one hand, critical tokenization can help greatly in developing tokenization knowledge and heuristics, especially those tokenization specific understandings, such",
        "as the observation of \"one tokenization per source\" and the trick of highlighting hidden ambiguities by contrasting competing critical tokenizations (Guo 1997).",
        "While it may not be totally impossible to fully incorporate such knowledge and heuristics into the general framework of path evaluation and searching, they are apparently employed neither in Sproat et al.",
        "(1996) nor in Ma (1996).",
        "Further, what has been implemented in the two systems is basically a token unigram function, which has been shown to be practically irrelevant to hidden ambiguity resolution and not to be much better than some simple maximum tokenization approaches such as shortest tokenization (Guo 1997).",
        "On the other hand, critical tokenization can help significantly in boosting tokenization efficiency.",
        "As has been observed, the tokenization of about 98% of the text can be completed in the first parse of critical point identification, which can be done in linear time.",
        "Moreover, as practically all acceptable tokenizations are critical tokenizations and ambiguous critical fragments are generally very short, the remaining 2% of the text with tokenization ambiguities can also be settled efficiently through critical tokenization generation and disambiguation (Guo 1997).",
        "In comparison, if the best path is to be searched on the token graph of a complete sentence, while a simple evaluation function such as token unigram cannot be very effective in ambiguity resolution, a sophisticated evaluation function incorporating multiple knowledge sources, such as language experiences, statistics, syntax, semantics, and discourse as suggested in Ma (1996), can only be computationally prohibitive, as Ma himself acknowledged.",
        "In summary, the critical tokenization is crucial both in knowledge development for effective tokenization disambiguation and in system implementation for complete and efficient tokenization.",
        "Further discussions and examples can be found in Guo (1997)."
      ]
    },
    {
      "heading": "8. Summary",
      "text": [
        "The objective in this paper has been to lay down a mathematical foundation for sentence tokenization.",
        "As the basis of the overall mathematical model, we have introduced both sentence generation and sentence tokenization operations.",
        "What is unique here is our attempt to model sentence tokenization as the inverse problem of sentence generation.",
        "Upon that basis, both critical point and critical fragment constitute our first group of findings.",
        "We have proven that, under a complete dictionary assumption, critical points in sentences are all and only unambiguous token boundaries.",
        "Critical tokenization is the most important concept among the second group of findings.",
        "We have proven that every tokenization has a critical tokenization as its supertokenization.",
        "That is, any tokenization can be reproduced from a critical tokenization.",
        "Critical ambiguity and hidden ambiguity in tokenization constitute our third group of findings.",
        "We have proven that tokenization ambiguity can be categorized as either critical type or hidden type.",
        "Moreover, it has been shown that critical tokenization provides a sound basis for precisely describing various types of tokenization ambiguities.",
        "In short, we have presented a complete and precise understanding of ambiguity in sentence tokenizations.",
        "While the existence of tokenization ambiguities is jointly described by critical points and critical fragments, the characteristics of tokenization ambiguities will be jointly specified by critical ambiguities and hidden ambiguities.",
        "Moreover, we have proven that the three widely employed tokenization algorithms, namely forward maximum matching, backward maximum matching, and shortest",
        "length matching, are all subclasses of critical tokenization and that critical tokenization is the precise mathematical description of the principle of maximum tokenization.",
        "In this paper, we have also discussed some important implications of the notion of critical tokenization in the area of character string tokenization research and development.",
        "In this area, our primary claim is that critical tokenization is an excellent intermediate representation that offers much assistance both in the development of effective tokenization knowledge and heuristics and in the improvement and implementation of efficient tokenization algorithms.",
        "Besides providing a framework to better understand previous work, as has been attempted here, a good formalization should also lead to new questions and insights.",
        "While some of the findings and observations achieved so far (Guo 1997) have been mentioned here, much more work remains to be done."
      ]
    },
    {
      "heading": "Acknowledgments",
      "text": [
        "The author would like to thank Ho-Chung Lui for his supervision, and Kok-Wee Gan, Zhibiao Wu, Zhendong Dong, Paul Horng Jyh Wu, Kim-Teng Lua, Chunyu Kit, and Teow-Hin Ngair for many helpful discussions.",
        "The author is also very grateful to four anonymous reviewers for their insightful comments on earlier versions of the paper.",
        "Alexandra Vaz Hugh and Ng Chay Hwee helped in correcting grammar."
      ]
    }
  ]
}
