{
  "info": {
    "authors": [
      "Miguel A. Alonso",
      "David Cabrero",
      "Eric Villemonte De La Clergerie",
      "Manuel Vilares"
    ],
    "book": "Conference of the European Association for Computational Linguistics",
    "id": "acl-E99-1020",
    "title": "Tabular Algorithms for TAG Parsing",
    "url": "https://aclweb.org/anthology/E99-1020",
    "year": 1999
  },
  "references": [
    "acl-J93-4002",
    "acl-J94-1004",
    "acl-P85-1011",
    "acl-P87-1015",
    "acl-P88-1032",
    "acl-P98-2217"
  ],
  "sections": [
    {
      "heading": "Abstract",
      "text": [
        "We describe several tabular algorithms for Tree Adjoining Grammar parsing, creating a continuum from simple pure bottom-up algorithms to complex predictive algorithms and showing what transformations must be applied to each one in order to obtain the next one in the continuum."
      ]
    },
    {
      "heading": "1 Introduction",
      "text": [
        "Tree Adjoining Grammars are a extension of CFG introduced by Joshi in (Joshi, 1987) that use trees instead of productions as the primary representing structure.",
        "Several parsing algorithms have been proposed for this formalism, most of them based on tabular techniques, ranging from simple bottom-up algorithms (Vijay-Shanker and Joshi, 1985) to sophisticated extensions of the Earley's algorithm (Schabes and Joshi, 1988; Schabes, 1994; Nederhof, 1997).",
        "However, it is difficult to interrelate different parsing algorithms.",
        "In this paper we study several tabular algorithms for TAG parsing, showing their common characteristics and how one algorithm can be derived from another in turn, creating a continuum from simple pure bottom-up to complex predictive algorithms.",
        "Formally, a TAG is a 5-tuple G = (VN ,VT S, I, A), where VN is a finite set of non-terminal symbols, VT a finite set of terminal",
        "symbols, S the axiom of the grammar, I a finite set of initial trees and A a finite set of auxiliary trees.",
        "IUA is the set of elementary trees.",
        "Internal nodes are labeled by non-terminals and leaf nodes by terminals or e, except for just one leaf per auxiliary tree (the foot) which is labeled by the same non-terminal used as the label of its root node.",
        "The path in an elementary tree from the root node to the foot node is called the spine of the tree.",
        "New trees are derived by adjoining: let a be a tree containing a node I‘Tc' labeled by A and let /3 be an auxiliary tree whose root and foot nodes are also labeled by A.",
        "Then, the adjoining of )3 at the adjunction node IV' is obtained by excising the subtree of a with root Na, attaching )3 to N\" and attaching the excised subtree to the foot of )3.",
        "We use E adj(N\") to denote that a tree may be adjoined at node N' of the elementary tree a.",
        "In order to describe the parsing algorithms for TAG, we must be able to represent the partial recognition of elementary trees.",
        "Parsing algorithms for context-free grammars usually denote partial recognition of productions by dotted productions.",
        "We can extend this approach to the case of TAG by considering each elementary tree y as formed by a set of context-free productions P(-y): a node N1' and its children N7 ... /V; arerepre-sented by a production N'Y .",
        ".",
        ".",
        "N. Thus, the position of the dot in the tree is indicated by the position of the dot in a production in P(-y).",
        "The elements of the productions are the nodes of",
        "Proceedings of EACL '99 the tree, except for the case of elements belonging to VT U {e} in the right-hand side of production.",
        "Those elements may not have children and are not candidates to be adjunction nodes, so we identify such nodes labeled by a terminal with that terminal.",
        "To simplify the description of parsing algorithms we consider an additional production T -* R.' for each initial tree and the two additional productions T RO and Pa 1 for each auxiliary tree 0, where RP and FI3 correspond to the root node and the foot node of 13, respectively.",
        "After disabling T and 1 as adjunction nodes the generative capability of the grammars remains intact.",
        "The relation of derivation on 7)(7) is de",
        "ists.",
        "The reflexive and transitive closure of is denoted 3 .",
        "In a abuse of notation, we also use 3 to represent derivations involving an adjunction.",
        "So, 6 3 v if there are S', b\", , v such that S = 6' M1(5\" , RQ 3 v1Vv3, E adj(M7), 11(7 and 1/ = Yv/ v2v36\" .",
        "Given two pairs (p, q) and (i, j) of integers, (p, q) < (i, j) is satisfied if i < p and q < j.",
        "Given two integers p and q we define p U q as p if q is undefined and as q if p is undefined, being undefined in other case."
      ]
    },
    {
      "heading": "1.1 Parsing Schemata",
      "text": [
        "We will describe parsing algorithms using Parsing Schemata, a framework for high-level description of parsing algorithms (Sikkel, 1997).",
        "An interesting application of this framework is the analysis of the relations between different parsing algorithms by studying the formal relations between their underlying parsing schemata.",
        "Originally, this framework was created for context-free grammars but we have extended it to deal with tree adjoining grammars.",
        "A parsing system for a grammar G and string al a„ is a triple (1,7-1, D), with I a set of items which represent intermediate parse results, 74 an initial set of items called hypothesis that encodes the sentence to be parsed, and D a set of deduction steps that allow new items to be derived from already known items.",
        "Deduction steps are of the form 711'..\"71k cond, meaning that if all antecedents 71., of a deduction step are present and the conditions cond are satisfied, then the consequent e should be generated by the parser.",
        "A set .T C I of final items represent the recognition of a sentence.",
        "A parsing schema is a parsing system parameterized by a grammar and a sentence.",
        "Parsing schemata are closely related to grammatical deduction systems (Shieber et al., 1995), where items are called formula schemata, deduction steps are inference rules, hypothesis are axioms and final items are goal formulas.",
        "A parsing schema can be generalized from another one using the following transformations (Sikkel, 1997):",
        "• Item refinement, breaking single items into multiple items.",
        "• Step refinement, decomposing a single deduction step in a sequence of steps.",
        "• Extension of a schema by considering a larger class of grammars.",
        "In order to decrease the number of items and deduction steps in a parsing schema, we can apply the following kinds of filtering:",
        "• Static filtering, in which redundant parts are simply discarded.",
        "• Dynamic filtering, using context information to determine the validity of items.",
        "• Step contraction, in which a sequence of deduction steps is replaced by a single one.",
        "The set of items in a parsing system PAig corresponding to the parsing schema Alg describing a given parsing algorithm Alg is denoted img, the set of hypotheses 9-1A1g, the set of final items .TAlg and the set of deduction steps is denoted Dmg"
      ]
    },
    {
      "heading": "2 A CYK-like Algorithm",
      "text": [
        "We have chosen the CYK-like algorithm for TAG described in (Vijay-Shanker and Joshi, 1985) as our starting point.",
        "Due to the intrinsic limitations of this pure bottom-up algorithm, the grammars it can deal with are restricted to those with nodes having at most two children.",
        "The tabular interpretation of this algorithm works with items of the form",
        "such that N1 3 ai+i ... a, F7 aq+1 ai 3 a,±1 ai if and only if (p, q) ( – , – ) and N1 3 ai+i .",
        "ai if and only if (p, q) = ( – , – ), where N1 is a node of an elementary tree with a label belonging to VN.",
        "The two indices with respect to the input string i and j indicate the portion of the input string that has been derived from N7.",
        "If 7 E A, p and q are two indices with respect to the input string that indicate that part of the input string recognized",
        "Proceedings of EACL '99 by the foot node of -y.",
        "In other case p = q = – representing they are undefined.",
        "The element adj indicates whether adjunction has taken place on node N7.",
        "The introduction of the element adj taking its value from the set {true, false} corrects the items previously proposed for this kind of algorithms in (Vijay-Shanker and Joshi, 1985) in order to avoid several adjunctions on a node.",
        "A value of true indicates that an adjunction has taken place in the node N7 and therefore further adjunctions on the same node are forbidden.",
        "A value of false indicates that no adjunction was performed on that node.",
        "In this case, during future processing this item can play the role of the item recognizing the excised part of an elementary tree to be attached to the foot node of an auxiliary tree.",
        "As a consequence, only one adjunction can take place on an elementary node, as is prescribed by the tree adjoining grammar formalism (Schabes and Shieber, 1994).",
        "As an additional advantage, the algorithm does not need to require the restriction that every auxiliary tree must have at least one terminal symbol in its frontier (Vijay-Shanker and Joshi, 1985).",
        "Schema 1 The parsing systems 113CyK corresponding to the CYK-line algorithm for a tree adjoining grammar G and an input string al .",
        "• • an is defined as follows:",
        "such that N7 E P(7), label(N7) E VN, y E I U A, 0 < i < j, (p, q) < (i, j), adj E {true, false}",
        "The hypotheses defined for this parsing system are the standard ones and therefore they will be omitted in the next parsing systems described in this paper.",
        "The key steps in the parsing system PcyK are DM and DCYK, which are in charge of the recognition of adjunctions.",
        "The other steps are in charge of the bottom-up traversal of elementary trees and, in the case of auxiliary trees, the propagation of the information corresponding to the part of the input string recognized by the foot node.",
        "The set of deductive steps DM make it possible to start the bottom-up traversal of each auxiliary tree, as it predict all possible parts of the input string that can be recognized by the foot nodes.",
        "Several parses can exist for an auxiliary tree which only differs in the part of the input string which was predicted for the foot node.",
        "Not all of them need take part on a derivation, only those with a predicted foot compatible with an adjunction.",
        "The compatibility between the adjunction node and the foot node of the adjoined tree is checked by a derivation step DCYK: when the root of an auxiliary tree 0 has been reached, it checks for the existence of a subtree of an elementary tree rooted by a node N7 which satisfies the following conditions:",
        "1.",
        "0 can be adjoined on N7.",
        "2.",
        "N7 derives the same part of the input string derived from the foot node of /3.",
        "Proceedings of EACL '99 If the conditions are satisfied, further adjunctions on N are forbidden and the parsing process continues a bottom-up traverse of the rest of the elementary tree 7 containing N7."
      ]
    },
    {
      "heading": "3 A Bottom-up Earley-like Algorithm",
      "text": [
        "To overcome the limitation of binary branching in trees imposed by CYK-like algorithms, we define a bottom-up Earley-like parsing algorithm for TAG.",
        "As a first step we need to introduce the dotted rules into items, which are of the form",
        "The items of the new parsing schema, denoted buEi, are obtained by refining the items of CYK.",
        "The dotted rules eliminate the need for the element adj indicating whether the node in the left-hand side of the production has been used as adjunction node.",
        "Schema 2 The parsing system lPb„E corresponding to the bottom-up Earley-like parsing algorithm, given a tree adjoining grammar Q and a input string al ...an is defined as follows:",
        "The deduction steps of PbuE are obtained from the steps in lPcyx applying the following refinement:",
        "• LeftDom, RightDom and NoDom deductive steps have been split into steps Init and Comp.",
        "• Unary and e steps are no longer necessary, due to the uniform treatment of all productions independently of the length of the production.",
        "The algorithm performs a bottom-up recognition of the auxiliary trees applying the steps DbC:En1113 .",
        "During the traversal of auxiliary trees, information about the part of the input string recognized by the foot is propagated bottom-up.",
        "A set of deductive steps TVA are in charge of starting the recognition process, predicting all possible start positions for each rule.",
        "A filter has been applied to the parsing system lPayK , contracting the deductive steps Adj and Comp in a single AdjComp, as the item generated by a deductive step Adj can only be used to advance the dot in the rule which has been used to predict the left-hand side of its production."
      ]
    },
    {
      "heading": "4 An Earley-like Algorithm",
      "text": [
        "An Earley-like parsing algorithm for TAG can be obtained by incorporating top-down prediction.",
        "To do so, two dynamic filters must be applied to FbuE:",
        "• The deductive steps in Dhnit will only consider productions having the root of an initial tree as left-hand side.",
        "red • A new set DE of predictive steps will be",
        "in charge of controlling the generation of new items, considering only those new items which are potentially useful for the parsing process.",
        "Schema 3 The parsing system PE corresponding to an Earley-like parsing algorithm for TAG without the valid prefix property, given a tree adjoining grammar g and a input string al ... an is defined as follows:",
        "Parsing begins by creating the item corresponding to a production having the root of an initial tree as left-hand side and the dot in the leftmost position of the right-hand side.",
        "Then, a set of deductive steps DPred and DEC°mP traverse each ele-in DEAdjPred mentary tree.",
        "A step predicts the adjunction of an auxiliary tree /3 in a node of an elementary tree y and starts the traversal of [3.",
        "Once the foot of /3 has been reached, the traversal of /3 is momentary suspended by a step in DEootPred, which retakes the subtree of 7 which must be attached to the foot of /3.",
        "At this moment, there is no information available about the node in which the adjunction of (3 has been performed, so all possible nodes are predicted.",
        "When the traversal of a predicted subtree has finished, a step in DEFootComp retakes the traversal of /3 continuing at the foot node.",
        "When the traversal of /3 is completely finished, a deduction step in DEAdjC°mP checks if the subtree attached to the foot of /3 corresponds with the adjunction node.",
        "With respect to steps in DEAdjComp p and q are instantiated if and only if the adjunction node is in the spine of y."
      ]
    },
    {
      "heading": "5 The Valid Prefix Property",
      "text": [
        "Parsers satisfying the valid prefix property guarantee that, as they read the input string from left to right, the substrings read so far are valid prefixes of the language defined by the grammar.",
        "More formally, a parser satisfies the valid prefix property if for any substring al ak read from the input string al ... akak+i ... an guarantees that there is a string of tokens b1 .bni, where b2 need not be part of the input string, such that al .",
        "akbi ... bin is a valid string of the language.",
        "To maintain the valid prefix property, the parser must recognize all possible derived trees in prefix form.",
        "In order to do that, two different phases must work coordinately: a top-down phase that expands the children of each node visited and a bottom-up phase grouping the children nodes to indicate the recognition of the parent node (Schabes, 1991).",
        "During the recognition of a derived tree in prefix form, node expansion can depend on adjunction operations performed in the previously visited part of the tree.",
        "Due to this kind of dependencies the set path is a context-free language (Vijay-Shanker et al., 1987).",
        "A bottom-up algorithm (e.g. CYK-like or bottom-up Earley-like) can stack the dependencies shown by the context-free language defining the path-set.",
        "This is sufficient to get a correct parsing algorithm, but without the valid prefix property.",
        "To preserve this property the algorithm must have a top-down phase which also stacks the dependencies shown by the language defining the path-set.",
        "To transform an algorithm without the valid prefix property into another which preserves it is a difficult task because stacking operations performed during top-down and bottom-up phases must be correlated some way and it is not clear how to do so without augmenting the time complexity (Nederhof, 1997).",
        "CYK-like, bottom-up Earley-like and Earley-like parsing algorithms described above do not preserve the valid prefix property because foot-prediction (a top-down operation) is not restrictive enough to guarantee that the subtree attached to the foot node really corresponds with a instance of the tree involved in the adjunction.",
        "To obtain a Earley-like parsing algorithm for tree adjoining grammars preserving the valid prefix property we need to refine the items by including a new element to indicate the position of",
        "Proceedings of EACL '99 the input string corresponding to the leftmost extreme of the frontier of the tree to which the dotted rule in the item belongs:",
        "Thus, an item [Arl' -+ (5 • v,i, j I p, q] of PE corresponds now with a subset of { [h, N7-> 6 • v,i, j I p, q]} for all h E [0, r].",
        "Schema 4 The parsing system IPEarley corresponding to a Earley-like parsing algorithm with the valid prefix property, for a tree adjoining grammar g and a input string al .",
        "an is defined as follows:",
        "YEarley = [0, T Ra•, n I -, -] I a E / } Time complexity of the Earley-like algorithm with respect to the length n of input string is",
        "though 8 indices are involved in a step DAadrfeyomp partial application allows us to reduce the time complexity to 0(n7).",
        "Algorithms without the valid prefix property have a time complexity 0(n6) with respect to the length of the input string.",
        "The change in complexity is due to the additional index in items of l'Eariey• That index is needed to check the trees involved in steps D In the nortePyred and DEarle steps, that index is only propagated to the generated item.",
        "This feature allows us to refine the steps in DEAadriicerP, splitting them into several steps generating intermediate items without that index.",
        "To get a correct slitting, we must first differentiate steps in DEAadrj eyo m p in which p and q are instantiated from steps in DEAadrferP in which p' and q' are instantiated.",
        "So, we must define two"
      ]
    },
    {
      "heading": "AdjCompl Ad'Com 2",
      "text": [
        "new sets D and D P of steps in-Earley Earley rfeyomp stead of the single set DEAad Additionally, in steps in DEAadrfer we need to introduce a new item (dynamic filtering) to guarantee the correctness of the steps.",
        "such that 0 E adj(M1)",
        "fine steps in DEA Earley into steps in DEAa and DEAadri/CerP2' Correctness of these splittings is guaranteed by the context-free property of TAG (Vijay-Shanker and Weir, 1993) establishing the independence of each adjunction with respect to any other adjunction.",
        "After step refinement, we get the Earley-like parsing algorithm for TAG described in (Neder-hof, 1997), which preserves the valid prefix property having a time complexity 0(n6) with respect to the input string.",
        "In this schema we also need to define a new kind of intermediate pseudo-items",
        "such that 8 ai ap F7 aq+1 ai ai ...ai if and only if (p, q) (-,-) and 6 '4 ai aj if and only if (p, q) = (-, -) .",
        "Schema 5 The parsing system IPEarley corresponding to a the final Earley-like parsing algorithm with the valid prefix property having time complexity 0(n6), for a tree adjoining grammar g and a input string al ... an is defined as follows:",
        "Earley – [h, N7 -+ SM7 • v, m I p, such that 13 E adj(M-r)"
      ]
    },
    {
      "heading": "6 Conclusion",
      "text": [
        "We have described a set of parsing algorithms for TAG creating a continuum which has the CYK-like parsing algorithm by (Vijay-Shanker and Joshi, 1985) as its starting point and the Earley-like parsing algorithm by (Nederhof, 1997) preserving the valid prefix property with time",
        "Pt, N'Y 4 6 • M7 v, k I p, qb [h, 4 v• , k, j p'",
        "Proceedings of EACL '99 complexity 0(n6) as its goal.",
        "As intermediate algorithms, we have defined a bottom-up Earley-like parsing algorithm and an Earley-like parsing algorithm without the valid prefix property, which to our knowledge has not been previously described in literature'.",
        "We have also shown how to transform one algorithm into the next using simple transformations.Other algorithms could also has been included in the continuum, but for reasons of space we have chosen to show only the algorithms we consider milestones in the development of parsing algorithms for TAG.",
        "An interesting project for the future will be to translate the algorithms presented here to several proposed automata models for TAG which have an associated tabulation technique: Strongly Driven 2-Stack Automata (de la Clergerie and Alonso, 1998), Bottom-up 2-Stack Automata (de la Clergerie et al., 1998) and Linear Indexed Automata (Nederhof, 1998)."
      ]
    },
    {
      "heading": "7 Acknowledgments",
      "text": [
        "This work has been partially supported by FEDER of European Union (1FD97-0047-004-02) and Xunta de Galicia (and XUGA20402B97)."
      ]
    }
  ]
}
